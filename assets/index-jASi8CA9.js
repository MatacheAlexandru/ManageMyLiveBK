function TN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function nf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var VT={exports:{}},rf={},FT={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gu=Symbol.for("react.element"),CN=Symbol.for("react.portal"),SN=Symbol.for("react.fragment"),bN=Symbol.for("react.strict_mode"),IN=Symbol.for("react.profiler"),PN=Symbol.for("react.provider"),RN=Symbol.for("react.context"),AN=Symbol.for("react.forward_ref"),kN=Symbol.for("react.suspense"),NN=Symbol.for("react.memo"),DN=Symbol.for("react.lazy"),u_=Symbol.iterator;function ON(t){return t===null||typeof t!="object"?null:(t=u_&&t[u_]||t["@@iterator"],typeof t=="function"?t:null)}var $T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BT=Object.assign,UT={};function ya(t,e,n){this.props=t,this.context=e,this.refs=UT,this.updater=n||$T}ya.prototype.isReactComponent={};ya.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ya.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zT(){}zT.prototype=ya.prototype;function Iv(t,e,n){this.props=t,this.context=e,this.refs=UT,this.updater=n||$T}var Pv=Iv.prototype=new zT;Pv.constructor=Iv;BT(Pv,ya.prototype);Pv.isPureReactComponent=!0;var c_=Array.isArray,HT=Object.prototype.hasOwnProperty,Rv={current:null},WT={key:!0,ref:!0,__self:!0,__source:!0};function qT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)HT.call(e,r)&&!WT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Gu,type:t,key:s,ref:o,props:i,_owner:Rv.current}}function MN(t,e){return{$$typeof:Gu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Av(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gu}function LN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var d_=/\/+/g;function Tp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?LN(""+t.key):e.toString(36)}function vd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Gu:case CN:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Tp(o,0):r,c_(i)?(n="",t!=null&&(n=t.replace(d_,"$&/")+"/"),vd(i,e,n,"",function(u){return u})):i!=null&&(Av(i)&&(i=MN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(d_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",c_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Tp(s,a);o+=vd(s,e,n,l,i)}else if(l=ON(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Tp(s,a++),o+=vd(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function $c(t,e,n){if(t==null)return t;var r=[],i=0;return vd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function jN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ft={current:null},yd={transition:null},VN={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:yd,ReactCurrentOwner:Rv};function KT(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:$c,forEach:function(t,e,n){$c(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return $c(t,function(){e++}),e},toArray:function(t){return $c(t,function(e){return e})||[]},only:function(t){if(!Av(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=ya;fe.Fragment=SN;fe.Profiler=IN;fe.PureComponent=Iv;fe.StrictMode=bN;fe.Suspense=kN;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VN;fe.act=KT;fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=BT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Rv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)HT.call(e,l)&&!WT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Gu,type:t.type,key:i,ref:s,props:r,_owner:o}};fe.createContext=function(t){return t={$$typeof:RN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:PN,_context:t},t.Consumer=t};fe.createElement=qT;fe.createFactory=function(t){var e=qT.bind(null,t);return e.type=t,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:AN,render:t}};fe.isValidElement=Av;fe.lazy=function(t){return{$$typeof:DN,_payload:{_status:-1,_result:t},_init:jN}};fe.memo=function(t,e){return{$$typeof:NN,type:t,compare:e===void 0?null:e}};fe.startTransition=function(t){var e=yd.transition;yd.transition={};try{t()}finally{yd.transition=e}};fe.unstable_act=KT;fe.useCallback=function(t,e){return Ft.current.useCallback(t,e)};fe.useContext=function(t){return Ft.current.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t){return Ft.current.useDeferredValue(t)};fe.useEffect=function(t,e){return Ft.current.useEffect(t,e)};fe.useId=function(){return Ft.current.useId()};fe.useImperativeHandle=function(t,e,n){return Ft.current.useImperativeHandle(t,e,n)};fe.useInsertionEffect=function(t,e){return Ft.current.useInsertionEffect(t,e)};fe.useLayoutEffect=function(t,e){return Ft.current.useLayoutEffect(t,e)};fe.useMemo=function(t,e){return Ft.current.useMemo(t,e)};fe.useReducer=function(t,e,n){return Ft.current.useReducer(t,e,n)};fe.useRef=function(t){return Ft.current.useRef(t)};fe.useState=function(t){return Ft.current.useState(t)};fe.useSyncExternalStore=function(t,e,n){return Ft.current.useSyncExternalStore(t,e,n)};fe.useTransition=function(){return Ft.current.useTransition()};fe.version="18.3.1";FT.exports=fe;var v=FT.exports;const W=nf(v),Hd=TN({__proto__:null,default:W},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FN=v,$N=Symbol.for("react.element"),BN=Symbol.for("react.fragment"),UN=Object.prototype.hasOwnProperty,zN=FN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HN={key:!0,ref:!0,__self:!0,__source:!0};function GT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)UN.call(e,r)&&!HN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:$N,type:t,key:s,ref:o,props:i,_owner:zN.current}}rf.Fragment=BN;rf.jsx=GT;rf.jsxs=GT;VT.exports=rf;var p=VT.exports,QT={exports:{}},hn={},YT={exports:{}},XT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,$){var G=V.length;V.push($);e:for(;0<G;){var q=G-1>>>1,te=V[q];if(0<i(te,$))V[q]=$,V[G]=te,G=q;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var $=V[0],G=V.pop();if(G!==$){V[0]=G;e:for(var q=0,te=V.length,le=te>>>1;q<le;){var Ee=2*(q+1)-1,de=V[Ee],Ie=Ee+1,qe=V[Ie];if(0>i(de,G))Ie<te&&0>i(qe,de)?(V[q]=qe,V[Ie]=G,q=Ie):(V[q]=de,V[Ee]=G,q=Ee);else if(Ie<te&&0>i(qe,G))V[q]=qe,V[Ie]=G,q=Ie;else break e}}return $}function i(V,$){var G=V.sortIndex-$.sortIndex;return G!==0?G:V.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,m=!1,y=!1,T=!1,S=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(V){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=V)r(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(u)}}function R(V){if(T=!1,E(V),!y)if(n(l)!==null)y=!0,Q(O);else{var $=n(u);$!==null&&F(R,$.startTime-V)}}function O(V,$){y=!1,T&&(T=!1,b(w),w=-1),m=!0;var G=f;try{for(E($),h=n(l);h!==null&&(!(h.expirationTime>$)||V&&!N());){var q=h.callback;if(typeof q=="function"){h.callback=null,f=h.priorityLevel;var te=q(h.expirationTime<=$);$=t.unstable_now(),typeof te=="function"?h.callback=te:h===n(l)&&r(l),E($)}else r(l);h=n(l)}if(h!==null)var le=!0;else{var Ee=n(u);Ee!==null&&F(R,Ee.startTime-$),le=!1}return le}finally{h=null,f=G,m=!1}}var A=!1,_=null,w=-1,I=5,P=-1;function N(){return!(t.unstable_now()-P<I)}function M(){if(_!==null){var V=t.unstable_now();P=V;var $=!0;try{$=_(!0,V)}finally{$?D():(A=!1,_=null)}}else A=!1}var D;if(typeof x=="function")D=function(){x(M)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,J=H.port2;H.port1.onmessage=M,D=function(){J.postMessage(null)}}else D=function(){S(M,0)};function Q(V){_=V,A||(A=!0,D())}function F(V,$){w=S(function(){V(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,Q(O))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var G=f;f=$;try{return V()}finally{f=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,$){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var G=f;f=V;try{return $()}finally{f=G}},t.unstable_scheduleCallback=function(V,$,G){var q=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?q+G:q):G=q,V){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=G+te,V={id:d++,callback:$,priorityLevel:V,startTime:G,expirationTime:te,sortIndex:-1},G>q?(V.sortIndex=G,e(u,V),n(l)===null&&V===n(u)&&(T?(b(w),w=-1):T=!0,F(R,G-q))):(V.sortIndex=te,e(l,V),y||m||(y=!0,Q(O))),V},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(V){var $=f;return function(){var G=f;f=$;try{return V.apply(this,arguments)}finally{f=G}}}})(XT);YT.exports=XT;var WN=YT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qN=v,un=WN;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JT=new Set,uu={};function Gs(t,e){Go(t,e),Go(t+"Capture",e)}function Go(t,e){for(uu[t]=e,t=0;t<e.length;t++)JT.add(e[t])}var Or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),km=Object.prototype.hasOwnProperty,KN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h_={},f_={};function GN(t){return km.call(f_,t)?!0:km.call(h_,t)?!1:KN.test(t)?f_[t]=!0:(h_[t]=!0,!1)}function QN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function YN(t,e,n,r){if(e===null||typeof e>"u"||QN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $t(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vt[t]=new $t(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vt[e]=new $t(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vt[t]=new $t(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vt[t]=new $t(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vt[t]=new $t(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vt[t]=new $t(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vt[t]=new $t(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vt[t]=new $t(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vt[t]=new $t(t,5,!1,t.toLowerCase(),null,!1,!1)});var kv=/[\-:]([a-z])/g;function Nv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kv,Nv);vt[e]=new $t(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kv,Nv);vt[e]=new $t(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kv,Nv);vt[e]=new $t(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vt[t]=new $t(t,1,!1,t.toLowerCase(),null,!1,!1)});vt.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vt[t]=new $t(t,1,!1,t.toLowerCase(),null,!0,!0)});function Dv(t,e,n,r){var i=vt.hasOwnProperty(e)?vt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(YN(e,n,i,r)&&(n=null),r||i===null?GN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Wr=qN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bc=Symbol.for("react.element"),wo=Symbol.for("react.portal"),_o=Symbol.for("react.fragment"),Ov=Symbol.for("react.strict_mode"),Nm=Symbol.for("react.profiler"),ZT=Symbol.for("react.provider"),eC=Symbol.for("react.context"),Mv=Symbol.for("react.forward_ref"),Dm=Symbol.for("react.suspense"),Om=Symbol.for("react.suspense_list"),Lv=Symbol.for("react.memo"),ni=Symbol.for("react.lazy"),tC=Symbol.for("react.offscreen"),p_=Symbol.iterator;function al(t){return t===null||typeof t!="object"?null:(t=p_&&t[p_]||t["@@iterator"],typeof t=="function"?t:null)}var je=Object.assign,Cp;function Pl(t){if(Cp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Cp=e&&e[1]||""}return`
`+Cp+t}var Sp=!1;function bp(t,e){if(!t||Sp)return"";Sp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Sp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Pl(t):""}function XN(t){switch(t.tag){case 5:return Pl(t.type);case 16:return Pl("Lazy");case 13:return Pl("Suspense");case 19:return Pl("SuspenseList");case 0:case 2:case 15:return t=bp(t.type,!1),t;case 11:return t=bp(t.type.render,!1),t;case 1:return t=bp(t.type,!0),t;default:return""}}function Mm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _o:return"Fragment";case wo:return"Portal";case Nm:return"Profiler";case Ov:return"StrictMode";case Dm:return"Suspense";case Om:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case eC:return(t.displayName||"Context")+".Consumer";case ZT:return(t._context.displayName||"Context")+".Provider";case Mv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Lv:return e=t.displayName||null,e!==null?e:Mm(t.type)||"Memo";case ni:e=t._payload,t=t._init;try{return Mm(t(e))}catch{}}return null}function JN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mm(e);case 8:return e===Ov?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ai(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ZN(t){var e=nC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Uc(t){t._valueTracker||(t._valueTracker=ZN(t))}function rC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=nC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Wd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Lm(t,e){var n=e.checked;return je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function m_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ai(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iC(t,e){e=e.checked,e!=null&&Dv(t,"checked",e,!1)}function jm(t,e){iC(t,e);var n=Ai(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Vm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Vm(t,e.type,Ai(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function g_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Vm(t,e,n){(e!=="number"||Wd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Rl=Array.isArray;function Lo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ai(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Fm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function v_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Rl(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ai(n)}}function sC(t,e){var n=Ai(e.value),r=Ai(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function y_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function oC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $m(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?oC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zc,aC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(zc=zc||document.createElement("div"),zc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function cu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Vl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eD=["Webkit","ms","Moz","O"];Object.keys(Vl).forEach(function(t){eD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Vl[e]=Vl[t]})});function lC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Vl.hasOwnProperty(t)&&Vl[t]?(""+e).trim():e+"px"}function uC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=lC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var tD=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bm(t,e){if(e){if(tD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Um(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zm=null;function jv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hm=null,jo=null,Vo=null;function w_(t){if(t=Xu(t)){if(typeof Hm!="function")throw Error(z(280));var e=t.stateNode;e&&(e=uf(e),Hm(t.stateNode,t.type,e))}}function cC(t){jo?Vo?Vo.push(t):Vo=[t]:jo=t}function dC(){if(jo){var t=jo,e=Vo;if(Vo=jo=null,w_(t),e)for(t=0;t<e.length;t++)w_(e[t])}}function hC(t,e){return t(e)}function fC(){}var Ip=!1;function pC(t,e,n){if(Ip)return t(e,n);Ip=!0;try{return hC(t,e,n)}finally{Ip=!1,(jo!==null||Vo!==null)&&(fC(),dC())}}function du(t,e){var n=t.stateNode;if(n===null)return null;var r=uf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Wm=!1;if(Or)try{var ll={};Object.defineProperty(ll,"passive",{get:function(){Wm=!0}}),window.addEventListener("test",ll,ll),window.removeEventListener("test",ll,ll)}catch{Wm=!1}function nD(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Fl=!1,qd=null,Kd=!1,qm=null,rD={onError:function(t){Fl=!0,qd=t}};function iD(t,e,n,r,i,s,o,a,l){Fl=!1,qd=null,nD.apply(rD,arguments)}function sD(t,e,n,r,i,s,o,a,l){if(iD.apply(this,arguments),Fl){if(Fl){var u=qd;Fl=!1,qd=null}else throw Error(z(198));Kd||(Kd=!0,qm=u)}}function Qs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function mC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function __(t){if(Qs(t)!==t)throw Error(z(188))}function oD(t){var e=t.alternate;if(!e){if(e=Qs(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return __(i),t;if(s===r)return __(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function gC(t){return t=oD(t),t!==null?vC(t):null}function vC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vC(t);if(e!==null)return e;t=t.sibling}return null}var yC=un.unstable_scheduleCallback,E_=un.unstable_cancelCallback,aD=un.unstable_shouldYield,lD=un.unstable_requestPaint,Ge=un.unstable_now,uD=un.unstable_getCurrentPriorityLevel,Vv=un.unstable_ImmediatePriority,wC=un.unstable_UserBlockingPriority,Gd=un.unstable_NormalPriority,cD=un.unstable_LowPriority,_C=un.unstable_IdlePriority,sf=null,rr=null;function dD(t){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(sf,t,void 0,(t.current.flags&128)===128)}catch{}}var qn=Math.clz32?Math.clz32:pD,hD=Math.log,fD=Math.LN2;function pD(t){return t>>>=0,t===0?32:31-(hD(t)/fD|0)|0}var Hc=64,Wc=4194304;function Al(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Al(a):(s&=o,s!==0&&(r=Al(s)))}else o=n&~i,o!==0?r=Al(o):s!==0&&(r=Al(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-qn(e),i=1<<n,r|=t[n],e&=~i;return r}function mD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-qn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=mD(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Km(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function EC(){var t=Hc;return Hc<<=1,!(Hc&4194240)&&(Hc=64),t}function Pp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Qu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qn(e),t[e]=n}function vD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-qn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Fv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-qn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var xe=0;function xC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var TC,$v,CC,SC,bC,Gm=!1,qc=[],vi=null,yi=null,wi=null,hu=new Map,fu=new Map,si=[],yD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function x_(t,e){switch(t){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":hu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fu.delete(e.pointerId)}}function ul(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Xu(e),e!==null&&$v(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function wD(t,e,n,r,i){switch(e){case"focusin":return vi=ul(vi,t,e,n,r,i),!0;case"dragenter":return yi=ul(yi,t,e,n,r,i),!0;case"mouseover":return wi=ul(wi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return hu.set(s,ul(hu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,fu.set(s,ul(fu.get(s)||null,t,e,n,r,i)),!0}return!1}function IC(t){var e=vs(t.target);if(e!==null){var n=Qs(e);if(n!==null){if(e=n.tag,e===13){if(e=mC(n),e!==null){t.blockedOn=e,bC(t.priority,function(){CC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);zm=r,n.target.dispatchEvent(r),zm=null}else return e=Xu(n),e!==null&&$v(e),t.blockedOn=n,!1;e.shift()}return!0}function T_(t,e,n){wd(t)&&n.delete(e)}function _D(){Gm=!1,vi!==null&&wd(vi)&&(vi=null),yi!==null&&wd(yi)&&(yi=null),wi!==null&&wd(wi)&&(wi=null),hu.forEach(T_),fu.forEach(T_)}function cl(t,e){t.blockedOn===e&&(t.blockedOn=null,Gm||(Gm=!0,un.unstable_scheduleCallback(un.unstable_NormalPriority,_D)))}function pu(t){function e(i){return cl(i,t)}if(0<qc.length){cl(qc[0],t);for(var n=1;n<qc.length;n++){var r=qc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(vi!==null&&cl(vi,t),yi!==null&&cl(yi,t),wi!==null&&cl(wi,t),hu.forEach(e),fu.forEach(e),n=0;n<si.length;n++)r=si[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<si.length&&(n=si[0],n.blockedOn===null);)IC(n),n.blockedOn===null&&si.shift()}var Fo=Wr.ReactCurrentBatchConfig,Yd=!0;function ED(t,e,n,r){var i=xe,s=Fo.transition;Fo.transition=null;try{xe=1,Bv(t,e,n,r)}finally{xe=i,Fo.transition=s}}function xD(t,e,n,r){var i=xe,s=Fo.transition;Fo.transition=null;try{xe=4,Bv(t,e,n,r)}finally{xe=i,Fo.transition=s}}function Bv(t,e,n,r){if(Yd){var i=Qm(t,e,n,r);if(i===null)Vp(t,e,r,Xd,n),x_(t,r);else if(wD(i,t,e,n,r))r.stopPropagation();else if(x_(t,r),e&4&&-1<yD.indexOf(t)){for(;i!==null;){var s=Xu(i);if(s!==null&&TC(s),s=Qm(t,e,n,r),s===null&&Vp(t,e,r,Xd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Vp(t,e,r,null,n)}}var Xd=null;function Qm(t,e,n,r){if(Xd=null,t=jv(r),t=vs(t),t!==null)if(e=Qs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=mC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xd=t,null}function PC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uD()){case Vv:return 1;case wC:return 4;case Gd:case cD:return 16;case _C:return 536870912;default:return 16}default:return 16}}var hi=null,Uv=null,_d=null;function RC(){if(_d)return _d;var t,e=Uv,n=e.length,r,i="value"in hi?hi.value:hi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return _d=i.slice(t,1<r?1-r:void 0)}function Ed(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Kc(){return!0}function C_(){return!1}function fn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Kc:C_,this.isPropagationStopped=C_,this}return je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kc)},persist:function(){},isPersistent:Kc}),e}var wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zv=fn(wa),Yu=je({},wa,{view:0,detail:0}),TD=fn(Yu),Rp,Ap,dl,of=je({},Yu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==dl&&(dl&&t.type==="mousemove"?(Rp=t.screenX-dl.screenX,Ap=t.screenY-dl.screenY):Ap=Rp=0,dl=t),Rp)},movementY:function(t){return"movementY"in t?t.movementY:Ap}}),S_=fn(of),CD=je({},of,{dataTransfer:0}),SD=fn(CD),bD=je({},Yu,{relatedTarget:0}),kp=fn(bD),ID=je({},wa,{animationName:0,elapsedTime:0,pseudoElement:0}),PD=fn(ID),RD=je({},wa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),AD=fn(RD),kD=je({},wa,{data:0}),b_=fn(kD),ND={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=OD[t])?!!e[t]:!1}function Hv(){return MD}var LD=je({},Yu,{key:function(t){if(t.key){var e=ND[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ed(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?DD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hv,charCode:function(t){return t.type==="keypress"?Ed(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ed(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jD=fn(LD),VD=je({},of,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I_=fn(VD),FD=je({},Yu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hv}),$D=fn(FD),BD=je({},wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),UD=fn(BD),zD=je({},of,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),HD=fn(zD),WD=[9,13,27,32],Wv=Or&&"CompositionEvent"in window,$l=null;Or&&"documentMode"in document&&($l=document.documentMode);var qD=Or&&"TextEvent"in window&&!$l,AC=Or&&(!Wv||$l&&8<$l&&11>=$l),P_=" ",R_=!1;function kC(t,e){switch(t){case"keyup":return WD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Eo=!1;function KD(t,e){switch(t){case"compositionend":return NC(e);case"keypress":return e.which!==32?null:(R_=!0,P_);case"textInput":return t=e.data,t===P_&&R_?null:t;default:return null}}function GD(t,e){if(Eo)return t==="compositionend"||!Wv&&kC(t,e)?(t=RC(),_d=Uv=hi=null,Eo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return AC&&e.locale!=="ko"?null:e.data;default:return null}}var QD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!QD[t.type]:e==="textarea"}function DC(t,e,n,r){cC(r),e=Jd(e,"onChange"),0<e.length&&(n=new zv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Bl=null,mu=null;function YD(t){HC(t,0)}function af(t){var e=Co(t);if(rC(e))return t}function XD(t,e){if(t==="change")return e}var OC=!1;if(Or){var Np;if(Or){var Dp="oninput"in document;if(!Dp){var k_=document.createElement("div");k_.setAttribute("oninput","return;"),Dp=typeof k_.oninput=="function"}Np=Dp}else Np=!1;OC=Np&&(!document.documentMode||9<document.documentMode)}function N_(){Bl&&(Bl.detachEvent("onpropertychange",MC),mu=Bl=null)}function MC(t){if(t.propertyName==="value"&&af(mu)){var e=[];DC(e,mu,t,jv(t)),pC(YD,e)}}function JD(t,e,n){t==="focusin"?(N_(),Bl=e,mu=n,Bl.attachEvent("onpropertychange",MC)):t==="focusout"&&N_()}function ZD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return af(mu)}function e2(t,e){if(t==="click")return af(e)}function t2(t,e){if(t==="input"||t==="change")return af(e)}function n2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gn=typeof Object.is=="function"?Object.is:n2;function gu(t,e){if(Gn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!km.call(e,i)||!Gn(t[i],e[i]))return!1}return!0}function D_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function O_(t,e){var n=D_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=D_(n)}}function LC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?LC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jC(){for(var t=window,e=Wd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Wd(t.document)}return e}function qv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function r2(t){var e=jC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&LC(n.ownerDocument.documentElement,n)){if(r!==null&&qv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=O_(n,s);var o=O_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var i2=Or&&"documentMode"in document&&11>=document.documentMode,xo=null,Ym=null,Ul=null,Xm=!1;function M_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xm||xo==null||xo!==Wd(r)||(r=xo,"selectionStart"in r&&qv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ul&&gu(Ul,r)||(Ul=r,r=Jd(Ym,"onSelect"),0<r.length&&(e=new zv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=xo)))}function Gc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var To={animationend:Gc("Animation","AnimationEnd"),animationiteration:Gc("Animation","AnimationIteration"),animationstart:Gc("Animation","AnimationStart"),transitionend:Gc("Transition","TransitionEnd")},Op={},VC={};Or&&(VC=document.createElement("div").style,"AnimationEvent"in window||(delete To.animationend.animation,delete To.animationiteration.animation,delete To.animationstart.animation),"TransitionEvent"in window||delete To.transitionend.transition);function lf(t){if(Op[t])return Op[t];if(!To[t])return t;var e=To[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in VC)return Op[t]=e[n];return t}var FC=lf("animationend"),$C=lf("animationiteration"),BC=lf("animationstart"),UC=lf("transitionend"),zC=new Map,L_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ui(t,e){zC.set(t,e),Gs(e,[t])}for(var Mp=0;Mp<L_.length;Mp++){var Lp=L_[Mp],s2=Lp.toLowerCase(),o2=Lp[0].toUpperCase()+Lp.slice(1);Ui(s2,"on"+o2)}Ui(FC,"onAnimationEnd");Ui($C,"onAnimationIteration");Ui(BC,"onAnimationStart");Ui("dblclick","onDoubleClick");Ui("focusin","onFocus");Ui("focusout","onBlur");Ui(UC,"onTransitionEnd");Go("onMouseEnter",["mouseout","mouseover"]);Go("onMouseLeave",["mouseout","mouseover"]);Go("onPointerEnter",["pointerout","pointerover"]);Go("onPointerLeave",["pointerout","pointerover"]);Gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a2=new Set("cancel close invalid load scroll toggle".split(" ").concat(kl));function j_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,sD(r,e,void 0,t),t.currentTarget=null}function HC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;j_(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;j_(i,a,u),s=l}}}if(Kd)throw t=qm,Kd=!1,qm=null,t}function ke(t,e){var n=e[ng];n===void 0&&(n=e[ng]=new Set);var r=t+"__bubble";n.has(r)||(WC(e,t,2,!1),n.add(r))}function jp(t,e,n){var r=0;e&&(r|=4),WC(n,t,r,e)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function vu(t){if(!t[Qc]){t[Qc]=!0,JT.forEach(function(n){n!=="selectionchange"&&(a2.has(n)||jp(n,!1,t),jp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qc]||(e[Qc]=!0,jp("selectionchange",!1,e))}}function WC(t,e,n,r){switch(PC(e)){case 1:var i=ED;break;case 4:i=xD;break;default:i=Bv}n=i.bind(null,e,n,t),i=void 0,!Wm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Vp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=vs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}pC(function(){var u=s,d=jv(n),h=[];e:{var f=zC.get(t);if(f!==void 0){var m=zv,y=t;switch(t){case"keypress":if(Ed(n)===0)break e;case"keydown":case"keyup":m=jD;break;case"focusin":y="focus",m=kp;break;case"focusout":y="blur",m=kp;break;case"beforeblur":case"afterblur":m=kp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=S_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=SD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=$D;break;case FC:case $C:case BC:m=PD;break;case UC:m=UD;break;case"scroll":m=TD;break;case"wheel":m=HD;break;case"copy":case"cut":case"paste":m=AD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=I_}var T=(e&4)!==0,S=!T&&t==="scroll",b=T?f!==null?f+"Capture":null:f;T=[];for(var x=u,E;x!==null;){E=x;var R=E.stateNode;if(E.tag===5&&R!==null&&(E=R,b!==null&&(R=du(x,b),R!=null&&T.push(yu(x,R,E)))),S)break;x=x.return}0<T.length&&(f=new m(f,y,null,n,d),h.push({event:f,listeners:T}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==zm&&(y=n.relatedTarget||n.fromElement)&&(vs(y)||y[Mr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?vs(y):null,y!==null&&(S=Qs(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(T=S_,R="onMouseLeave",b="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(T=I_,R="onPointerLeave",b="onPointerEnter",x="pointer"),S=m==null?f:Co(m),E=y==null?f:Co(y),f=new T(R,x+"leave",m,n,d),f.target=S,f.relatedTarget=E,R=null,vs(d)===u&&(T=new T(b,x+"enter",y,n,d),T.target=E,T.relatedTarget=S,R=T),S=R,m&&y)t:{for(T=m,b=y,x=0,E=T;E;E=po(E))x++;for(E=0,R=b;R;R=po(R))E++;for(;0<x-E;)T=po(T),x--;for(;0<E-x;)b=po(b),E--;for(;x--;){if(T===b||b!==null&&T===b.alternate)break t;T=po(T),b=po(b)}T=null}else T=null;m!==null&&V_(h,f,m,T,!1),y!==null&&S!==null&&V_(h,S,y,T,!0)}}e:{if(f=u?Co(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var O=XD;else if(A_(f))if(OC)O=t2;else{O=ZD;var A=JD}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(O=e2);if(O&&(O=O(t,u))){DC(h,O,n,d);break e}A&&A(t,f,u),t==="focusout"&&(A=f._wrapperState)&&A.controlled&&f.type==="number"&&Vm(f,"number",f.value)}switch(A=u?Co(u):window,t){case"focusin":(A_(A)||A.contentEditable==="true")&&(xo=A,Ym=u,Ul=null);break;case"focusout":Ul=Ym=xo=null;break;case"mousedown":Xm=!0;break;case"contextmenu":case"mouseup":case"dragend":Xm=!1,M_(h,n,d);break;case"selectionchange":if(i2)break;case"keydown":case"keyup":M_(h,n,d)}var _;if(Wv)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Eo?kC(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(AC&&n.locale!=="ko"&&(Eo||w!=="onCompositionStart"?w==="onCompositionEnd"&&Eo&&(_=RC()):(hi=d,Uv="value"in hi?hi.value:hi.textContent,Eo=!0)),A=Jd(u,w),0<A.length&&(w=new b_(w,t,null,n,d),h.push({event:w,listeners:A}),_?w.data=_:(_=NC(n),_!==null&&(w.data=_)))),(_=qD?KD(t,n):GD(t,n))&&(u=Jd(u,"onBeforeInput"),0<u.length&&(d=new b_("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=_))}HC(h,e)})}function yu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Jd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=du(t,n),s!=null&&r.unshift(yu(t,s,i)),s=du(t,e),s!=null&&r.push(yu(t,s,i))),t=t.return}return r}function po(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function V_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=du(n,s),l!=null&&o.unshift(yu(n,l,a))):i||(l=du(n,s),l!=null&&o.push(yu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var l2=/\r\n?/g,u2=/\u0000|\uFFFD/g;function F_(t){return(typeof t=="string"?t:""+t).replace(l2,`
`).replace(u2,"")}function Yc(t,e,n){if(e=F_(e),F_(t)!==e&&n)throw Error(z(425))}function Zd(){}var Jm=null,Zm=null;function eg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tg=typeof setTimeout=="function"?setTimeout:void 0,c2=typeof clearTimeout=="function"?clearTimeout:void 0,$_=typeof Promise=="function"?Promise:void 0,d2=typeof queueMicrotask=="function"?queueMicrotask:typeof $_<"u"?function(t){return $_.resolve(null).then(t).catch(h2)}:tg;function h2(t){setTimeout(function(){throw t})}function Fp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),pu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);pu(e)}function _i(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function B_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _a=Math.random().toString(36).slice(2),Zn="__reactFiber$"+_a,wu="__reactProps$"+_a,Mr="__reactContainer$"+_a,ng="__reactEvents$"+_a,f2="__reactListeners$"+_a,p2="__reactHandles$"+_a;function vs(t){var e=t[Zn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Mr]||n[Zn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=B_(t);t!==null;){if(n=t[Zn])return n;t=B_(t)}return e}t=n,n=t.parentNode}return null}function Xu(t){return t=t[Zn]||t[Mr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Co(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function uf(t){return t[wu]||null}var rg=[],So=-1;function zi(t){return{current:t}}function Ne(t){0>So||(t.current=rg[So],rg[So]=null,So--)}function Pe(t,e){So++,rg[So]=t.current,t.current=e}var ki={},kt=zi(ki),Gt=zi(!1),ks=ki;function Qo(t,e){var n=t.type.contextTypes;if(!n)return ki;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Qt(t){return t=t.childContextTypes,t!=null}function eh(){Ne(Gt),Ne(kt)}function U_(t,e,n){if(kt.current!==ki)throw Error(z(168));Pe(kt,e),Pe(Gt,n)}function qC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,JN(t)||"Unknown",i));return je({},n,r)}function th(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ki,ks=kt.current,Pe(kt,t),Pe(Gt,Gt.current),!0}function z_(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=qC(t,e,ks),r.__reactInternalMemoizedMergedChildContext=t,Ne(Gt),Ne(kt),Pe(kt,t)):Ne(Gt),Pe(Gt,n)}var xr=null,cf=!1,$p=!1;function KC(t){xr===null?xr=[t]:xr.push(t)}function m2(t){cf=!0,KC(t)}function Hi(){if(!$p&&xr!==null){$p=!0;var t=0,e=xe;try{var n=xr;for(xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xr=null,cf=!1}catch(i){throw xr!==null&&(xr=xr.slice(t+1)),yC(Vv,Hi),i}finally{xe=e,$p=!1}}return null}var bo=[],Io=0,nh=null,rh=0,wn=[],_n=0,Ns=null,Tr=1,Cr="";function ds(t,e){bo[Io++]=rh,bo[Io++]=nh,nh=t,rh=e}function GC(t,e,n){wn[_n++]=Tr,wn[_n++]=Cr,wn[_n++]=Ns,Ns=t;var r=Tr;t=Cr;var i=32-qn(r)-1;r&=~(1<<i),n+=1;var s=32-qn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Tr=1<<32-qn(e)+i|n<<i|r,Cr=s+t}else Tr=1<<s|n<<i|r,Cr=t}function Kv(t){t.return!==null&&(ds(t,1),GC(t,1,0))}function Gv(t){for(;t===nh;)nh=bo[--Io],bo[Io]=null,rh=bo[--Io],bo[Io]=null;for(;t===Ns;)Ns=wn[--_n],wn[_n]=null,Cr=wn[--_n],wn[_n]=null,Tr=wn[--_n],wn[_n]=null}var an=null,sn=null,De=!1,zn=null;function QC(t,e){var n=Tn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function H_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,an=t,sn=_i(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,an=t,sn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ns!==null?{id:Tr,overflow:Cr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Tn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,an=t,sn=null,!0):!1;default:return!1}}function ig(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sg(t){if(De){var e=sn;if(e){var n=e;if(!H_(t,e)){if(ig(t))throw Error(z(418));e=_i(n.nextSibling);var r=an;e&&H_(t,e)?QC(r,n):(t.flags=t.flags&-4097|2,De=!1,an=t)}}else{if(ig(t))throw Error(z(418));t.flags=t.flags&-4097|2,De=!1,an=t}}}function W_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;an=t}function Xc(t){if(t!==an)return!1;if(!De)return W_(t),De=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!eg(t.type,t.memoizedProps)),e&&(e=sn)){if(ig(t))throw YC(),Error(z(418));for(;e;)QC(t,e),e=_i(e.nextSibling)}if(W_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){sn=_i(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}sn=null}}else sn=an?_i(t.stateNode.nextSibling):null;return!0}function YC(){for(var t=sn;t;)t=_i(t.nextSibling)}function Yo(){sn=an=null,De=!1}function Qv(t){zn===null?zn=[t]:zn.push(t)}var g2=Wr.ReactCurrentBatchConfig;function hl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Jc(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function q_(t){var e=t._init;return e(t._payload)}function XC(t){function e(b,x){if(t){var E=b.deletions;E===null?(b.deletions=[x],b.flags|=16):E.push(x)}}function n(b,x){if(!t)return null;for(;x!==null;)e(b,x),x=x.sibling;return null}function r(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function i(b,x){return b=Ci(b,x),b.index=0,b.sibling=null,b}function s(b,x,E){return b.index=E,t?(E=b.alternate,E!==null?(E=E.index,E<x?(b.flags|=2,x):E):(b.flags|=2,x)):(b.flags|=1048576,x)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,x,E,R){return x===null||x.tag!==6?(x=Kp(E,b.mode,R),x.return=b,x):(x=i(x,E),x.return=b,x)}function l(b,x,E,R){var O=E.type;return O===_o?d(b,x,E.props.children,R,E.key):x!==null&&(x.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ni&&q_(O)===x.type)?(R=i(x,E.props),R.ref=hl(b,x,E),R.return=b,R):(R=Pd(E.type,E.key,E.props,null,b.mode,R),R.ref=hl(b,x,E),R.return=b,R)}function u(b,x,E,R){return x===null||x.tag!==4||x.stateNode.containerInfo!==E.containerInfo||x.stateNode.implementation!==E.implementation?(x=Gp(E,b.mode,R),x.return=b,x):(x=i(x,E.children||[]),x.return=b,x)}function d(b,x,E,R,O){return x===null||x.tag!==7?(x=Ss(E,b.mode,R,O),x.return=b,x):(x=i(x,E),x.return=b,x)}function h(b,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Kp(""+x,b.mode,E),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Bc:return E=Pd(x.type,x.key,x.props,null,b.mode,E),E.ref=hl(b,null,x),E.return=b,E;case wo:return x=Gp(x,b.mode,E),x.return=b,x;case ni:var R=x._init;return h(b,R(x._payload),E)}if(Rl(x)||al(x))return x=Ss(x,b.mode,E,null),x.return=b,x;Jc(b,x)}return null}function f(b,x,E,R){var O=x!==null?x.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return O!==null?null:a(b,x,""+E,R);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Bc:return E.key===O?l(b,x,E,R):null;case wo:return E.key===O?u(b,x,E,R):null;case ni:return O=E._init,f(b,x,O(E._payload),R)}if(Rl(E)||al(E))return O!==null?null:d(b,x,E,R,null);Jc(b,E)}return null}function m(b,x,E,R,O){if(typeof R=="string"&&R!==""||typeof R=="number")return b=b.get(E)||null,a(x,b,""+R,O);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Bc:return b=b.get(R.key===null?E:R.key)||null,l(x,b,R,O);case wo:return b=b.get(R.key===null?E:R.key)||null,u(x,b,R,O);case ni:var A=R._init;return m(b,x,E,A(R._payload),O)}if(Rl(R)||al(R))return b=b.get(E)||null,d(x,b,R,O,null);Jc(x,R)}return null}function y(b,x,E,R){for(var O=null,A=null,_=x,w=x=0,I=null;_!==null&&w<E.length;w++){_.index>w?(I=_,_=null):I=_.sibling;var P=f(b,_,E[w],R);if(P===null){_===null&&(_=I);break}t&&_&&P.alternate===null&&e(b,_),x=s(P,x,w),A===null?O=P:A.sibling=P,A=P,_=I}if(w===E.length)return n(b,_),De&&ds(b,w),O;if(_===null){for(;w<E.length;w++)_=h(b,E[w],R),_!==null&&(x=s(_,x,w),A===null?O=_:A.sibling=_,A=_);return De&&ds(b,w),O}for(_=r(b,_);w<E.length;w++)I=m(_,b,w,E[w],R),I!==null&&(t&&I.alternate!==null&&_.delete(I.key===null?w:I.key),x=s(I,x,w),A===null?O=I:A.sibling=I,A=I);return t&&_.forEach(function(N){return e(b,N)}),De&&ds(b,w),O}function T(b,x,E,R){var O=al(E);if(typeof O!="function")throw Error(z(150));if(E=O.call(E),E==null)throw Error(z(151));for(var A=O=null,_=x,w=x=0,I=null,P=E.next();_!==null&&!P.done;w++,P=E.next()){_.index>w?(I=_,_=null):I=_.sibling;var N=f(b,_,P.value,R);if(N===null){_===null&&(_=I);break}t&&_&&N.alternate===null&&e(b,_),x=s(N,x,w),A===null?O=N:A.sibling=N,A=N,_=I}if(P.done)return n(b,_),De&&ds(b,w),O;if(_===null){for(;!P.done;w++,P=E.next())P=h(b,P.value,R),P!==null&&(x=s(P,x,w),A===null?O=P:A.sibling=P,A=P);return De&&ds(b,w),O}for(_=r(b,_);!P.done;w++,P=E.next())P=m(_,b,w,P.value,R),P!==null&&(t&&P.alternate!==null&&_.delete(P.key===null?w:P.key),x=s(P,x,w),A===null?O=P:A.sibling=P,A=P);return t&&_.forEach(function(M){return e(b,M)}),De&&ds(b,w),O}function S(b,x,E,R){if(typeof E=="object"&&E!==null&&E.type===_o&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Bc:e:{for(var O=E.key,A=x;A!==null;){if(A.key===O){if(O=E.type,O===_o){if(A.tag===7){n(b,A.sibling),x=i(A,E.props.children),x.return=b,b=x;break e}}else if(A.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ni&&q_(O)===A.type){n(b,A.sibling),x=i(A,E.props),x.ref=hl(b,A,E),x.return=b,b=x;break e}n(b,A);break}else e(b,A);A=A.sibling}E.type===_o?(x=Ss(E.props.children,b.mode,R,E.key),x.return=b,b=x):(R=Pd(E.type,E.key,E.props,null,b.mode,R),R.ref=hl(b,x,E),R.return=b,b=R)}return o(b);case wo:e:{for(A=E.key;x!==null;){if(x.key===A)if(x.tag===4&&x.stateNode.containerInfo===E.containerInfo&&x.stateNode.implementation===E.implementation){n(b,x.sibling),x=i(x,E.children||[]),x.return=b,b=x;break e}else{n(b,x);break}else e(b,x);x=x.sibling}x=Gp(E,b.mode,R),x.return=b,b=x}return o(b);case ni:return A=E._init,S(b,x,A(E._payload),R)}if(Rl(E))return y(b,x,E,R);if(al(E))return T(b,x,E,R);Jc(b,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,x!==null&&x.tag===6?(n(b,x.sibling),x=i(x,E),x.return=b,b=x):(n(b,x),x=Kp(E,b.mode,R),x.return=b,b=x),o(b)):n(b,x)}return S}var Xo=XC(!0),JC=XC(!1),ih=zi(null),sh=null,Po=null,Yv=null;function Xv(){Yv=Po=sh=null}function Jv(t){var e=ih.current;Ne(ih),t._currentValue=e}function og(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function $o(t,e){sh=t,Yv=Po=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Kt=!0),t.firstContext=null)}function In(t){var e=t._currentValue;if(Yv!==t)if(t={context:t,memoizedValue:e,next:null},Po===null){if(sh===null)throw Error(z(308));Po=t,sh.dependencies={lanes:0,firstContext:t}}else Po=Po.next=t;return e}var ys=null;function Zv(t){ys===null?ys=[t]:ys.push(t)}function ZC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Zv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Lr(t,r)}function Lr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ri=!1;function ey(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Rr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ei(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Lr(t,n)}return i=r.interleaved,i===null?(e.next=e,Zv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Lr(t,n)}function xd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fv(t,n)}}function K_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function oh(t,e,n,r){var i=t.updateQueue;ri=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,T=a;switch(f=e,m=n,T.tag){case 1:if(y=T.payload,typeof y=="function"){h=y.call(m,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=T.payload,f=typeof y=="function"?y.call(m,h,f):y,f==null)break e;h=je({},h,f);break e;case 2:ri=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Os|=o,t.lanes=o,t.memoizedState=h}}function G_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var Ju={},ir=zi(Ju),_u=zi(Ju),Eu=zi(Ju);function ws(t){if(t===Ju)throw Error(z(174));return t}function ty(t,e){switch(Pe(Eu,e),Pe(_u,t),Pe(ir,Ju),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$m(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=$m(e,t)}Ne(ir),Pe(ir,e)}function Jo(){Ne(ir),Ne(_u),Ne(Eu)}function tS(t){ws(Eu.current);var e=ws(ir.current),n=$m(e,t.type);e!==n&&(Pe(_u,t),Pe(ir,n))}function ny(t){_u.current===t&&(Ne(ir),Ne(_u))}var Oe=zi(0);function ah(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bp=[];function ry(){for(var t=0;t<Bp.length;t++)Bp[t]._workInProgressVersionPrimary=null;Bp.length=0}var Td=Wr.ReactCurrentDispatcher,Up=Wr.ReactCurrentBatchConfig,Ds=0,Le=null,nt=null,ut=null,lh=!1,zl=!1,xu=0,v2=0;function Tt(){throw Error(z(321))}function iy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gn(t[n],e[n]))return!1;return!0}function sy(t,e,n,r,i,s){if(Ds=s,Le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Td.current=t===null||t.memoizedState===null?E2:x2,t=n(r,i),zl){s=0;do{if(zl=!1,xu=0,25<=s)throw Error(z(301));s+=1,ut=nt=null,e.updateQueue=null,Td.current=T2,t=n(r,i)}while(zl)}if(Td.current=uh,e=nt!==null&&nt.next!==null,Ds=0,ut=nt=Le=null,lh=!1,e)throw Error(z(300));return t}function oy(){var t=xu!==0;return xu=0,t}function Jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?Le.memoizedState=ut=t:ut=ut.next=t,ut}function Pn(){if(nt===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var e=ut===null?Le.memoizedState:ut.next;if(e!==null)ut=e,nt=t;else{if(t===null)throw Error(z(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},ut===null?Le.memoizedState=ut=t:ut=ut.next=t}return ut}function Tu(t,e){return typeof e=="function"?e(t):e}function zp(t){var e=Pn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=nt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((Ds&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Le.lanes|=d,Os|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Gn(r,e.memoizedState)||(Kt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Le.lanes|=s,Os|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Hp(t){var e=Pn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Gn(s,e.memoizedState)||(Kt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function nS(){}function rS(t,e){var n=Le,r=Pn(),i=e(),s=!Gn(r.memoizedState,i);if(s&&(r.memoizedState=i,Kt=!0),r=r.queue,ay(oS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ut!==null&&ut.memoizedState.tag&1){if(n.flags|=2048,Cu(9,sS.bind(null,n,r,i,e),void 0,null),ct===null)throw Error(z(349));Ds&30||iS(n,e,i)}return i}function iS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sS(t,e,n,r){e.value=n,e.getSnapshot=r,aS(e)&&lS(t)}function oS(t,e,n){return n(function(){aS(e)&&lS(t)})}function aS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gn(t,n)}catch{return!0}}function lS(t){var e=Lr(t,1);e!==null&&Kn(e,t,1,-1)}function Q_(t){var e=Jn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tu,lastRenderedState:t},e.queue=t,t=t.dispatch=_2.bind(null,Le,t),[e.memoizedState,t]}function Cu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function uS(){return Pn().memoizedState}function Cd(t,e,n,r){var i=Jn();Le.flags|=t,i.memoizedState=Cu(1|e,n,void 0,r===void 0?null:r)}function df(t,e,n,r){var i=Pn();r=r===void 0?null:r;var s=void 0;if(nt!==null){var o=nt.memoizedState;if(s=o.destroy,r!==null&&iy(r,o.deps)){i.memoizedState=Cu(e,n,s,r);return}}Le.flags|=t,i.memoizedState=Cu(1|e,n,s,r)}function Y_(t,e){return Cd(8390656,8,t,e)}function ay(t,e){return df(2048,8,t,e)}function cS(t,e){return df(4,2,t,e)}function dS(t,e){return df(4,4,t,e)}function hS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fS(t,e,n){return n=n!=null?n.concat([t]):null,df(4,4,hS.bind(null,e,t),n)}function ly(){}function pS(t,e){var n=Pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&iy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function mS(t,e){var n=Pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&iy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function gS(t,e,n){return Ds&21?(Gn(n,e)||(n=EC(),Le.lanes|=n,Os|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Kt=!0),t.memoizedState=n)}function y2(t,e){var n=xe;xe=n!==0&&4>n?n:4,t(!0);var r=Up.transition;Up.transition={};try{t(!1),e()}finally{xe=n,Up.transition=r}}function vS(){return Pn().memoizedState}function w2(t,e,n){var r=Ti(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yS(t))wS(e,n);else if(n=ZC(t,e,n,r),n!==null){var i=Vt();Kn(n,t,r,i),_S(n,e,r)}}function _2(t,e,n){var r=Ti(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yS(t))wS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Gn(a,o)){var l=e.interleaved;l===null?(i.next=i,Zv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=ZC(t,e,i,r),n!==null&&(i=Vt(),Kn(n,t,r,i),_S(n,e,r))}}function yS(t){var e=t.alternate;return t===Le||e!==null&&e===Le}function wS(t,e){zl=lh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _S(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fv(t,n)}}var uh={readContext:In,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},E2={readContext:In,useCallback:function(t,e){return Jn().memoizedState=[t,e===void 0?null:e],t},useContext:In,useEffect:Y_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Cd(4194308,4,hS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cd(4,2,t,e)},useMemo:function(t,e){var n=Jn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Jn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=w2.bind(null,Le,t),[r.memoizedState,t]},useRef:function(t){var e=Jn();return t={current:t},e.memoizedState=t},useState:Q_,useDebugValue:ly,useDeferredValue:function(t){return Jn().memoizedState=t},useTransition:function(){var t=Q_(!1),e=t[0];return t=y2.bind(null,t[1]),Jn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Le,i=Jn();if(De){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),ct===null)throw Error(z(349));Ds&30||iS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Y_(oS.bind(null,r,s,t),[t]),r.flags|=2048,Cu(9,sS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Jn(),e=ct.identifierPrefix;if(De){var n=Cr,r=Tr;n=(r&~(1<<32-qn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=v2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},x2={readContext:In,useCallback:pS,useContext:In,useEffect:ay,useImperativeHandle:fS,useInsertionEffect:cS,useLayoutEffect:dS,useMemo:mS,useReducer:zp,useRef:uS,useState:function(){return zp(Tu)},useDebugValue:ly,useDeferredValue:function(t){var e=Pn();return gS(e,nt.memoizedState,t)},useTransition:function(){var t=zp(Tu)[0],e=Pn().memoizedState;return[t,e]},useMutableSource:nS,useSyncExternalStore:rS,useId:vS,unstable_isNewReconciler:!1},T2={readContext:In,useCallback:pS,useContext:In,useEffect:ay,useImperativeHandle:fS,useInsertionEffect:cS,useLayoutEffect:dS,useMemo:mS,useReducer:Hp,useRef:uS,useState:function(){return Hp(Tu)},useDebugValue:ly,useDeferredValue:function(t){var e=Pn();return nt===null?e.memoizedState=t:gS(e,nt.memoizedState,t)},useTransition:function(){var t=Hp(Tu)[0],e=Pn().memoizedState;return[t,e]},useMutableSource:nS,useSyncExternalStore:rS,useId:vS,unstable_isNewReconciler:!1};function Bn(t,e){if(t&&t.defaultProps){e=je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ag(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hf={isMounted:function(t){return(t=t._reactInternals)?Qs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Vt(),i=Ti(t),s=Rr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ei(t,s,i),e!==null&&(Kn(e,t,i,r),xd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Vt(),i=Ti(t),s=Rr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ei(t,s,i),e!==null&&(Kn(e,t,i,r),xd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Vt(),r=Ti(t),i=Rr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ei(t,i,r),e!==null&&(Kn(e,t,r,n),xd(e,t,r))}};function X_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!gu(n,r)||!gu(i,s):!0}function ES(t,e,n){var r=!1,i=ki,s=e.contextType;return typeof s=="object"&&s!==null?s=In(s):(i=Qt(e)?ks:kt.current,r=e.contextTypes,s=(r=r!=null)?Qo(t,i):ki),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function J_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&hf.enqueueReplaceState(e,e.state,null)}function lg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ey(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=In(s):(s=Qt(e)?ks:kt.current,i.context=Qo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ag(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&hf.enqueueReplaceState(i,i.state,null),oh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Zo(t,e){try{var n="",r=e;do n+=XN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Wp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ug(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var C2=typeof WeakMap=="function"?WeakMap:Map;function xS(t,e,n){n=Rr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){dh||(dh=!0,wg=r),ug(t,e)},n}function TS(t,e,n){n=Rr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ug(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ug(t,e),typeof r!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Z_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new C2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=V2.bind(null,t,e,n),e.then(t,t))}function eE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function tE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Rr(-1,1),e.tag=2,Ei(n,e,1))),n.lanes|=1),t)}var S2=Wr.ReactCurrentOwner,Kt=!1;function Lt(t,e,n,r){e.child=t===null?JC(e,null,n,r):Xo(e,t.child,n,r)}function nE(t,e,n,r,i){n=n.render;var s=e.ref;return $o(e,i),r=sy(t,e,n,r,s,i),n=oy(),t!==null&&!Kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,jr(t,e,i)):(De&&n&&Kv(e),e.flags|=1,Lt(t,e,r,i),e.child)}function rE(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!gy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,CS(t,e,s,r,i)):(t=Pd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:gu,n(o,r)&&t.ref===e.ref)return jr(t,e,i)}return e.flags|=1,t=Ci(s,r),t.ref=e.ref,t.return=e,e.child=t}function CS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(gu(s,r)&&t.ref===e.ref)if(Kt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Kt=!0);else return e.lanes=t.lanes,jr(t,e,i)}return cg(t,e,n,r,i)}function SS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(Ao,nn),nn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pe(Ao,nn),nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Pe(Ao,nn),nn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Pe(Ao,nn),nn|=r;return Lt(t,e,i,n),e.child}function bS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cg(t,e,n,r,i){var s=Qt(n)?ks:kt.current;return s=Qo(e,s),$o(e,i),n=sy(t,e,n,r,s,i),r=oy(),t!==null&&!Kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,jr(t,e,i)):(De&&r&&Kv(e),e.flags|=1,Lt(t,e,n,i),e.child)}function iE(t,e,n,r,i){if(Qt(n)){var s=!0;th(e)}else s=!1;if($o(e,i),e.stateNode===null)Sd(t,e),ES(e,n,r),lg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=In(u):(u=Qt(n)?ks:kt.current,u=Qo(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&J_(e,o,r,u),ri=!1;var f=e.memoizedState;o.state=f,oh(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Gt.current||ri?(typeof d=="function"&&(ag(e,n,d,r),l=e.memoizedState),(a=ri||X_(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,eS(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Bn(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=In(l):(l=Qt(n)?ks:kt.current,l=Qo(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&J_(e,o,r,l),ri=!1,f=e.memoizedState,o.state=f,oh(e,r,o,i);var y=e.memoizedState;a!==h||f!==y||Gt.current||ri?(typeof m=="function"&&(ag(e,n,m,r),y=e.memoizedState),(u=ri||X_(e,n,u,r,f,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return dg(t,e,n,r,s,i)}function dg(t,e,n,r,i,s){bS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&z_(e,n,!1),jr(t,e,s);r=e.stateNode,S2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Xo(e,t.child,null,s),e.child=Xo(e,null,a,s)):Lt(t,e,a,s),e.memoizedState=r.state,i&&z_(e,n,!0),e.child}function IS(t){var e=t.stateNode;e.pendingContext?U_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&U_(t,e.context,!1),ty(t,e.containerInfo)}function sE(t,e,n,r,i){return Yo(),Qv(i),e.flags|=256,Lt(t,e,n,r),e.child}var hg={dehydrated:null,treeContext:null,retryLane:0};function fg(t){return{baseLanes:t,cachePool:null,transitions:null}}function PS(t,e,n){var r=e.pendingProps,i=Oe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Pe(Oe,i&1),t===null)return sg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=mf(o,r,0,null),t=Ss(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=fg(n),e.memoizedState=hg,t):uy(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return b2(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ci(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ci(a,s):(s=Ss(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?fg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=hg,r}return s=t.child,t=s.sibling,r=Ci(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function uy(t,e){return e=mf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zc(t,e,n,r){return r!==null&&Qv(r),Xo(e,t.child,null,n),t=uy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function b2(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Wp(Error(z(422))),Zc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=mf({mode:"visible",children:r.children},i,0,null),s=Ss(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Xo(e,t.child,null,o),e.child.memoizedState=fg(o),e.memoizedState=hg,s);if(!(e.mode&1))return Zc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(z(419)),r=Wp(s,r,void 0),Zc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Kt||a){if(r=ct,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Lr(t,i),Kn(r,t,i,-1))}return my(),r=Wp(Error(z(421))),Zc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=F2.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,sn=_i(i.nextSibling),an=e,De=!0,zn=null,t!==null&&(wn[_n++]=Tr,wn[_n++]=Cr,wn[_n++]=Ns,Tr=t.id,Cr=t.overflow,Ns=e),e=uy(e,r.children),e.flags|=4096,e)}function oE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),og(t.return,e,n)}function qp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function RS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Lt(t,e,r.children,n),r=Oe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&oE(t,n,e);else if(t.tag===19)oE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pe(Oe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ah(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),qp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ah(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}qp(e,!0,n,null,s);break;case"together":qp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Sd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function jr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Os|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Ci(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ci(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function I2(t,e,n){switch(e.tag){case 3:IS(e),Yo();break;case 5:tS(e);break;case 1:Qt(e.type)&&th(e);break;case 4:ty(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pe(ih,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pe(Oe,Oe.current&1),e.flags|=128,null):n&e.child.childLanes?PS(t,e,n):(Pe(Oe,Oe.current&1),t=jr(t,e,n),t!==null?t.sibling:null);Pe(Oe,Oe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return RS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pe(Oe,Oe.current),r)break;return null;case 22:case 23:return e.lanes=0,SS(t,e,n)}return jr(t,e,n)}var AS,pg,kS,NS;AS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pg=function(){};kS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ws(ir.current);var s=null;switch(n){case"input":i=Lm(t,i),r=Lm(t,r),s=[];break;case"select":i=je({},i,{value:void 0}),r=je({},r,{value:void 0}),s=[];break;case"textarea":i=Fm(t,i),r=Fm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zd)}Bm(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(uu.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(uu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ke("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};NS=function(t,e,n,r){n!==r&&(e.flags|=4)};function fl(t,e){if(!De)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ct(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function P2(t,e,n){var r=e.pendingProps;switch(Gv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(e),null;case 1:return Qt(e.type)&&eh(),Ct(e),null;case 3:return r=e.stateNode,Jo(),Ne(Gt),Ne(kt),ry(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zn!==null&&(xg(zn),zn=null))),pg(t,e),Ct(e),null;case 5:ny(e);var i=ws(Eu.current);if(n=e.type,t!==null&&e.stateNode!=null)kS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Ct(e),null}if(t=ws(ir.current),Xc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Zn]=e,r[wu]=s,t=(e.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(i=0;i<kl.length;i++)ke(kl[i],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":m_(r,s),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ke("invalid",r);break;case"textarea":v_(r,s),ke("invalid",r)}Bm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Yc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Yc(r.textContent,a,t),i=["children",""+a]):uu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ke("scroll",r)}switch(n){case"input":Uc(r),g_(r,s,!0);break;case"textarea":Uc(r),y_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Zd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=oC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Zn]=e,t[wu]=r,AS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Um(n,r),n){case"dialog":ke("cancel",t),ke("close",t),i=r;break;case"iframe":case"object":case"embed":ke("load",t),i=r;break;case"video":case"audio":for(i=0;i<kl.length;i++)ke(kl[i],t);i=r;break;case"source":ke("error",t),i=r;break;case"img":case"image":case"link":ke("error",t),ke("load",t),i=r;break;case"details":ke("toggle",t),i=r;break;case"input":m_(t,r),i=Lm(t,r),ke("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=je({},r,{value:void 0}),ke("invalid",t);break;case"textarea":v_(t,r),i=Fm(t,r),ke("invalid",t);break;default:i=r}Bm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?uC(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&aC(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&cu(t,l):typeof l=="number"&&cu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(uu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ke("scroll",t):l!=null&&Dv(t,s,l,o))}switch(n){case"input":Uc(t),g_(t,r,!1);break;case"textarea":Uc(t),y_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ai(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Lo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Lo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Zd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ct(e),null;case 6:if(t&&e.stateNode!=null)NS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=ws(Eu.current),ws(ir.current),Xc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Zn]=e,(s=r.nodeValue!==n)&&(t=an,t!==null))switch(t.tag){case 3:Yc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Yc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zn]=e,e.stateNode=r}return Ct(e),null;case 13:if(Ne(Oe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&sn!==null&&e.mode&1&&!(e.flags&128))YC(),Yo(),e.flags|=98560,s=!1;else if(s=Xc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[Zn]=e}else Yo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ct(e),s=!1}else zn!==null&&(xg(zn),zn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Oe.current&1?it===0&&(it=3):my())),e.updateQueue!==null&&(e.flags|=4),Ct(e),null);case 4:return Jo(),pg(t,e),t===null&&vu(e.stateNode.containerInfo),Ct(e),null;case 10:return Jv(e.type._context),Ct(e),null;case 17:return Qt(e.type)&&eh(),Ct(e),null;case 19:if(Ne(Oe),s=e.memoizedState,s===null)return Ct(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)fl(s,!1);else{if(it!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ah(t),o!==null){for(e.flags|=128,fl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pe(Oe,Oe.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ge()>ea&&(e.flags|=128,r=!0,fl(s,!1),e.lanes=4194304)}else{if(!r)if(t=ah(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!De)return Ct(e),null}else 2*Ge()-s.renderingStartTime>ea&&n!==1073741824&&(e.flags|=128,r=!0,fl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ge(),e.sibling=null,n=Oe.current,Pe(Oe,r?n&1|2:n&1),e):(Ct(e),null);case 22:case 23:return py(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?nn&1073741824&&(Ct(e),e.subtreeFlags&6&&(e.flags|=8192)):Ct(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function R2(t,e){switch(Gv(e),e.tag){case 1:return Qt(e.type)&&eh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Jo(),Ne(Gt),Ne(kt),ry(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ny(e),null;case 13:if(Ne(Oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Yo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ne(Oe),null;case 4:return Jo(),null;case 10:return Jv(e.type._context),null;case 22:case 23:return py(),null;case 24:return null;default:return null}}var ed=!1,Pt=!1,A2=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Ro(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Be(t,e,r)}else n.current=null}function mg(t,e,n){try{n()}catch(r){Be(t,e,r)}}var aE=!1;function k2(t,e){if(Jm=Yd,t=jC(),qv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zm={focusedElem:t,selectionRange:n},Yd=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var T=y.memoizedProps,S=y.memoizedState,b=e.stateNode,x=b.getSnapshotBeforeUpdate(e.elementType===e.type?T:Bn(e.type,T),S);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(R){Be(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return y=aE,aE=!1,y}function Hl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&mg(e,n,s)}i=i.next}while(i!==r)}}function ff(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function DS(t){var e=t.alternate;e!==null&&(t.alternate=null,DS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Zn],delete e[wu],delete e[ng],delete e[f2],delete e[p2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function OS(t){return t.tag===5||t.tag===3||t.tag===4}function lE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||OS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zd));else if(r!==4&&(t=t.child,t!==null))for(vg(t,e,n),t=t.sibling;t!==null;)vg(t,e,n),t=t.sibling}function yg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(yg(t,e,n),t=t.sibling;t!==null;)yg(t,e,n),t=t.sibling}var ht=null,Un=!1;function Zr(t,e,n){for(n=n.child;n!==null;)MS(t,e,n),n=n.sibling}function MS(t,e,n){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(sf,n)}catch{}switch(n.tag){case 5:Pt||Ro(n,e);case 6:var r=ht,i=Un;ht=null,Zr(t,e,n),ht=r,Un=i,ht!==null&&(Un?(t=ht,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ht.removeChild(n.stateNode));break;case 18:ht!==null&&(Un?(t=ht,n=n.stateNode,t.nodeType===8?Fp(t.parentNode,n):t.nodeType===1&&Fp(t,n),pu(t)):Fp(ht,n.stateNode));break;case 4:r=ht,i=Un,ht=n.stateNode.containerInfo,Un=!0,Zr(t,e,n),ht=r,Un=i;break;case 0:case 11:case 14:case 15:if(!Pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&mg(n,e,o),i=i.next}while(i!==r)}Zr(t,e,n);break;case 1:if(!Pt&&(Ro(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Be(n,e,a)}Zr(t,e,n);break;case 21:Zr(t,e,n);break;case 22:n.mode&1?(Pt=(r=Pt)||n.memoizedState!==null,Zr(t,e,n),Pt=r):Zr(t,e,n);break;default:Zr(t,e,n)}}function uE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new A2),e.forEach(function(r){var i=$2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function $n(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ht=a.stateNode,Un=!1;break e;case 3:ht=a.stateNode.containerInfo,Un=!0;break e;case 4:ht=a.stateNode.containerInfo,Un=!0;break e}a=a.return}if(ht===null)throw Error(z(160));MS(s,o,i),ht=null,Un=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Be(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)LS(e,t),e=e.sibling}function LS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($n(e,t),Xn(t),r&4){try{Hl(3,t,t.return),ff(3,t)}catch(T){Be(t,t.return,T)}try{Hl(5,t,t.return)}catch(T){Be(t,t.return,T)}}break;case 1:$n(e,t),Xn(t),r&512&&n!==null&&Ro(n,n.return);break;case 5:if($n(e,t),Xn(t),r&512&&n!==null&&Ro(n,n.return),t.flags&32){var i=t.stateNode;try{cu(i,"")}catch(T){Be(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&iC(i,s),Um(a,o);var u=Um(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?uC(i,h):d==="dangerouslySetInnerHTML"?aC(i,h):d==="children"?cu(i,h):Dv(i,d,h,u)}switch(a){case"input":jm(i,s);break;case"textarea":sC(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Lo(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?Lo(i,!!s.multiple,s.defaultValue,!0):Lo(i,!!s.multiple,s.multiple?[]:"",!1))}i[wu]=s}catch(T){Be(t,t.return,T)}}break;case 6:if($n(e,t),Xn(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(T){Be(t,t.return,T)}}break;case 3:if($n(e,t),Xn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pu(e.containerInfo)}catch(T){Be(t,t.return,T)}break;case 4:$n(e,t),Xn(t);break;case 13:$n(e,t),Xn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(hy=Ge())),r&4&&uE(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Pt=(u=Pt)||d,$n(e,t),Pt=u):$n(e,t),Xn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Z=t,d=t.child;d!==null;){for(h=Z=d;Z!==null;){switch(f=Z,m=f.child,f.tag){case 0:case 11:case 14:case 15:Hl(4,f,f.return);break;case 1:Ro(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(T){Be(r,n,T)}}break;case 5:Ro(f,f.return);break;case 22:if(f.memoizedState!==null){dE(h);continue}}m!==null?(m.return=f,Z=m):dE(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=lC("display",o))}catch(T){Be(t,t.return,T)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(T){Be(t,t.return,T)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:$n(e,t),Xn(t),r&4&&uE(t);break;case 21:break;default:$n(e,t),Xn(t)}}function Xn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(OS(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(cu(i,""),r.flags&=-33);var s=lE(t);yg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=lE(t);vg(t,a,o);break;default:throw Error(z(161))}}catch(l){Be(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function N2(t,e,n){Z=t,jS(t)}function jS(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var i=Z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ed;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Pt;a=ed;var u=Pt;if(ed=o,(Pt=l)&&!u)for(Z=i;Z!==null;)o=Z,l=o.child,o.tag===22&&o.memoizedState!==null?hE(i):l!==null?(l.return=o,Z=l):hE(i);for(;s!==null;)Z=s,jS(s),s=s.sibling;Z=i,ed=a,Pt=u}cE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Z=s):cE(t)}}function cE(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pt||ff(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Pt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Bn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&G_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}G_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&pu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Pt||e.flags&512&&gg(e)}catch(f){Be(e,e.return,f)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function dE(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function hE(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ff(4,e)}catch(l){Be(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Be(e,i,l)}}var s=e.return;try{gg(e)}catch(l){Be(e,s,l)}break;case 5:var o=e.return;try{gg(e)}catch(l){Be(e,o,l)}}}catch(l){Be(e,e.return,l)}if(e===t){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var D2=Math.ceil,ch=Wr.ReactCurrentDispatcher,cy=Wr.ReactCurrentOwner,Cn=Wr.ReactCurrentBatchConfig,ve=0,ct=null,Ze=null,mt=0,nn=0,Ao=zi(0),it=0,Su=null,Os=0,pf=0,dy=0,Wl=null,qt=null,hy=0,ea=1/0,Er=null,dh=!1,wg=null,xi=null,td=!1,fi=null,hh=0,ql=0,_g=null,bd=-1,Id=0;function Vt(){return ve&6?Ge():bd!==-1?bd:bd=Ge()}function Ti(t){return t.mode&1?ve&2&&mt!==0?mt&-mt:g2.transition!==null?(Id===0&&(Id=EC()),Id):(t=xe,t!==0||(t=window.event,t=t===void 0?16:PC(t.type)),t):1}function Kn(t,e,n,r){if(50<ql)throw ql=0,_g=null,Error(z(185));Qu(t,n,r),(!(ve&2)||t!==ct)&&(t===ct&&(!(ve&2)&&(pf|=n),it===4&&oi(t,mt)),Yt(t,r),n===1&&ve===0&&!(e.mode&1)&&(ea=Ge()+500,cf&&Hi()))}function Yt(t,e){var n=t.callbackNode;gD(t,e);var r=Qd(t,t===ct?mt:0);if(r===0)n!==null&&E_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&E_(n),e===1)t.tag===0?m2(fE.bind(null,t)):KC(fE.bind(null,t)),d2(function(){!(ve&6)&&Hi()}),n=null;else{switch(xC(r)){case 1:n=Vv;break;case 4:n=wC;break;case 16:n=Gd;break;case 536870912:n=_C;break;default:n=Gd}n=WS(n,VS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function VS(t,e){if(bd=-1,Id=0,ve&6)throw Error(z(327));var n=t.callbackNode;if(Bo()&&t.callbackNode!==n)return null;var r=Qd(t,t===ct?mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fh(t,r);else{e=r;var i=ve;ve|=2;var s=$S();(ct!==t||mt!==e)&&(Er=null,ea=Ge()+500,Cs(t,e));do try{L2();break}catch(a){FS(t,a)}while(!0);Xv(),ch.current=s,ve=i,Ze!==null?e=0:(ct=null,mt=0,e=it)}if(e!==0){if(e===2&&(i=Km(t),i!==0&&(r=i,e=Eg(t,i))),e===1)throw n=Su,Cs(t,0),oi(t,r),Yt(t,Ge()),n;if(e===6)oi(t,r);else{if(i=t.current.alternate,!(r&30)&&!O2(i)&&(e=fh(t,r),e===2&&(s=Km(t),s!==0&&(r=s,e=Eg(t,s))),e===1))throw n=Su,Cs(t,0),oi(t,r),Yt(t,Ge()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:hs(t,qt,Er);break;case 3:if(oi(t,r),(r&130023424)===r&&(e=hy+500-Ge(),10<e)){if(Qd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Vt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=tg(hs.bind(null,t,qt,Er),e);break}hs(t,qt,Er);break;case 4:if(oi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-qn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*D2(r/1960))-r,10<r){t.timeoutHandle=tg(hs.bind(null,t,qt,Er),r);break}hs(t,qt,Er);break;case 5:hs(t,qt,Er);break;default:throw Error(z(329))}}}return Yt(t,Ge()),t.callbackNode===n?VS.bind(null,t):null}function Eg(t,e){var n=Wl;return t.current.memoizedState.isDehydrated&&(Cs(t,e).flags|=256),t=fh(t,e),t!==2&&(e=qt,qt=n,e!==null&&xg(e)),t}function xg(t){qt===null?qt=t:qt.push.apply(qt,t)}function O2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Gn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oi(t,e){for(e&=~dy,e&=~pf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qn(e),r=1<<n;t[n]=-1,e&=~r}}function fE(t){if(ve&6)throw Error(z(327));Bo();var e=Qd(t,0);if(!(e&1))return Yt(t,Ge()),null;var n=fh(t,e);if(t.tag!==0&&n===2){var r=Km(t);r!==0&&(e=r,n=Eg(t,r))}if(n===1)throw n=Su,Cs(t,0),oi(t,e),Yt(t,Ge()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,hs(t,qt,Er),Yt(t,Ge()),null}function fy(t,e){var n=ve;ve|=1;try{return t(e)}finally{ve=n,ve===0&&(ea=Ge()+500,cf&&Hi())}}function Ms(t){fi!==null&&fi.tag===0&&!(ve&6)&&Bo();var e=ve;ve|=1;var n=Cn.transition,r=xe;try{if(Cn.transition=null,xe=1,t)return t()}finally{xe=r,Cn.transition=n,ve=e,!(ve&6)&&Hi()}}function py(){nn=Ao.current,Ne(Ao)}function Cs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,c2(n)),Ze!==null)for(n=Ze.return;n!==null;){var r=n;switch(Gv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&eh();break;case 3:Jo(),Ne(Gt),Ne(kt),ry();break;case 5:ny(r);break;case 4:Jo();break;case 13:Ne(Oe);break;case 19:Ne(Oe);break;case 10:Jv(r.type._context);break;case 22:case 23:py()}n=n.return}if(ct=t,Ze=t=Ci(t.current,null),mt=nn=e,it=0,Su=null,dy=pf=Os=0,qt=Wl=null,ys!==null){for(e=0;e<ys.length;e++)if(n=ys[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ys=null}return t}function FS(t,e){do{var n=Ze;try{if(Xv(),Td.current=uh,lh){for(var r=Le.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}lh=!1}if(Ds=0,ut=nt=Le=null,zl=!1,xu=0,cy.current=null,n===null||n.return===null){it=1,Su=e,Ze=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=eE(o);if(m!==null){m.flags&=-257,tE(m,o,a,s,e),m.mode&1&&Z_(s,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var T=new Set;T.add(l),e.updateQueue=T}else y.add(l);break e}else{if(!(e&1)){Z_(s,u,e),my();break e}l=Error(z(426))}}else if(De&&a.mode&1){var S=eE(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),tE(S,o,a,s,e),Qv(Zo(l,a));break e}}s=l=Zo(l,a),it!==4&&(it=2),Wl===null?Wl=[s]:Wl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=xS(s,l,e);K_(s,b);break e;case 1:a=l;var x=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(xi===null||!xi.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=TS(s,a,e);K_(s,R);break e}}s=s.return}while(s!==null)}US(n)}catch(O){e=O,Ze===n&&n!==null&&(Ze=n=n.return);continue}break}while(!0)}function $S(){var t=ch.current;return ch.current=uh,t===null?uh:t}function my(){(it===0||it===3||it===2)&&(it=4),ct===null||!(Os&268435455)&&!(pf&268435455)||oi(ct,mt)}function fh(t,e){var n=ve;ve|=2;var r=$S();(ct!==t||mt!==e)&&(Er=null,Cs(t,e));do try{M2();break}catch(i){FS(t,i)}while(!0);if(Xv(),ve=n,ch.current=r,Ze!==null)throw Error(z(261));return ct=null,mt=0,it}function M2(){for(;Ze!==null;)BS(Ze)}function L2(){for(;Ze!==null&&!aD();)BS(Ze)}function BS(t){var e=HS(t.alternate,t,nn);t.memoizedProps=t.pendingProps,e===null?US(t):Ze=e,cy.current=null}function US(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=R2(n,e),n!==null){n.flags&=32767,Ze=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{it=6,Ze=null;return}}else if(n=P2(n,e,nn),n!==null){Ze=n;return}if(e=e.sibling,e!==null){Ze=e;return}Ze=e=t}while(e!==null);it===0&&(it=5)}function hs(t,e,n){var r=xe,i=Cn.transition;try{Cn.transition=null,xe=1,j2(t,e,n,r)}finally{Cn.transition=i,xe=r}return null}function j2(t,e,n,r){do Bo();while(fi!==null);if(ve&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(vD(t,s),t===ct&&(Ze=ct=null,mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||td||(td=!0,WS(Gd,function(){return Bo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Cn.transition,Cn.transition=null;var o=xe;xe=1;var a=ve;ve|=4,cy.current=null,k2(t,n),LS(n,t),r2(Zm),Yd=!!Jm,Zm=Jm=null,t.current=n,N2(n),lD(),ve=a,xe=o,Cn.transition=s}else t.current=n;if(td&&(td=!1,fi=t,hh=i),s=t.pendingLanes,s===0&&(xi=null),dD(n.stateNode),Yt(t,Ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(dh)throw dh=!1,t=wg,wg=null,t;return hh&1&&t.tag!==0&&Bo(),s=t.pendingLanes,s&1?t===_g?ql++:(ql=0,_g=t):ql=0,Hi(),null}function Bo(){if(fi!==null){var t=xC(hh),e=Cn.transition,n=xe;try{if(Cn.transition=null,xe=16>t?16:t,fi===null)var r=!1;else{if(t=fi,fi=null,hh=0,ve&6)throw Error(z(331));var i=ve;for(ve|=4,Z=t.current;Z!==null;){var s=Z,o=s.child;if(Z.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Z=u;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:Hl(8,d,s)}var h=d.child;if(h!==null)h.return=d,Z=h;else for(;Z!==null;){d=Z;var f=d.sibling,m=d.return;if(DS(d),d===u){Z=null;break}if(f!==null){f.return=m,Z=f;break}Z=m}}}var y=s.alternate;if(y!==null){var T=y.child;if(T!==null){y.child=null;do{var S=T.sibling;T.sibling=null,T=S}while(T!==null)}}Z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Z=o;else e:for(;Z!==null;){if(s=Z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Hl(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,Z=b;break e}Z=s.return}}var x=t.current;for(Z=x;Z!==null;){o=Z;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,Z=E;else e:for(o=x;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ff(9,a)}}catch(O){Be(a,a.return,O)}if(a===o){Z=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,Z=R;break e}Z=a.return}}if(ve=i,Hi(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(sf,t)}catch{}r=!0}return r}finally{xe=n,Cn.transition=e}}return!1}function pE(t,e,n){e=Zo(n,e),e=xS(t,e,1),t=Ei(t,e,1),e=Vt(),t!==null&&(Qu(t,1,e),Yt(t,e))}function Be(t,e,n){if(t.tag===3)pE(t,t,n);else for(;e!==null;){if(e.tag===3){pE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xi===null||!xi.has(r))){t=Zo(n,t),t=TS(e,t,1),e=Ei(e,t,1),t=Vt(),e!==null&&(Qu(e,1,t),Yt(e,t));break}}e=e.return}}function V2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Vt(),t.pingedLanes|=t.suspendedLanes&n,ct===t&&(mt&n)===n&&(it===4||it===3&&(mt&130023424)===mt&&500>Ge()-hy?Cs(t,0):dy|=n),Yt(t,e)}function zS(t,e){e===0&&(t.mode&1?(e=Wc,Wc<<=1,!(Wc&130023424)&&(Wc=4194304)):e=1);var n=Vt();t=Lr(t,e),t!==null&&(Qu(t,e,n),Yt(t,n))}function F2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zS(t,n)}function $2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),zS(t,n)}var HS;HS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Gt.current)Kt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Kt=!1,I2(t,e,n);Kt=!!(t.flags&131072)}else Kt=!1,De&&e.flags&1048576&&GC(e,rh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Sd(t,e),t=e.pendingProps;var i=Qo(e,kt.current);$o(e,n),i=sy(null,e,r,t,i,n);var s=oy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qt(r)?(s=!0,th(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ey(e),i.updater=hf,e.stateNode=i,i._reactInternals=e,lg(e,r,t,n),e=dg(null,e,r,!0,s,n)):(e.tag=0,De&&s&&Kv(e),Lt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Sd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=U2(r),t=Bn(r,t),i){case 0:e=cg(null,e,r,t,n);break e;case 1:e=iE(null,e,r,t,n);break e;case 11:e=nE(null,e,r,t,n);break e;case 14:e=rE(null,e,r,Bn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bn(r,i),cg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bn(r,i),iE(t,e,r,i,n);case 3:e:{if(IS(e),t===null)throw Error(z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,eS(t,e),oh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Zo(Error(z(423)),e),e=sE(t,e,r,n,i);break e}else if(r!==i){i=Zo(Error(z(424)),e),e=sE(t,e,r,n,i);break e}else for(sn=_i(e.stateNode.containerInfo.firstChild),an=e,De=!0,zn=null,n=JC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yo(),r===i){e=jr(t,e,n);break e}Lt(t,e,r,n)}e=e.child}return e;case 5:return tS(e),t===null&&sg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,eg(r,i)?o=null:s!==null&&eg(r,s)&&(e.flags|=32),bS(t,e),Lt(t,e,o,n),e.child;case 6:return t===null&&sg(e),null;case 13:return PS(t,e,n);case 4:return ty(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xo(e,null,r,n):Lt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bn(r,i),nE(t,e,r,i,n);case 7:return Lt(t,e,e.pendingProps,n),e.child;case 8:return Lt(t,e,e.pendingProps.children,n),e.child;case 12:return Lt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Pe(ih,r._currentValue),r._currentValue=o,s!==null)if(Gn(s.value,o)){if(s.children===i.children&&!Gt.current){e=jr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Rr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),og(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),og(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Lt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,$o(e,n),i=In(i),r=r(i),e.flags|=1,Lt(t,e,r,n),e.child;case 14:return r=e.type,i=Bn(r,e.pendingProps),i=Bn(r.type,i),rE(t,e,r,i,n);case 15:return CS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bn(r,i),Sd(t,e),e.tag=1,Qt(r)?(t=!0,th(e)):t=!1,$o(e,n),ES(e,r,i),lg(e,r,i,n),dg(null,e,r,!0,t,n);case 19:return RS(t,e,n);case 22:return SS(t,e,n)}throw Error(z(156,e.tag))};function WS(t,e){return yC(t,e)}function B2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,e,n,r){return new B2(t,e,n,r)}function gy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function U2(t){if(typeof t=="function")return gy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Mv)return 11;if(t===Lv)return 14}return 2}function Ci(t,e){var n=t.alternate;return n===null?(n=Tn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Pd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")gy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case _o:return Ss(n.children,i,s,e);case Ov:o=8,i|=8;break;case Nm:return t=Tn(12,n,e,i|2),t.elementType=Nm,t.lanes=s,t;case Dm:return t=Tn(13,n,e,i),t.elementType=Dm,t.lanes=s,t;case Om:return t=Tn(19,n,e,i),t.elementType=Om,t.lanes=s,t;case tC:return mf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ZT:o=10;break e;case eC:o=9;break e;case Mv:o=11;break e;case Lv:o=14;break e;case ni:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=Tn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ss(t,e,n,r){return t=Tn(7,t,r,e),t.lanes=n,t}function mf(t,e,n,r){return t=Tn(22,t,r,e),t.elementType=tC,t.lanes=n,t.stateNode={isHidden:!1},t}function Kp(t,e,n){return t=Tn(6,t,null,e),t.lanes=n,t}function Gp(t,e,n){return e=Tn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function z2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pp(0),this.expirationTimes=Pp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vy(t,e,n,r,i,s,o,a,l){return t=new z2(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Tn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ey(s),t}function H2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function qS(t){if(!t)return ki;t=t._reactInternals;e:{if(Qs(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Qt(n))return qC(t,n,e)}return e}function KS(t,e,n,r,i,s,o,a,l){return t=vy(n,r,!0,t,i,s,o,a,l),t.context=qS(null),n=t.current,r=Vt(),i=Ti(n),s=Rr(r,i),s.callback=e??null,Ei(n,s,i),t.current.lanes=i,Qu(t,i,r),Yt(t,r),t}function gf(t,e,n,r){var i=e.current,s=Vt(),o=Ti(i);return n=qS(n),e.context===null?e.context=n:e.pendingContext=n,e=Rr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ei(i,e,o),t!==null&&(Kn(t,i,o,s),xd(t,i,o)),o}function ph(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yy(t,e){mE(t,e),(t=t.alternate)&&mE(t,e)}function W2(){return null}var GS=typeof reportError=="function"?reportError:function(t){console.error(t)};function wy(t){this._internalRoot=t}vf.prototype.render=wy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));gf(t,e,null,null)};vf.prototype.unmount=wy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ms(function(){gf(null,t,null,null)}),e[Mr]=null}};function vf(t){this._internalRoot=t}vf.prototype.unstable_scheduleHydration=function(t){if(t){var e=SC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<si.length&&e!==0&&e<si[n].priority;n++);si.splice(n,0,t),n===0&&IC(t)}};function _y(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gE(){}function q2(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ph(o);s.call(u)}}var o=KS(e,r,t,0,null,!1,!1,"",gE);return t._reactRootContainer=o,t[Mr]=o.current,vu(t.nodeType===8?t.parentNode:t),Ms(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=ph(l);a.call(u)}}var l=vy(t,0,!1,null,null,!1,!1,"",gE);return t._reactRootContainer=l,t[Mr]=l.current,vu(t.nodeType===8?t.parentNode:t),Ms(function(){gf(e,l,n,r)}),l}function wf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ph(o);a.call(l)}}gf(e,o,t,i)}else o=q2(n,e,t,i,r);return ph(o)}TC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Al(e.pendingLanes);n!==0&&(Fv(e,n|1),Yt(e,Ge()),!(ve&6)&&(ea=Ge()+500,Hi()))}break;case 13:Ms(function(){var r=Lr(t,1);if(r!==null){var i=Vt();Kn(r,t,1,i)}}),yy(t,1)}};$v=function(t){if(t.tag===13){var e=Lr(t,134217728);if(e!==null){var n=Vt();Kn(e,t,134217728,n)}yy(t,134217728)}};CC=function(t){if(t.tag===13){var e=Ti(t),n=Lr(t,e);if(n!==null){var r=Vt();Kn(n,t,e,r)}yy(t,e)}};SC=function(){return xe};bC=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}};Hm=function(t,e,n){switch(e){case"input":if(jm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=uf(r);if(!i)throw Error(z(90));rC(r),jm(r,i)}}}break;case"textarea":sC(t,n);break;case"select":e=n.value,e!=null&&Lo(t,!!n.multiple,e,!1)}};hC=fy;fC=Ms;var K2={usingClientEntryPoint:!1,Events:[Xu,Co,uf,cC,dC,fy]},pl={findFiberByHostInstance:vs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},G2={bundleType:pl.bundleType,version:pl.version,rendererPackageName:pl.rendererPackageName,rendererConfig:pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gC(t),t===null?null:t.stateNode},findFiberByHostInstance:pl.findFiberByHostInstance||W2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{sf=nd.inject(G2),rr=nd}catch{}}hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K2;hn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_y(e))throw Error(z(200));return H2(t,e,null,n)};hn.createRoot=function(t,e){if(!_y(t))throw Error(z(299));var n=!1,r="",i=GS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=vy(t,1,!1,null,null,n,!1,r,i),t[Mr]=e.current,vu(t.nodeType===8?t.parentNode:t),new wy(e)};hn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=gC(e),t=t===null?null:t.stateNode,t};hn.flushSync=function(t){return Ms(t)};hn.hydrate=function(t,e,n){if(!yf(e))throw Error(z(200));return wf(null,t,e,!0,n)};hn.hydrateRoot=function(t,e,n){if(!_y(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=GS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=KS(e,null,t,1,n??null,i,!1,s,o),t[Mr]=e.current,vu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new vf(e)};hn.render=function(t,e,n){if(!yf(e))throw Error(z(200));return wf(null,t,e,!1,n)};hn.unmountComponentAtNode=function(t){if(!yf(t))throw Error(z(40));return t._reactRootContainer?(Ms(function(){wf(null,null,t,!1,function(){t._reactRootContainer=null,t[Mr]=null})}),!0):!1};hn.unstable_batchedUpdates=fy;hn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!yf(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return wf(t,e,n,!1,r)};hn.version="18.3.1-next-f1338f8080-20240426";function QS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QS)}catch(t){console.error(t)}}QS(),QT.exports=hn;var Xt=QT.exports,YS,vE=Xt;YS=vE.createRoot,vE.hydrateRoot;/**
 * @remix-run/router v1.19.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bu(){return bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bu.apply(this,arguments)}var pi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(pi||(pi={}));const yE="popstate";function Q2(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=Ys(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Tg("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:mh(s))}function r(i,s){Ey(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return X2(e,n,r,t)}function ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ey(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Y2(){return Math.random().toString(36).substr(2,8)}function wE(t,e){return{usr:t.state,key:t.key,idx:e}}function Tg(t,e,n,r){return n===void 0&&(n=null),bu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ys(e):e,{state:n,key:e&&e.key||r||Y2()})}function mh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ys(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function X2(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=pi.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(bu({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=pi.Pop;let S=d(),b=S==null?null:S-u;u=S,l&&l({action:a,location:T.location,delta:b})}function f(S,b){a=pi.Push;let x=Tg(T.location,S,b);n&&n(x,S),u=d()+1;let E=wE(x,u),R=T.createHref(x);try{o.pushState(E,"",R)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(R)}s&&l&&l({action:a,location:T.location,delta:1})}function m(S,b){a=pi.Replace;let x=Tg(T.location,S,b);n&&n(x,S),u=d();let E=wE(x,u),R=T.createHref(x);o.replaceState(E,"",R),s&&l&&l({action:a,location:T.location,delta:0})}function y(S){let b=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof S=="string"?S:mh(S);return x=x.replace(/ $/,"%20"),ze(b,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,b)}let T={get action(){return a},get location(){return t(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(yE,h),l=S,()=>{i.removeEventListener(yE,h),l=null}},createHref(S){return e(i,S)},createURL:y,encodeLocation(S){let b=y(S);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:m,go(S){return o.go(S)}};return T}var _E;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(_E||(_E={}));function J2(t,e,n){return n===void 0&&(n="/"),Z2(t,e,n,!1)}function Z2(t,e,n,r){let i=typeof e=="string"?Ys(e):e,s=ta(i.pathname||"/",n);if(s==null)return null;let o=XS(t);eO(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=dO(s);a=uO(o[l],u,r)}return a}function XS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ze(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Si([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(ze(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),XS(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:aO(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of JS(s.path))i(s,o,l)}),e}function JS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=JS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function eO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:lO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const tO=/^:[\w-]+$/,nO=3,rO=2,iO=1,sO=10,oO=-2,EE=t=>t==="*";function aO(t,e){let n=t.split("/"),r=n.length;return n.some(EE)&&(r+=oO),e&&(r+=rO),n.filter(i=>!EE(i)).reduce((i,s)=>i+(tO.test(s)?nO:s===""?iO:sO),r)}function lO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function uO(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=gh({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=gh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Si([s,h.pathname]),pathnameBase:mO(Si([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Si([s,h.pathnameBase]))}return o}function gh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=cO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let T=a[h]||"";o=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const y=a[h];return m&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function cO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ey(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function dO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ey(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ta(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function hO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ys(t):t;return{pathname:n?n.startsWith("/")?n:fO(n,e):e,search:gO(r),hash:vO(i)}}function fO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Qp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ZS(t,e){let n=pO(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function eb(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ys(t):(i=bu({},t),ze(!i.pathname||!i.pathname.includes("?"),Qp("?","pathname","search",i)),ze(!i.pathname||!i.pathname.includes("#"),Qp("#","pathname","hash",i)),ze(!i.search||!i.search.includes("#"),Qp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=hO(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Si=t=>t.join("/").replace(/\/\/+/g,"/"),mO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),gO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function yO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const tb=["post","put","patch","delete"];new Set(tb);const wO=["get",...tb];new Set(wO);/**
 * React Router v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Iu(){return Iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iu.apply(this,arguments)}const _f=v.createContext(null),nb=v.createContext(null),Wi=v.createContext(null),Ef=v.createContext(null),Xs=v.createContext({outlet:null,matches:[],isDataRoute:!1}),rb=v.createContext(null);function _O(t,e){let{relative:n}=e===void 0?{}:e;Zu()||ze(!1);let{basename:r,navigator:i}=v.useContext(Wi),{hash:s,pathname:o,search:a}=Tf(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Si([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Zu(){return v.useContext(Ef)!=null}function Ea(){return Zu()||ze(!1),v.useContext(Ef).location}function ib(t){v.useContext(Wi).static||v.useLayoutEffect(t)}function xf(){let{isDataRoute:t}=v.useContext(Xs);return t?DO():EO()}function EO(){Zu()||ze(!1);let t=v.useContext(_f),{basename:e,future:n,navigator:r}=v.useContext(Wi),{matches:i}=v.useContext(Xs),{pathname:s}=Ea(),o=JSON.stringify(ZS(i,n.v7_relativeSplatPath)),a=v.useRef(!1);return ib(()=>{a.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=eb(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Si([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}function Tf(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=v.useContext(Wi),{matches:i}=v.useContext(Xs),{pathname:s}=Ea(),o=JSON.stringify(ZS(i,r.v7_relativeSplatPath));return v.useMemo(()=>eb(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function xO(t,e){return TO(t,e)}function TO(t,e,n,r){Zu()||ze(!1);let{navigator:i}=v.useContext(Wi),{matches:s}=v.useContext(Xs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Ea(),d;if(e){var h;let S=typeof e=="string"?Ys(e):e;l==="/"||(h=S.pathname)!=null&&h.startsWith(l)||ze(!1),d=S}else d=u;let f=d.pathname||"/",m=f;if(l!=="/"){let S=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(S.length).join("/")}let y=J2(t,{pathname:m}),T=PO(y&&y.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:Si([l,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:Si([l,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r);return e&&T?v.createElement(Ef.Provider,{value:{location:Iu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:pi.Pop}},T):T}function CO(){let t=NO(),e=yO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:i},n):null,null)}const SO=v.createElement(CO,null);class bO extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(Xs.Provider,{value:this.props.routeContext},v.createElement(rb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function IO(t){let{routeContext:e,match:n,children:r}=t,i=v.useContext(_f);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Xs.Provider,{value:e},r)}function PO(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||ze(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=n,y=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,y=!1,T=null,S=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,T=h.route.errorElement||SO,l&&(u<0&&f===0?(y=!0,S=null):u===f&&(y=!0,S=h.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,f+1)),x=()=>{let E;return m?E=T:y?E=S:h.route.Component?E=v.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=d,v.createElement(IO,{match:h,routeContext:{outlet:d,matches:b,isDataRoute:n!=null},children:E})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?v.createElement(bO,{location:n.location,revalidation:n.revalidation,component:T,error:m,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}var sb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(sb||{}),vh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(vh||{});function RO(t){let e=v.useContext(_f);return e||ze(!1),e}function AO(t){let e=v.useContext(nb);return e||ze(!1),e}function kO(t){let e=v.useContext(Xs);return e||ze(!1),e}function ob(t){let e=kO(),n=e.matches[e.matches.length-1];return n.route.id||ze(!1),n.route.id}function NO(){var t;let e=v.useContext(rb),n=AO(vh.UseRouteError),r=ob(vh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function DO(){let{router:t}=RO(sb.UseNavigateStable),e=ob(vh.UseNavigateStable),n=v.useRef(!1);return ib(()=>{n.current=!0}),v.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Iu({fromRouteId:e},s)))},[t,e])}function er(t){ze(!1)}function OO(t){let{basename:e="/",children:n=null,location:r,navigationType:i=pi.Pop,navigator:s,static:o=!1,future:a}=t;Zu()&&ze(!1);let l=e.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:l,navigator:s,static:o,future:Iu({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Ys(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:y="default"}=r,T=v.useMemo(()=>{let S=ta(d,l);return S==null?null:{location:{pathname:S,search:h,hash:f,state:m,key:y},navigationType:i}},[l,d,h,f,m,y,i]);return T==null?null:v.createElement(Wi.Provider,{value:u},v.createElement(Ef.Provider,{children:n,value:T}))}function ab(t){let{children:e,location:n}=t;return xO(Cg(e),n)}new Promise(()=>{});function Cg(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,i)=>{if(!v.isValidElement(r))return;let s=[...e,i];if(r.type===v.Fragment){n.push.apply(n,Cg(r.props.children,s));return}r.type!==er&&ze(!1),!r.props.index||!r.props.children||ze(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Cg(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yh(){return yh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yh.apply(this,arguments)}function lb(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function MO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function LO(t,e){return t.button===0&&(!e||e==="_self")&&!MO(t)}const jO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],VO=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],FO="6";try{window.__reactRouterVersion=FO}catch{}const $O=v.createContext({isTransitioning:!1}),BO="startTransition",xE=Hd[BO];function UO(t){let{basename:e,children:n,future:r,window:i}=t,s=v.useRef();s.current==null&&(s.current=Q2({window:i,v5Compat:!0}));let o=s.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=v.useCallback(h=>{u&&xE?xE(()=>l(h)):l(h)},[l,u]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.createElement(OO,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const zO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sg=v.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,unstable_viewTransition:h}=e,f=lb(e,jO),{basename:m}=v.useContext(Wi),y,T=!1;if(typeof u=="string"&&HO.test(u)&&(y=u,zO))try{let E=new URL(window.location.href),R=u.startsWith("//")?new URL(E.protocol+u):new URL(u),O=ta(R.pathname,m);R.origin===E.origin&&O!=null?u=O+R.search+R.hash:T=!0}catch{}let S=_O(u,{relative:i}),b=qO(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:h});function x(E){r&&r(E),E.defaultPrevented||b(E)}return v.createElement("a",yh({},f,{href:y||S,onClick:T||s?r:x,ref:n,target:l}))}),ub=v.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:u,children:d}=e,h=lb(e,VO),f=Tf(l,{relative:h.relative}),m=Ea(),y=v.useContext(nb),{navigator:T,basename:S}=v.useContext(Wi),b=y!=null&&KO(f)&&u===!0,x=T.encodeLocation?T.encodeLocation(f).pathname:f.pathname,E=m.pathname,R=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(E=E.toLowerCase(),R=R?R.toLowerCase():null,x=x.toLowerCase()),R&&S&&(R=ta(R,S)||R);const O=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let A=E===x||!o&&E.startsWith(x)&&E.charAt(O)==="/",_=R!=null&&(R===x||!o&&R.startsWith(x)&&R.charAt(x.length)==="/"),w={isActive:A,isPending:_,isTransitioning:b},I=A?r:void 0,P;typeof s=="function"?P=s(w):P=[s,A?"active":null,_?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(w):a;return v.createElement(Sg,yh({},h,{"aria-current":I,className:P,ref:n,style:N,to:l,unstable_viewTransition:u}),typeof d=="function"?d(w):d)});var bg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(bg||(bg={}));var TE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(TE||(TE={}));function WO(t){let e=v.useContext(_f);return e||ze(!1),e}function qO(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=xf(),u=Ea(),d=Tf(t,{relative:o});return v.useCallback(h=>{if(LO(h,n)){h.preventDefault();let f=r!==void 0?r:mh(u)===mh(d);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,d,r,i,n,t,s,o,a])}function KO(t,e){e===void 0&&(e={});let n=v.useContext($O);n==null&&ze(!1);let{basename:r}=WO(bg.useViewTransitionState),i=Tf(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=ta(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ta(n.nextLocation.pathname,r)||n.nextLocation.pathname;return gh(i.pathname,o)!=null||gh(i.pathname,s)!=null}function cb(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=cb(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function X(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=cb(e))&&(r&&(r+=" "),r+=n);return r}var CE=function(e){return e.reduce(function(n,r){var i=r[0],s=r[1];return n[i]=s,n},{})},SE=typeof window<"u"&&window.document&&window.document.createElement?v.useLayoutEffect:v.useEffect,Jt="top",Rn="bottom",An="right",Zt="left",xy="auto",ec=[Jt,Rn,An,Zt],na="start",Pu="end",GO="clippingParents",db="viewport",ml="popper",QO="reference",bE=ec.reduce(function(t,e){return t.concat([e+"-"+na,e+"-"+Pu])},[]),hb=[].concat(ec,[xy]).reduce(function(t,e){return t.concat([e,e+"-"+na,e+"-"+Pu])},[]),YO="beforeRead",XO="read",JO="afterRead",ZO="beforeMain",eM="main",tM="afterMain",nM="beforeWrite",rM="write",iM="afterWrite",sM=[YO,XO,JO,ZO,eM,tM,nM,rM,iM];function hr(t){return t?(t.nodeName||"").toLowerCase():null}function cn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ls(t){var e=cn(t).Element;return t instanceof e||t instanceof Element}function Sn(t){var e=cn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Ty(t){if(typeof ShadowRoot>"u")return!1;var e=cn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function oM(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!Sn(s)||!hr(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function aM(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,u){return l[u]="",l},{});!Sn(i)||!hr(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const lM={name:"applyStyles",enabled:!0,phase:"write",fn:oM,effect:aM,requires:["computeStyles"]};function sr(t){return t.split("-")[0]}var bs=Math.max,wh=Math.min,ra=Math.round;function Ig(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function fb(){return!/^((?!chrome|android).)*safari/i.test(Ig())}function ia(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&Sn(t)&&(i=t.offsetWidth>0&&ra(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&ra(r.height)/t.offsetHeight||1);var o=Ls(t)?cn(t):window,a=o.visualViewport,l=!fb()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,d=(r.top+(l&&a?a.offsetTop:0))/s,h=r.width/i,f=r.height/s;return{width:h,height:f,top:d,right:u+h,bottom:d+f,left:u,x:u,y:d}}function Cy(t){var e=ia(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function pb(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Ty(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Vr(t){return cn(t).getComputedStyle(t)}function uM(t){return["table","td","th"].indexOf(hr(t))>=0}function qi(t){return((Ls(t)?t.ownerDocument:t.document)||window.document).documentElement}function Cf(t){return hr(t)==="html"?t:t.assignedSlot||t.parentNode||(Ty(t)?t.host:null)||qi(t)}function IE(t){return!Sn(t)||Vr(t).position==="fixed"?null:t.offsetParent}function cM(t){var e=/firefox/i.test(Ig()),n=/Trident/i.test(Ig());if(n&&Sn(t)){var r=Vr(t);if(r.position==="fixed")return null}var i=Cf(t);for(Ty(i)&&(i=i.host);Sn(i)&&["html","body"].indexOf(hr(i))<0;){var s=Vr(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function tc(t){for(var e=cn(t),n=IE(t);n&&uM(n)&&Vr(n).position==="static";)n=IE(n);return n&&(hr(n)==="html"||hr(n)==="body"&&Vr(n).position==="static")?e:n||cM(t)||e}function Sy(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Kl(t,e,n){return bs(t,wh(e,n))}function dM(t,e,n){var r=Kl(t,e,n);return r>n?n:r}function mb(){return{top:0,right:0,bottom:0,left:0}}function gb(t){return Object.assign({},mb(),t)}function vb(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var hM=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,gb(typeof e!="number"?e:vb(e,ec))};function fM(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=sr(n.placement),l=Sy(a),u=[Zt,An].indexOf(a)>=0,d=u?"height":"width";if(!(!s||!o)){var h=hM(i.padding,n),f=Cy(s),m=l==="y"?Jt:Zt,y=l==="y"?Rn:An,T=n.rects.reference[d]+n.rects.reference[l]-o[l]-n.rects.popper[d],S=o[l]-n.rects.reference[l],b=tc(s),x=b?l==="y"?b.clientHeight||0:b.clientWidth||0:0,E=T/2-S/2,R=h[m],O=x-f[d]-h[y],A=x/2-f[d]/2+E,_=Kl(R,A,O),w=l;n.modifiersData[r]=(e={},e[w]=_,e.centerOffset=_-A,e)}}function pM(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||pb(e.elements.popper,i)&&(e.elements.arrow=i))}const mM={name:"arrow",enabled:!0,phase:"main",fn:fM,effect:pM,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function sa(t){return t.split("-")[1]}var gM={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vM(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:ra(n*i)/i||0,y:ra(r*i)/i||0}}function PE(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,d=t.roundOffsets,h=t.isFixed,f=o.x,m=f===void 0?0:f,y=o.y,T=y===void 0?0:y,S=typeof d=="function"?d({x:m,y:T}):{x:m,y:T};m=S.x,T=S.y;var b=o.hasOwnProperty("x"),x=o.hasOwnProperty("y"),E=Zt,R=Jt,O=window;if(u){var A=tc(n),_="clientHeight",w="clientWidth";if(A===cn(n)&&(A=qi(n),Vr(A).position!=="static"&&a==="absolute"&&(_="scrollHeight",w="scrollWidth")),A=A,i===Jt||(i===Zt||i===An)&&s===Pu){R=Rn;var I=h&&A===O&&O.visualViewport?O.visualViewport.height:A[_];T-=I-r.height,T*=l?1:-1}if(i===Zt||(i===Jt||i===Rn)&&s===Pu){E=An;var P=h&&A===O&&O.visualViewport?O.visualViewport.width:A[w];m-=P-r.width,m*=l?1:-1}}var N=Object.assign({position:a},u&&gM),M=d===!0?vM({x:m,y:T},cn(n)):{x:m,y:T};if(m=M.x,T=M.y,l){var D;return Object.assign({},N,(D={},D[R]=x?"0":"",D[E]=b?"0":"",D.transform=(O.devicePixelRatio||1)<=1?"translate("+m+"px, "+T+"px)":"translate3d("+m+"px, "+T+"px, 0)",D))}return Object.assign({},N,(e={},e[R]=x?T+"px":"",e[E]=b?m+"px":"",e.transform="",e))}function yM(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:sr(e.placement),variation:sa(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,PE(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,PE(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const wM={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:yM,data:{}};var rd={passive:!0};function _M(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=cn(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(d){d.addEventListener("scroll",n.update,rd)}),a&&l.addEventListener("resize",n.update,rd),function(){s&&u.forEach(function(d){d.removeEventListener("scroll",n.update,rd)}),a&&l.removeEventListener("resize",n.update,rd)}}const EM={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:_M,data:{}};var xM={left:"right",right:"left",bottom:"top",top:"bottom"};function Rd(t){return t.replace(/left|right|bottom|top/g,function(e){return xM[e]})}var TM={start:"end",end:"start"};function RE(t){return t.replace(/start|end/g,function(e){return TM[e]})}function by(t){var e=cn(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Iy(t){return ia(qi(t)).left+by(t).scrollLeft}function CM(t,e){var n=cn(t),r=qi(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var u=fb();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+Iy(t),y:l}}function SM(t){var e,n=qi(t),r=by(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=bs(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=bs(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Iy(t),l=-r.scrollTop;return Vr(i||n).direction==="rtl"&&(a+=bs(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function Py(t){var e=Vr(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function yb(t){return["html","body","#document"].indexOf(hr(t))>=0?t.ownerDocument.body:Sn(t)&&Py(t)?t:yb(Cf(t))}function Gl(t,e){var n;e===void 0&&(e=[]);var r=yb(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=cn(r),o=i?[s].concat(s.visualViewport||[],Py(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(Gl(Cf(o)))}function Pg(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function bM(t,e){var n=ia(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function AE(t,e,n){return e===db?Pg(CM(t,n)):Ls(e)?bM(e,n):Pg(SM(qi(t)))}function IM(t){var e=Gl(Cf(t)),n=["absolute","fixed"].indexOf(Vr(t).position)>=0,r=n&&Sn(t)?tc(t):t;return Ls(r)?e.filter(function(i){return Ls(i)&&pb(i,r)&&hr(i)!=="body"}):[]}function PM(t,e,n,r){var i=e==="clippingParents"?IM(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,u){var d=AE(t,u,r);return l.top=bs(d.top,l.top),l.right=wh(d.right,l.right),l.bottom=wh(d.bottom,l.bottom),l.left=bs(d.left,l.left),l},AE(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function wb(t){var e=t.reference,n=t.element,r=t.placement,i=r?sr(r):null,s=r?sa(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case Jt:l={x:o,y:e.y-n.height};break;case Rn:l={x:o,y:e.y+e.height};break;case An:l={x:e.x+e.width,y:a};break;case Zt:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?Sy(i):null;if(u!=null){var d=u==="y"?"height":"width";switch(s){case na:l[u]=l[u]-(e[d]/2-n[d]/2);break;case Pu:l[u]=l[u]+(e[d]/2-n[d]/2);break}}return l}function Ru(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?GO:a,u=n.rootBoundary,d=u===void 0?db:u,h=n.elementContext,f=h===void 0?ml:h,m=n.altBoundary,y=m===void 0?!1:m,T=n.padding,S=T===void 0?0:T,b=gb(typeof S!="number"?S:vb(S,ec)),x=f===ml?QO:ml,E=t.rects.popper,R=t.elements[y?x:f],O=PM(Ls(R)?R:R.contextElement||qi(t.elements.popper),l,d,o),A=ia(t.elements.reference),_=wb({reference:A,element:E,strategy:"absolute",placement:i}),w=Pg(Object.assign({},E,_)),I=f===ml?w:A,P={top:O.top-I.top+b.top,bottom:I.bottom-O.bottom+b.bottom,left:O.left-I.left+b.left,right:I.right-O.right+b.right},N=t.modifiersData.offset;if(f===ml&&N){var M=N[i];Object.keys(P).forEach(function(D){var H=[An,Rn].indexOf(D)>=0?1:-1,J=[Jt,Rn].indexOf(D)>=0?"y":"x";P[D]+=M[J]*H})}return P}function RM(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?hb:l,d=sa(r),h=d?a?bE:bE.filter(function(y){return sa(y)===d}):ec,f=h.filter(function(y){return u.indexOf(y)>=0});f.length===0&&(f=h);var m=f.reduce(function(y,T){return y[T]=Ru(t,{placement:T,boundary:i,rootBoundary:s,padding:o})[sr(T)],y},{});return Object.keys(m).sort(function(y,T){return m[y]-m[T]})}function AM(t){if(sr(t)===xy)return[];var e=Rd(t);return[RE(t),e,RE(e)]}function kM(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,d=n.boundary,h=n.rootBoundary,f=n.altBoundary,m=n.flipVariations,y=m===void 0?!0:m,T=n.allowedAutoPlacements,S=e.options.placement,b=sr(S),x=b===S,E=l||(x||!y?[Rd(S)]:AM(S)),R=[S].concat(E).reduce(function(Ee,de){return Ee.concat(sr(de)===xy?RM(e,{placement:de,boundary:d,rootBoundary:h,padding:u,flipVariations:y,allowedAutoPlacements:T}):de)},[]),O=e.rects.reference,A=e.rects.popper,_=new Map,w=!0,I=R[0],P=0;P<R.length;P++){var N=R[P],M=sr(N),D=sa(N)===na,H=[Jt,Rn].indexOf(M)>=0,J=H?"width":"height",Q=Ru(e,{placement:N,boundary:d,rootBoundary:h,altBoundary:f,padding:u}),F=H?D?An:Zt:D?Rn:Jt;O[J]>A[J]&&(F=Rd(F));var V=Rd(F),$=[];if(s&&$.push(Q[M]<=0),a&&$.push(Q[F]<=0,Q[V]<=0),$.every(function(Ee){return Ee})){I=N,w=!1;break}_.set(N,$)}if(w)for(var G=y?3:1,q=function(de){var Ie=R.find(function(qe){var Wt=_.get(qe);if(Wt)return Wt.slice(0,de).every(function(Ln){return Ln})});if(Ie)return I=Ie,"break"},te=G;te>0;te--){var le=q(te);if(le==="break")break}e.placement!==I&&(e.modifiersData[r]._skip=!0,e.placement=I,e.reset=!0)}}const NM={name:"flip",enabled:!0,phase:"main",fn:kM,requiresIfExists:["offset"],data:{_skip:!1}};function kE(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function NE(t){return[Jt,An,Rn,Zt].some(function(e){return t[e]>=0})}function DM(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Ru(e,{elementContext:"reference"}),a=Ru(e,{altBoundary:!0}),l=kE(o,r),u=kE(a,i,s),d=NE(l),h=NE(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":h})}const OM={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:DM};function MM(t,e,n){var r=sr(t),i=[Zt,Jt].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Zt,An].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function LM(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=hb.reduce(function(d,h){return d[h]=MM(h,e.rects,s),d},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const jM={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:LM};function VM(t){var e=t.state,n=t.name;e.modifiersData[n]=wb({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const FM={name:"popperOffsets",enabled:!0,phase:"read",fn:VM,data:{}};function $M(t){return t==="x"?"y":"x"}function BM(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,d=n.altBoundary,h=n.padding,f=n.tether,m=f===void 0?!0:f,y=n.tetherOffset,T=y===void 0?0:y,S=Ru(e,{boundary:l,rootBoundary:u,padding:h,altBoundary:d}),b=sr(e.placement),x=sa(e.placement),E=!x,R=Sy(b),O=$M(R),A=e.modifiersData.popperOffsets,_=e.rects.reference,w=e.rects.popper,I=typeof T=="function"?T(Object.assign({},e.rects,{placement:e.placement})):T,P=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),N=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,M={x:0,y:0};if(A){if(s){var D,H=R==="y"?Jt:Zt,J=R==="y"?Rn:An,Q=R==="y"?"height":"width",F=A[R],V=F+S[H],$=F-S[J],G=m?-w[Q]/2:0,q=x===na?_[Q]:w[Q],te=x===na?-w[Q]:-_[Q],le=e.elements.arrow,Ee=m&&le?Cy(le):{width:0,height:0},de=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:mb(),Ie=de[H],qe=de[J],Wt=Kl(0,_[Q],Ee[Q]),Ln=E?_[Q]/2-G-Wt-Ie-P.mainAxis:q-Wt-Ie-P.mainAxis,jn=E?-_[Q]/2+G+Wt+qe+P.mainAxis:te+Wt+qe+P.mainAxis,_t=e.elements.arrow&&tc(e.elements.arrow),oo=_t?R==="y"?_t.clientTop||0:_t.clientLeft||0:0,ao=(D=N==null?void 0:N[R])!=null?D:0,za=F+Ln-ao-oo,Ha=F+jn-ao,Wa=Kl(m?wh(V,za):V,F,m?bs($,Ha):$);A[R]=Wa,M[R]=Wa-F}if(a){var Tc,op=R==="x"?Jt:Zt,Cc=R==="x"?Rn:An,Vn=A[O],rs=O==="y"?"height":"width",Sc=Vn+S[op],lo=Vn-S[Cc],is=[Jt,Zt].indexOf(b)!==-1,qa=(Tc=N==null?void 0:N[O])!=null?Tc:0,tt=is?Sc:Vn-_[rs]-w[rs]-qa+P.altAxis,at=is?Vn+_[rs]+w[rs]-qa-P.altAxis:lo,ss=m&&is?dM(tt,Vn,at):Kl(m?tt:Sc,Vn,m?at:lo);A[O]=ss,M[O]=ss-Vn}e.modifiersData[r]=M}}const UM={name:"preventOverflow",enabled:!0,phase:"main",fn:BM,requiresIfExists:["offset"]};function zM(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function HM(t){return t===cn(t)||!Sn(t)?by(t):zM(t)}function WM(t){var e=t.getBoundingClientRect(),n=ra(e.width)/t.offsetWidth||1,r=ra(e.height)/t.offsetHeight||1;return n!==1||r!==1}function qM(t,e,n){n===void 0&&(n=!1);var r=Sn(e),i=Sn(e)&&WM(e),s=qi(e),o=ia(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((hr(e)!=="body"||Py(s))&&(a=HM(e)),Sn(e)?(l=ia(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=Iy(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function KM(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function GM(t){var e=KM(t);return sM.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function QM(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function YM(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var DE={placement:"bottom",modifiers:[],strategy:"absolute"};function OE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function XM(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?DE:i;return function(a,l,u){u===void 0&&(u=s);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},DE,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],f=!1,m={state:d,setOptions:function(b){var x=typeof b=="function"?b(d.options):b;T(),d.options=Object.assign({},s,d.options,x),d.scrollParents={reference:Ls(a)?Gl(a):a.contextElement?Gl(a.contextElement):[],popper:Gl(l)};var E=GM(YM([].concat(r,d.options.modifiers)));return d.orderedModifiers=E.filter(function(R){return R.enabled}),y(),m.update()},forceUpdate:function(){if(!f){var b=d.elements,x=b.reference,E=b.popper;if(OE(x,E)){d.rects={reference:qM(x,tc(E),d.options.strategy==="fixed"),popper:Cy(E)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(P){return d.modifiersData[P.name]=Object.assign({},P.data)});for(var R=0;R<d.orderedModifiers.length;R++){if(d.reset===!0){d.reset=!1,R=-1;continue}var O=d.orderedModifiers[R],A=O.fn,_=O.options,w=_===void 0?{}:_,I=O.name;typeof A=="function"&&(d=A({state:d,options:w,name:I,instance:m})||d)}}}},update:QM(function(){return new Promise(function(S){m.forceUpdate(),S(d)})}),destroy:function(){T(),f=!0}};if(!OE(a,l))return m;m.setOptions(u).then(function(S){!f&&u.onFirstUpdate&&u.onFirstUpdate(S)});function y(){d.orderedModifiers.forEach(function(S){var b=S.name,x=S.options,E=x===void 0?{}:x,R=S.effect;if(typeof R=="function"){var O=R({state:d,name:b,instance:m,options:E}),A=function(){};h.push(O||A)}})}function T(){h.forEach(function(S){return S()}),h=[]}return m}}var JM=[EM,FM,wM,lM,jM,NM,UM,mM,OM],ZM=XM({defaultModifiers:JM}),eL=typeof Element<"u",tL=typeof Map=="function",nL=typeof Set=="function",rL=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Ad(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Ad(t[r],e[r]))return!1;return!0}var s;if(tL&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!Ad(r.value[1],e.get(r.value[0])))return!1;return!0}if(nL&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(rL&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(eL&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!Ad(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var iL=function(e,n){try{return Ad(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const sL=nf(iL);var oL=[],aL=function(e,n,r){r===void 0&&(r={});var i=v.useRef(null),s={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||oL},o=v.useState({styles:{popper:{position:s.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=o[0],l=o[1],u=v.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(m){var y=m.state,T=Object.keys(y.elements);Xt.flushSync(function(){l({styles:CE(T.map(function(S){return[S,y.styles[S]||{}]})),attributes:CE(T.map(function(S){return[S,y.attributes[S]]}))})})},requires:["computeStyles"]}},[]),d=v.useMemo(function(){var f={onFirstUpdate:s.onFirstUpdate,placement:s.placement,strategy:s.strategy,modifiers:[].concat(s.modifiers,[u,{name:"applyStyles",enabled:!1}])};return sL(i.current,f)?i.current||f:(i.current=f,f)},[s.onFirstUpdate,s.placement,s.strategy,s.modifiers,u]),h=v.useRef();return SE(function(){h.current&&h.current.setOptions(d)},[d]),SE(function(){if(!(e==null||n==null)){var f=r.createPopper||ZM,m=f(e,n,d);return h.current=m,function(){m.destroy(),h.current=null}}},[e,n,r.createPopper]),{state:h.current?h.current.state:null,styles:a.styles,attributes:a.attributes,update:h.current?h.current.update:null,forceUpdate:h.current?h.current.forceUpdate:null}},Au="top",oa="bottom",Sf="right",Ry="left",Ay="auto",bf=[Au,oa,Sf,Ry],If="start",ky="end",lL="clippingParents",_b="viewport",gl="popper",uL="reference",ME=bf.reduce(function(t,e){return t.concat([e+"-"+If,e+"-"+ky])},[]),cL=[].concat(bf,[Ay]).reduce(function(t,e){return t.concat([e,e+"-"+If,e+"-"+ky])},[]);function js(t){return t?(t.nodeName||"").toLowerCase():null}function Ki(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ku(t){var e=Ki(t).Element;return t instanceof e||t instanceof Element}function aa(t){var e=Ki(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Ny(t){if(typeof ShadowRoot>"u")return!1;var e=Ki(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Uo(t){return t.split("-")[0]}var Ql=Math.max,LE=Math.min,jE=Math.round;function Dy(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),r=1,i=1;if(aa(t)&&e){var s=t.offsetHeight,o=t.offsetWidth;o>0&&(r=jE(n.width)/o||1),s>0&&(i=jE(n.height)/s||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function dL(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Ny(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ni(t){return Ki(t).getComputedStyle(t)}function hL(t){return["table","td","th"].indexOf(js(t))>=0}function xa(t){return((ku(t)?t.ownerDocument:t.document)||window.document).documentElement}function Pf(t){return js(t)==="html"?t:t.assignedSlot||t.parentNode||(Ny(t)?t.host:null)||xa(t)}function VE(t){return!aa(t)||Ni(t).position==="fixed"?null:t.offsetParent}function fL(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&aa(t)){var r=Ni(t);if(r.position==="fixed")return null}var i=Pf(t);for(Ny(i)&&(i=i.host);aa(i)&&["html","body"].indexOf(js(i))<0;){var s=Ni(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function pL(t){for(var e=Ki(t),n=VE(t);n&&hL(n)&&Ni(n).position==="static";)n=VE(n);return n&&(js(n)==="html"||js(n)==="body"&&Ni(n).position==="static")?e:n||fL(t)||e}function mL(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function gL(){return{top:0,right:0,bottom:0,left:0}}function vL(t){return Object.assign({},gL(),t)}function yL(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}function _h(t){return t.split("-")[1]}var wL={left:"right",right:"left",bottom:"top",top:"bottom"};function kd(t){return t.replace(/left|right|bottom|top/g,function(e){return wL[e]})}var _L={start:"end",end:"start"};function FE(t){return t.replace(/start|end/g,function(e){return _L[e]})}function Eb(t){var e=Ki(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function xb(t){return Dy(xa(t)).left+Eb(t).scrollLeft}function EL(t){var e=Ki(t),n=xa(t),r=e.visualViewport,i=n.clientWidth,s=n.clientHeight,o=0,a=0;return r&&(i=r.width,s=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,a=r.offsetTop)),{width:i,height:s,x:o+xb(t),y:a}}function xL(t){var e,n=xa(t),r=Eb(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Ql(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Ql(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+xb(t),l=-r.scrollTop;return Ni(i||n).direction==="rtl"&&(a+=Ql(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function Tb(t){var e=Ni(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Cb(t){return["html","body","#document"].indexOf(js(t))>=0?t.ownerDocument.body:aa(t)&&Tb(t)?t:Cb(Pf(t))}function Sb(t,e){var n;e===void 0&&(e=[]);var r=Cb(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Ki(r),o=i?[s].concat(s.visualViewport||[],Tb(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(Sb(Pf(o)))}function Rg(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function TL(t){var e=Dy(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function $E(t,e){return e===_b?Rg(EL(t)):ku(e)?TL(e):Rg(xL(xa(t)))}function CL(t){var e=Sb(Pf(t)),n=["absolute","fixed"].indexOf(Ni(t).position)>=0,r=n&&aa(t)?pL(t):t;return ku(r)?e.filter(function(i){return ku(i)&&dL(i,r)&&js(i)!=="body"}):[]}function SL(t,e,n){var r=e==="clippingParents"?CL(t):[].concat(e),i=[].concat(r,[n]),s=i[0],o=i.reduce(function(a,l){var u=$E(t,l);return a.top=Ql(u.top,a.top),a.right=LE(u.right,a.right),a.bottom=LE(u.bottom,a.bottom),a.left=Ql(u.left,a.left),a},$E(t,s));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function bL(t){var e=t.reference,n=t.element,r=t.placement,i=r?Uo(r):null,s=r?_h(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case Au:l={x:o,y:e.y-n.height};break;case oa:l={x:o,y:e.y+e.height};break;case Sf:l={x:e.x+e.width,y:a};break;case Ry:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?mL(i):null;if(u!=null){var d=u==="y"?"height":"width";switch(s){case If:l[u]=l[u]-(e[d]/2-n[d]/2);break;case ky:l[u]=l[u]+(e[d]/2-n[d]/2);break}}return l}function bb(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.boundary,o=s===void 0?lL:s,a=n.rootBoundary,l=a===void 0?_b:a,u=n.elementContext,d=u===void 0?gl:u,h=n.altBoundary,f=h===void 0?!1:h,m=n.padding,y=m===void 0?0:m,T=vL(typeof y!="number"?y:yL(y,bf)),S=d===gl?uL:gl,b=t.rects.popper,x=t.elements[f?S:d],E=SL(ku(x)?x:x.contextElement||xa(t.elements.popper),o,l),R=Dy(t.elements.reference),O=bL({reference:R,element:b,strategy:"absolute",placement:i}),A=Rg(Object.assign({},b,O)),_=d===gl?A:R,w={top:E.top-_.top+T.top,bottom:_.bottom-E.bottom+T.bottom,left:E.left-_.left+T.left,right:_.right-E.right+T.right},I=t.modifiersData.offset;if(d===gl&&I){var P=I[i];Object.keys(w).forEach(function(N){var M=[Sf,oa].indexOf(N)>=0?1:-1,D=[Au,oa].indexOf(N)>=0?"y":"x";w[N]+=P[D]*M})}return w}function IL(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?cL:l,d=_h(r),h=d?a?ME:ME.filter(function(y){return _h(y)===d}):bf,f=h.filter(function(y){return u.indexOf(y)>=0});f.length===0&&(f=h);var m=f.reduce(function(y,T){return y[T]=bb(t,{placement:T,boundary:i,rootBoundary:s,padding:o})[Uo(T)],y},{});return Object.keys(m).sort(function(y,T){return m[y]-m[T]})}function PL(t){if(Uo(t)===Ay)return[];var e=kd(t);return[FE(t),e,FE(e)]}function RL(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,d=n.boundary,h=n.rootBoundary,f=n.altBoundary,m=n.flipVariations,y=m===void 0?!0:m,T=n.allowedAutoPlacements,S=e.options.placement,b=Uo(S),x=b===S,E=l||(x||!y?[kd(S)]:PL(S)),R=[S].concat(E).reduce(function(Ee,de){return Ee.concat(Uo(de)===Ay?IL(e,{placement:de,boundary:d,rootBoundary:h,padding:u,flipVariations:y,allowedAutoPlacements:T}):de)},[]),O=e.rects.reference,A=e.rects.popper,_=new Map,w=!0,I=R[0],P=0;P<R.length;P++){var N=R[P],M=Uo(N),D=_h(N)===If,H=[Au,oa].indexOf(M)>=0,J=H?"width":"height",Q=bb(e,{placement:N,boundary:d,rootBoundary:h,altBoundary:f,padding:u}),F=H?D?Sf:Ry:D?oa:Au;O[J]>A[J]&&(F=kd(F));var V=kd(F),$=[];if(s&&$.push(Q[M]<=0),a&&$.push(Q[F]<=0,Q[V]<=0),$.every(function(Ee){return Ee})){I=N,w=!1;break}_.set(N,$)}if(w)for(var G=y?3:1,q=function(de){var Ie=R.find(function(qe){var Wt=_.get(qe);if(Wt)return Wt.slice(0,de).every(function(Ln){return Ln})});if(Ie)return I=Ie,"break"},te=G;te>0;te--){var le=q(te);if(le==="break")break}e.placement!==I&&(e.modifiersData[r]._skip=!0,e.placement=I,e.reset=!0)}}const AL={name:"flip",enabled:!0,phase:"main",fn:RL,requiresIfExists:["offset"],data:{_skip:!1}},Ib=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Rf=v.createContext({}),Af=v.createContext(null),kf=typeof document<"u",Oy=kf?v.useLayoutEffect:v.useEffect,Pb=v.createContext({strict:!1}),My=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),kL="framerAppearId",Rb="data-"+My(kL);function NL(t,e,n,r){const{visualElement:i}=v.useContext(Rf),s=v.useContext(Pb),o=v.useContext(Af),a=v.useContext(Ib).reducedMotion,l=v.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;v.useInsertionEffect(()=>{u&&u.update(n,o)});const d=v.useRef(!!(n[Rb]&&!window.HandoffComplete));return Oy(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),v.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function ko(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function DL(t,e,n){return v.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ko(n)&&(n.current=r))},[e])}function Nu(t){return typeof t=="string"||Array.isArray(t)}function Nf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Ly=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jy=["initial",...Ly];function Df(t){return Nf(t.animate)||jy.some(e=>Nu(t[e]))}function Ab(t){return!!(Df(t)||t.variants)}function OL(t,e){if(Df(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Nu(n)?n:void 0,animate:Nu(r)?r:void 0}}return t.inherit!==!1?e:{}}function ML(t){const{initial:e,animate:n}=OL(t,v.useContext(Rf));return v.useMemo(()=>({initial:e,animate:n}),[BE(e),BE(n)])}function BE(t){return Array.isArray(t)?t.join(" "):t}const UE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Du={};for(const t in UE)Du[t]={isEnabled:e=>UE[t].some(n=>!!e[n])};function LL(t){for(const e in t)Du[e]={...Du[e],...t[e]}}const Vy=v.createContext({}),kb=v.createContext({}),jL=Symbol.for("motionComponentSymbol");function VL({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&LL(t);function s(a,l){let u;const d={...v.useContext(Ib),...a,layoutId:FL(a)},{isStatic:h}=d,f=ML(a),m=r(a,h);if(!h&&kf){f.visualElement=NL(i,m,d,e);const y=v.useContext(kb),T=v.useContext(Pb).strict;f.visualElement&&(u=f.visualElement.loadFeatures(d,T,t,y))}return v.createElement(Rf.Provider,{value:f},u&&f.visualElement?v.createElement(u,{visualElement:f.visualElement,...d}):null,n(i,a,DL(m,f.visualElement,l),m,h,f.visualElement))}const o=v.forwardRef(s);return o[jL]=i,o}function FL({layoutId:t}){const e=v.useContext(Vy).id;return e&&t!==void 0?e+"-"+t:t}function $L(t){function e(r,i={}){return VL(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const BL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Fy(t){return typeof t!="string"||t.includes("-")?!1:!!(BL.indexOf(t)>-1||/[A-Z]/.test(t))}const Eh={};function UL(t){Object.assign(Eh,t)}const nc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Js=new Set(nc);function Nb(t,{layout:e,layoutId:n}){return Js.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Eh[t]||t==="opacity")}const en=t=>!!(t&&t.getVelocity),zL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},HL=nc.length;function WL(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<HL;o++){const a=nc[o];if(t[a]!==void 0){const l=zL[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const Db=t=>e=>typeof e=="string"&&e.startsWith(t),Ob=Db("--"),Ag=Db("var(--"),qL=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,KL=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Di=(t,e,n)=>Math.min(Math.max(n,t),e),Zs={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Yl={...Zs,transform:t=>Di(0,1,t)},id={...Zs,default:1},Xl=t=>Math.round(t*1e5)/1e5,Of=/(-)?([\d]*\.?[\d])+/g,Mb=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,GL=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function rc(t){return typeof t=="string"}const ic=t=>({test:e=>rc(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ti=ic("deg"),or=ic("%"),se=ic("px"),QL=ic("vh"),YL=ic("vw"),zE={...or,parse:t=>or.parse(t)/100,transform:t=>or.transform(t*100)},HE={...Zs,transform:Math.round},Lb={borderWidth:se,borderTopWidth:se,borderRightWidth:se,borderBottomWidth:se,borderLeftWidth:se,borderRadius:se,radius:se,borderTopLeftRadius:se,borderTopRightRadius:se,borderBottomRightRadius:se,borderBottomLeftRadius:se,width:se,maxWidth:se,height:se,maxHeight:se,size:se,top:se,right:se,bottom:se,left:se,padding:se,paddingTop:se,paddingRight:se,paddingBottom:se,paddingLeft:se,margin:se,marginTop:se,marginRight:se,marginBottom:se,marginLeft:se,rotate:ti,rotateX:ti,rotateY:ti,rotateZ:ti,scale:id,scaleX:id,scaleY:id,scaleZ:id,skew:ti,skewX:ti,skewY:ti,distance:se,translateX:se,translateY:se,translateZ:se,x:se,y:se,z:se,perspective:se,transformPerspective:se,opacity:Yl,originX:zE,originY:zE,originZ:se,zIndex:HE,fillOpacity:Yl,strokeOpacity:Yl,numOctaves:HE};function $y(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,u=!1,d=!0;for(const h in e){const f=e[h];if(Ob(h)){s[h]=f;continue}const m=Lb[h],y=KL(f,m);if(Js.has(h)){if(l=!0,o[h]=y,!d)continue;f!==(m.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,a[h]=y):i[h]=y}if(e.transform||(l||r?i.transform=WL(t.transform,n,d,r):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:m=0}=a;i.transformOrigin=`${h} ${f} ${m}`}}const By=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function jb(t,e,n){for(const r in e)!en(e[r])&&!Nb(r,n)&&(t[r]=e[r])}function XL({transformTemplate:t},e,n){return v.useMemo(()=>{const r=By();return $y(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function JL(t,e,n){const r=t.style||{},i={};return jb(i,r,t),Object.assign(i,XL(t,e,n)),t.transformValues?t.transformValues(i):i}function ZL(t,e,n){const r={},i=JL(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const ej=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||ej.has(t)}let Vb=t=>!xh(t);function tj(t){t&&(Vb=e=>e.startsWith("on")?!xh(e):t(e))}try{tj(require("@emotion/is-prop-valid").default)}catch{}function nj(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Vb(i)||n===!0&&xh(i)||!e&&!xh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function WE(t,e,n){return typeof t=="string"?t:se.transform(e+n*t)}function rj(t,e,n){const r=WE(e,t.x,t.width),i=WE(n,t.y,t.height);return`${r} ${i}`}const ij={offset:"stroke-dashoffset",array:"stroke-dasharray"},sj={offset:"strokeDashoffset",array:"strokeDasharray"};function oj(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?ij:sj;t[s.offset]=se.transform(-r);const o=se.transform(e),a=se.transform(n);t[s.array]=`${o} ${a}`}function Uy(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},d,h,f){if($y(t,u,d,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:y,dimensions:T}=t;m.transform&&(T&&(y.transform=m.transform),delete m.transform),T&&(i!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=rj(T,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&oj(m,o,a,l,!1)}const Fb=()=>({...By(),attrs:{}}),zy=t=>typeof t=="string"&&t.toLowerCase()==="svg";function aj(t,e,n,r){const i=v.useMemo(()=>{const s=Fb();return Uy(s,e,{enableHardwareAcceleration:!1},zy(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};jb(s,t.style,t),i.style={...s,...i.style}}return i}function lj(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(Fy(n)?aj:ZL)(r,s,o,n),d={...nj(r,typeof n=="string",t),...l,ref:i},{children:h}=r,f=v.useMemo(()=>en(h)?h.get():h,[h]);return v.createElement(n,{...d,children:f})}}function $b(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const Bb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ub(t,e,n,r){$b(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Bb.has(i)?i:My(i),e.attrs[i])}function Hy(t,e){const{style:n}=t,r={};for(const i in n)(en(n[i])||e.style&&en(e.style[i])||Nb(i,t))&&(r[i]=n[i]);return r}function zb(t,e){const n=Hy(t,e);for(const r in t)if(en(t[r])||en(e[r])){const i=nc.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function Wy(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function Hb(t){const e=v.useRef(null);return e.current===null&&(e.current=t()),e.current}const Th=t=>Array.isArray(t),uj=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),cj=t=>Th(t)?t[t.length-1]||0:t;function Nd(t){const e=en(t)?t.get():t;return uj(e)?e.toValue():e}function dj({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:hj(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const Wb=t=>(e,n)=>{const r=v.useContext(Rf),i=v.useContext(Af),s=()=>dj(t,e,r,i);return n?s():Hb(s)};function hj(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=Nd(s[f]);let{initial:o,animate:a}=t;const l=Df(t),u=Ab(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;return h&&typeof h!="boolean"&&!Nf(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const y=Wy(t,m);if(!y)return;const{transitionEnd:T,transition:S,...b}=y;for(const x in b){let E=b[x];if(Array.isArray(E)){const R=d?E.length-1:0;E=E[R]}E!==null&&(i[x]=E)}for(const x in T)i[x]=T[x]}),i}const Qe=t=>t;class qE{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function fj(t){let e=new qE,n=new qE,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,d=!1)=>{const h=d&&i,f=h?e:n;return u&&o.add(l),f.add(l)&&h&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const d=e.order[u];d(l),o.has(d)&&(a.schedule(d),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const sd=["prepare","read","update","preRender","render","postRender"],pj=40;function mj(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=sd.reduce((h,f)=>(h[f]=fj(()=>n=!0),h),{}),o=h=>s[h].process(i),a=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,pj),1),i.timestamp=h,i.isProcessing=!0,sd.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:sd.reduce((h,f)=>{const m=s[f];return h[f]=(y,T=!1,S=!1)=>(n||l(),m.schedule(y,T,S)),h},{}),cancel:h=>sd.forEach(f=>s[f].cancel(h)),state:i,steps:s}}const{schedule:Re,cancel:Fr,state:bt,steps:Yp}=mj(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qe,!0),gj={useVisualState:Wb({scrapeMotionValuesFromProps:zb,createRenderState:Fb,onMount:(t,e,{renderState:n,latestValues:r})=>{Re.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Re.render(()=>{Uy(n,r,{enableHardwareAcceleration:!1},zy(e.tagName),t.transformTemplate),Ub(e,n)})}})},vj={useVisualState:Wb({scrapeMotionValuesFromProps:Hy,createRenderState:By})};function yj(t,{forwardMotionProps:e=!1},n,r){return{...Fy(t)?gj:vj,preloadedFeatures:n,useRender:lj(e),createVisualElement:r,Component:t}}function Sr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const qb=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Mf(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const wj=t=>e=>qb(e)&&t(e,Mf(e));function Ar(t,e,n,r){return Sr(t,e,wj(n),r)}const _j=(t,e)=>n=>e(t(n)),bi=(...t)=>t.reduce(_j);function Kb(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const KE=Kb("dragHorizontal"),GE=Kb("dragVertical");function Gb(t){let e=!1;if(t==="y")e=GE();else if(t==="x")e=KE();else{const n=KE(),r=GE();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function Qb(){const t=Gb(!0);return t?(t(),!1):!0}class Gi{constructor(e){this.isMounted=!1,this.node=e}update(){}}function QE(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||Qb())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Re.update(()=>a[r](s,o))};return Ar(t.current,n,i,{passive:!t.getProps()[r]})}class Ej extends Gi{mount(){this.unmount=bi(QE(this.node,!0),QE(this.node,!1))}unmount(){}}class xj extends Gi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bi(Sr(this.node.current,"focus",()=>this.onFocus()),Sr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Yb=(t,e)=>e?t===e?!0:Yb(t,e.parentElement):!1;function Xp(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Mf(n))}class Tj extends Gi{constructor(){super(...arguments),this.removeStartListeners=Qe,this.removeEndListeners=Qe,this.removeAccessibleListeners=Qe,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Ar(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps();Re.update(()=>{!h&&!Yb(this.node.current,a.target)?d&&d(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Ar(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=bi(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Xp("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&Re.update(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=Sr(this.node.current,"keyup",o),Xp("down",(a,l)=>{this.startPress(a,l)})},n=Sr(this.node.current,"keydown",e),r=()=>{this.isPressing&&Xp("cancel",(s,o)=>this.cancelPress(s,o))},i=Sr(this.node.current,"blur",r);this.removeAccessibleListeners=bi(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Re.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Qb()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Re.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Ar(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Sr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=bi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const kg=new WeakMap,Jp=new WeakMap,Cj=t=>{const e=kg.get(t.target);e&&e(t)},Sj=t=>{t.forEach(Cj)};function bj({root:t,...e}){const n=t||document;Jp.has(n)||Jp.set(n,{});const r=Jp.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Sj,{root:t,...e})),r[i]}function Ij(t,e,n){const r=bj(e);return kg.set(t,n),r.observe(t),()=>{kg.delete(t),r.unobserve(t)}}const Pj={some:0,all:1};class Rj extends Gi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Pj[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(l)};return Ij(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Aj(e,n))&&this.startObserver()}unmount(){}}function Aj({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const kj={inView:{Feature:Rj},tap:{Feature:Tj},focus:{Feature:xj},hover:{Feature:Ej}};function Xb(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Nj(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function Dj(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Lf(t,e,n){const r=t.getProps();return Wy(r,e,n!==void 0?n:r.custom,Nj(t),Dj(t))}let Ch=Qe;const Is=t=>t*1e3,kr=t=>t/1e3,Oj={current:!1},Jb=t=>Array.isArray(t)&&typeof t[0]=="number";function Zb(t){return!!(!t||typeof t=="string"&&eI[t]||Jb(t)||Array.isArray(t)&&t.every(Zb))}const Nl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,eI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nl([0,.65,.55,1]),circOut:Nl([.55,0,1,.45]),backIn:Nl([.31,.01,.66,-.59]),backOut:Nl([.33,1.53,.69,.99])};function tI(t){if(t)return Jb(t)?Nl(t):Array.isArray(t)?t.map(tI):eI[t]}function Mj(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const d=tI(a);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function Lj(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const nI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,jj=1e-7,Vj=12;function Fj(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=nI(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>jj&&++a<Vj);return o}function sc(t,e,n,r){if(t===e&&n===r)return Qe;const i=s=>Fj(s,0,1,t,n);return s=>s===0||s===1?s:nI(i(s),e,r)}const $j=sc(.42,0,1,1),Bj=sc(0,0,.58,1),rI=sc(.42,0,.58,1),Uj=t=>Array.isArray(t)&&typeof t[0]!="number",iI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,sI=t=>e=>1-t(1-e),qy=t=>1-Math.sin(Math.acos(t)),oI=sI(qy),zj=iI(qy),aI=sc(.33,1.53,.69,.99),Ky=sI(aI),Hj=iI(Ky),Wj=t=>(t*=2)<1?.5*Ky(t):.5*(2-Math.pow(2,-10*(t-1))),YE={linear:Qe,easeIn:$j,easeInOut:rI,easeOut:Bj,circIn:qy,circInOut:zj,circOut:oI,backIn:Ky,backInOut:Hj,backOut:aI,anticipate:Wj},XE=t=>{if(Array.isArray(t)){Ch(t.length===4);const[e,n,r,i]=t;return sc(e,n,r,i)}else if(typeof t=="string")return Ch(YE[t]!==void 0),YE[t];return t},Gy=(t,e)=>n=>!!(rc(n)&&GL.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),lI=(t,e,n)=>r=>{if(!rc(r))return r;const[i,s,o,a]=r.match(Of);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},qj=t=>Di(0,255,t),Zp={...Zs,transform:t=>Math.round(qj(t))},_s={test:Gy("rgb","red"),parse:lI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Zp.transform(t)+", "+Zp.transform(e)+", "+Zp.transform(n)+", "+Xl(Yl.transform(r))+")"};function Kj(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Ng={test:Gy("#"),parse:Kj,transform:_s.transform},No={test:Gy("hsl","hue"),parse:lI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+or.transform(Xl(e))+", "+or.transform(Xl(n))+", "+Xl(Yl.transform(r))+")"},Mt={test:t=>_s.test(t)||Ng.test(t)||No.test(t),parse:t=>_s.test(t)?_s.parse(t):No.test(t)?No.parse(t):Ng.parse(t),transform:t=>rc(t)?t:t.hasOwnProperty("red")?_s.transform(t):No.transform(t)},Me=(t,e,n)=>-n*t+n*e+t;function em(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Gj({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=em(l,a,t+1/3),s=em(l,a,t),o=em(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const tm=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},Qj=[Ng,_s,No],Yj=t=>Qj.find(e=>e.test(t));function JE(t){const e=Yj(t);let n=e.parse(t);return e===No&&(n=Gj(n)),n}const uI=(t,e)=>{const n=JE(t),r=JE(e),i={...n};return s=>(i.red=tm(n.red,r.red,s),i.green=tm(n.green,r.green,s),i.blue=tm(n.blue,r.blue,s),i.alpha=Me(n.alpha,r.alpha,s),_s.transform(i))};function Xj(t){var e,n;return isNaN(t)&&rc(t)&&(((e=t.match(Of))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Mb))===null||n===void 0?void 0:n.length)||0)>0}const cI={regex:qL,countKey:"Vars",token:"${v}",parse:Qe},dI={regex:Mb,countKey:"Colors",token:"${c}",parse:Mt.parse},hI={regex:Of,countKey:"Numbers",token:"${n}",parse:Zs.parse};function nm(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function Sh(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&nm(n,cI),nm(n,dI),nm(n,hI),n}function fI(t){return Sh(t).values}function pI(t){const{values:e,numColors:n,numVars:r,tokenised:i}=Sh(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(cI.token,o[l]):l<r+n?a=a.replace(dI.token,Mt.transform(o[l])):a=a.replace(hI.token,Xl(o[l]));return a}}const Jj=t=>typeof t=="number"?0:t;function Zj(t){const e=fI(t);return pI(t)(e.map(Jj))}const Oi={test:Xj,parse:fI,createTransformer:pI,getAnimatableNone:Zj},mI=(t,e)=>n=>`${n>0?e:t}`;function gI(t,e){return typeof t=="number"?n=>Me(t,e,n):Mt.test(t)?uI(t,e):t.startsWith("var(")?mI(t,e):yI(t,e)}const vI=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>gI(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},eV=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=gI(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},yI=(t,e)=>{const n=Oi.createTransformer(e),r=Sh(t),i=Sh(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?bi(vI(r.values,i.values),n):mI(t,e)},Ou=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ZE=(t,e)=>n=>Me(t,e,n);function tV(t){return typeof t=="number"?ZE:typeof t=="string"?Mt.test(t)?uI:yI:Array.isArray(t)?vI:typeof t=="object"?eV:ZE}function nV(t,e,n){const r=[],i=n||tV(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Qe:e;a=bi(l,a)}r.push(a)}return r}function wI(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Ch(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=nV(e,r,i),a=o.length,l=u=>{let d=0;if(a>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=Ou(t[d],t[d+1],u);return o[d](h)};return n?u=>l(Di(t[0],t[s-1],u)):l}function rV(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Ou(0,e,r);t.push(Me(n,1,i))}}function iV(t){const e=[0];return rV(e,t.length-1),e}function sV(t,e){return t.map(n=>n*e)}function oV(t,e){return t.map(()=>e||rI).splice(0,t.length-1)}function bh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Uj(r)?r.map(XE):XE(r),s={done:!1,value:e[0]},o=sV(n&&n.length===e.length?n:iV(e),t),a=wI(o,e,{ease:Array.isArray(i)?i:oV(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function _I(t,e){return e?t*(1e3/e):0}const aV=5;function EI(t,e,n){const r=Math.max(e-aV,0);return _I(n-t(r),e-r)}const rm=.001,lV=.01,uV=10,cV=.05,dV=1;function hV({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=Di(cV,dV,o),t=Di(lV,uV,kr(t)),o<1?(i=u=>{const d=u*o,h=d*t,f=d-n,m=Dg(u,o),y=Math.exp(-h);return rm-f/m*y},s=u=>{const h=u*o*t,f=h*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,y=Math.exp(-h),T=Dg(Math.pow(u,2),o);return(-i(u)+rm>0?-1:1)*((f-m)*y)/T}):(i=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-rm+d*h},s=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const a=5/t,l=pV(i,s,a);if(t=Is(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const fV=12;function pV(t,e,n){let r=n;for(let i=1;i<fV;i++)r=r-t(r)/e(r);return r}function Dg(t,e){return t*Math.sqrt(1-e*e)}const mV=["duration","bounce"],gV=["stiffness","damping","mass"];function e1(t,e){return e.some(n=>t[n]!==void 0)}function vV(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!e1(t,gV)&&e1(t,mV)){const n=hV(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function xI({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=vV({...r,velocity:-kr(r.velocity||0)}),m=h||0,y=l/(2*Math.sqrt(a*u)),T=s-i,S=kr(Math.sqrt(a/u)),b=Math.abs(T)<5;n||(n=b?.01:2),e||(e=b?.005:.5);let x;if(y<1){const E=Dg(S,y);x=R=>{const O=Math.exp(-y*S*R);return s-O*((m+y*S*T)/E*Math.sin(E*R)+T*Math.cos(E*R))}}else if(y===1)x=E=>s-Math.exp(-S*E)*(T+(m+S*T)*E);else{const E=S*Math.sqrt(y*y-1);x=R=>{const O=Math.exp(-y*S*R),A=Math.min(E*R,300);return s-O*((m+y*S*T)*Math.sinh(A)+E*T*Math.cosh(A))/E}}return{calculatedDuration:f&&d||null,next:E=>{const R=x(E);if(f)o.done=E>=d;else{let O=m;E!==0&&(y<1?O=EI(x,E,R):O=0);const A=Math.abs(O)<=n,_=Math.abs(s-R)<=e;o.done=A&&_}return o.value=o.done?s:R,o}}}function t1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=w=>a!==void 0&&w<a||l!==void 0&&w>l,y=w=>a===void 0?l:l===void 0||Math.abs(a-w)<Math.abs(l-w)?a:l;let T=n*e;const S=h+T,b=o===void 0?S:o(S);b!==S&&(T=b-h);const x=w=>-T*Math.exp(-w/r),E=w=>b+x(w),R=w=>{const I=x(w),P=E(w);f.done=Math.abs(I)<=u,f.value=f.done?b:P};let O,A;const _=w=>{m(f.value)&&(O=w,A=xI({keyframes:[f.value,y(f.value)],velocity:EI(E,w,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return _(0),{calculatedDuration:null,next:w=>{let I=!1;return!A&&O===void 0&&(I=!0,R(w),_(w)),O!==void 0&&w>O?A.next(w-O):(!I&&R(w),f)}}}const yV=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Re.update(e,!0),stop:()=>Fr(e),now:()=>bt.isProcessing?bt.timestamp:performance.now()}},n1=2e4;function r1(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<n1;)e+=n,r=t.next(e);return e>=n1?1/0:e}const wV={decay:t1,inertia:t1,tween:bh,keyframes:bh,spring:xI};function Ih({autoplay:t=!0,delay:e=0,driver:n=yV,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:d,onUpdate:h,...f}){let m=1,y=!1,T,S;const b=()=>{S=new Promise(q=>{T=q})};b();let x;const E=wV[i]||bh;let R;E!==bh&&typeof r[0]!="number"&&(R=wI([0,100],r,{clamp:!1}),r=[0,100]);const O=E({...f,keyframes:r});let A;a==="mirror"&&(A=E({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let _="idle",w=null,I=null,P=null;O.calculatedDuration===null&&s&&(O.calculatedDuration=r1(O));const{calculatedDuration:N}=O;let M=1/0,D=1/0;N!==null&&(M=N+o,D=M*(s+1)-o);let H=0;const J=q=>{if(I===null)return;m>0&&(I=Math.min(I,q)),m<0&&(I=Math.min(q-D/m,I)),w!==null?H=w:H=Math.round(q-I)*m;const te=H-e*(m>=0?1:-1),le=m>=0?te<0:te>D;H=Math.max(te,0),_==="finished"&&w===null&&(H=D);let Ee=H,de=O;if(s){const Ln=Math.min(H,D)/M;let jn=Math.floor(Ln),_t=Ln%1;!_t&&Ln>=1&&(_t=1),_t===1&&jn--,jn=Math.min(jn,s+1),!!(jn%2)&&(a==="reverse"?(_t=1-_t,o&&(_t-=o/M)):a==="mirror"&&(de=A)),Ee=Di(0,1,_t)*M}const Ie=le?{done:!1,value:r[0]}:de.next(Ee);R&&(Ie.value=R(Ie.value));let{done:qe}=Ie;!le&&N!==null&&(qe=m>=0?H>=D:H<=0);const Wt=w===null&&(_==="finished"||_==="running"&&qe);return h&&h(Ie.value),Wt&&V(),Ie},Q=()=>{x&&x.stop(),x=void 0},F=()=>{_="idle",Q(),T(),b(),I=P=null},V=()=>{_="finished",d&&d(),Q(),T()},$=()=>{if(y)return;x||(x=n(J));const q=x.now();l&&l(),w!==null?I=q-w:(!I||_==="finished")&&(I=q),_==="finished"&&b(),P=I,w=null,_="running",x.start()};t&&$();const G={then(q,te){return S.then(q,te)},get time(){return kr(H)},set time(q){q=Is(q),H=q,w!==null||!x||m===0?w=q:I=x.now()-q/m},get duration(){const q=O.calculatedDuration===null?r1(O):O.calculatedDuration;return kr(q)},get speed(){return m},set speed(q){q===m||!x||(m=q,G.time=kr(H))},get state(){return _},play:$,pause:()=>{_="paused",w=H},stop:()=>{y=!0,_!=="idle"&&(_="idle",u&&u(),F())},cancel:()=>{P!==null&&J(P),F()},complete:()=>{_="finished"},sample:q=>(I=0,J(q))};return G}function _V(t){let e;return()=>(e===void 0&&(e=t()),e)}const EV=_V(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),xV=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),od=10,TV=2e4,CV=(t,e)=>e.type==="spring"||t==="backgroundColor"||!Zb(e.ease);function SV(t,e,{onUpdate:n,onComplete:r,...i}){if(!(EV()&&xV.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l,u=!1;const d=()=>{l=new Promise(E=>{a=E})};d();let{keyframes:h,duration:f=300,ease:m,times:y}=i;if(CV(e,i)){const E=Ih({...i,repeat:0,delay:0});let R={done:!1,value:h[0]};const O=[];let A=0;for(;!R.done&&A<TV;)R=E.sample(A),O.push(R.value),A+=od;y=void 0,h=O,f=A-od,m="linear"}const T=Mj(t.owner.current,e,h,{...i,duration:f,ease:m,times:y}),S=()=>{u=!1,T.cancel()},b=()=>{u=!0,Re.update(S),a(),d()};return T.onfinish=()=>{u||(t.set(Lj(h,i)),r&&r(),b())},{then(E,R){return l.then(E,R)},attachTimeline(E){return T.timeline=E,T.onfinish=null,Qe},get time(){return kr(T.currentTime||0)},set time(E){T.currentTime=Is(E)},get speed(){return T.playbackRate},set speed(E){T.playbackRate=E},get duration(){return kr(f)},play:()=>{o||(T.play(),Fr(S))},pause:()=>T.pause(),stop:()=>{if(o=!0,T.playState==="idle")return;const{currentTime:E}=T;if(E){const R=Ih({...i,autoplay:!1});t.setWithVelocity(R.sample(E-od).value,R.sample(E).value,od)}b()},complete:()=>{u||T.finish()},cancel:b}}function bV({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Qe,pause:Qe,stop:Qe,then:s=>(s(),Promise.resolve()),cancel:Qe,complete:Qe});return e?Ih({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const IV={type:"spring",stiffness:500,damping:25,restSpeed:10},PV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),RV={type:"keyframes",duration:.8},AV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},kV=(t,{keyframes:e})=>e.length>2?RV:Js.has(t)?t.startsWith("scale")?PV(e[1]):IV:AV,Og=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Oi.test(e)||e==="0")&&!e.startsWith("url(")),NV=new Set(["brightness","contrast","saturate","opacity"]);function DV(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Of)||[];if(!r)return t;const i=n.replace(r,"");let s=NV.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const OV=/([a-z-]*)\(.*?\)/g,Mg={...Oi,getAnimatableNone:t=>{const e=t.match(OV);return e?e.map(DV).join(" "):t}},MV={...Lb,color:Mt,backgroundColor:Mt,outlineColor:Mt,fill:Mt,stroke:Mt,borderColor:Mt,borderTopColor:Mt,borderRightColor:Mt,borderBottomColor:Mt,borderLeftColor:Mt,filter:Mg,WebkitFilter:Mg},Qy=t=>MV[t];function TI(t,e){let n=Qy(t);return n!==Mg&&(n=Oi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const CI=t=>/^0[^.\s]+$/.test(t);function LV(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||CI(t)}function jV(t,e,n,r){const i=Og(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),LV(s[u])&&l.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(a=s[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const d=l[u];s[d]=TI(e,a)}return s}function VV({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function Yy(t,e){return t[e]||t.default||t}const FV={skipAnimations:!1},Xy=(t,e,n,r={})=>i=>{const s=Yy(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Is(o);const l=jV(e,t,n,s),u=l[0],d=l[l.length-1],h=Og(t,u),f=Og(t,d);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:y=>{e.set(y),s.onUpdate&&s.onUpdate(y)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(VV(s)||(m={...m,...kV(t,m)}),m.duration&&(m.duration=Is(m.duration)),m.repeatDelay&&(m.repeatDelay=Is(m.repeatDelay)),!h||!f||Oj.current||s.type===!1||FV.skipAnimations)return bV(m);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const y=SV(e,t,m);if(y)return y}return Ih(m)};function Ph(t){return!!(en(t)&&t.add)}const SI=t=>/^\-?\d*\.?\d+$/.test(t);function Jy(t,e){t.indexOf(e)===-1&&t.push(e)}function Zy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class e0{constructor(){this.subscriptions=[]}add(e){return Jy(this.subscriptions,e),()=>Zy(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $V=t=>!isNaN(parseFloat(t));class BV{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=bt;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Re.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Re.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=$V(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new e0);const r=this.events[e].add(n);return e==="change"?()=>{r(),Re.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?_I(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function la(t,e){return new BV(t,e)}const bI=t=>e=>e.test(t),UV={test:t=>t==="auto",parse:t=>t},II=[Zs,se,or,ti,YL,QL,UV],vl=t=>II.find(bI(t)),zV=[...II,Mt,Oi],HV=t=>zV.find(bI(t));function WV(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,la(n))}function qV(t,e){const n=Lf(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=cj(s[o]);WV(t,o,a)}}function KV(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),d!=null&&(typeof d=="string"&&(SI(d)||CI(d))?d=parseFloat(d):!HV(d)&&Oi.test(u)&&(d=TI(l,u)),t.addValue(l,la(d,{owner:t})),n[l]===void 0&&(n[l]=d),d!==null&&t.setBaseTarget(l,d))}}function GV(t,e){return e?(e[t]||e.default||e).from:void 0}function QV(t,e,n){const r={};for(const i in t){const s=GV(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function YV({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function XV(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function PI(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const f=t.getValue(h),m=a[h];if(!f||m===void 0||d&&YV(d,h))continue;const y={delay:n,elapsed:0,...Yy(s||{},h)};if(window.HandoffAppearAnimations){const b=t.getProps()[Rb];if(b){const x=window.HandoffAppearAnimations(b,h,f,Re);x!==null&&(y.elapsed=x,y.isHandoff=!0)}}let T=!y.isHandoff&&!XV(f,m);if(y.type==="spring"&&(f.getVelocity()||y.velocity)&&(T=!1),f.animation&&(T=!1),T)continue;f.start(Xy(h,f,m,t.shouldReduceMotion&&Js.has(h)?{type:!1}:y));const S=f.animation;Ph(l)&&(l.add(h),S.then(()=>l.remove(h))),u.push(S)}return o&&Promise.all(u).then(()=>{o&&qV(t,o)}),u}function Lg(t,e,n={}){const r=Lf(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(PI(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=i;return JV(t,e,u+l,d,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function JV(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(ZV).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(Lg(u,e,{...s,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function ZV(t,e){return t.sortNodePosition(e)}function eF(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Lg(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Lg(t,e,n);else{const i=typeof e=="function"?Lf(t,e,n.custom):e;r=Promise.all(PI(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const tF=[...Ly].reverse(),nF=Ly.length;function rF(t){return e=>Promise.all(e.map(({animation:n,options:r})=>eF(t,n,r)))}function iF(t){let e=rF(t);const n=oF();let r=!0;const i=(l,u)=>{const d=Lf(t,u);if(d){const{transition:h,transitionEnd:f,...m}=d;l={...l,...m,...f}}return l};function s(l){e=l(t)}function o(l,u){const d=t.getProps(),h=t.getVariantContext(!0)||{},f=[],m=new Set;let y={},T=1/0;for(let b=0;b<nF;b++){const x=tF[b],E=n[x],R=d[x]!==void 0?d[x]:h[x],O=Nu(R),A=x===u?E.isActive:null;A===!1&&(T=b);let _=R===h[x]&&R!==d[x]&&O;if(_&&r&&t.manuallyAnimateOnMount&&(_=!1),E.protectedKeys={...y},!E.isActive&&A===null||!R&&!E.prevProp||Nf(R)||typeof R=="boolean")continue;let I=sF(E.prevProp,R)||x===u&&E.isActive&&!_&&O||b>T&&O,P=!1;const N=Array.isArray(R)?R:[R];let M=N.reduce(i,{});A===!1&&(M={});const{prevResolvedValues:D={}}=E,H={...D,...M},J=Q=>{I=!0,m.has(Q)&&(P=!0,m.delete(Q)),E.needsAnimating[Q]=!0};for(const Q in H){const F=M[Q],V=D[Q];if(y.hasOwnProperty(Q))continue;let $=!1;Th(F)&&Th(V)?$=!Xb(F,V):$=F!==V,$?F!==void 0?J(Q):m.add(Q):F!==void 0&&m.has(Q)?J(Q):E.protectedKeys[Q]=!0}E.prevProp=R,E.prevResolvedValues=M,E.isActive&&(y={...y,...M}),r&&t.blockInitialAnimation&&(I=!1),I&&(!_||P)&&f.push(...N.map(Q=>({animation:Q,options:{type:x,...l}})))}if(m.size){const b={};m.forEach(x=>{const E=t.getBaseTarget(x);E!==void 0&&(b[x]=E)}),f.push({animation:b})}let S=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(f):Promise.resolve()}function a(l,u,d){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(l,u)}),n[l].isActive=u;const f=o(d,l);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function sF(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Xb(e,t):!1}function cs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function oF(){return{animate:cs(!0),whileInView:cs(),whileHover:cs(),whileTap:cs(),whileDrag:cs(),whileFocus:cs(),exit:cs()}}class aF extends Gi{constructor(e){super(e),e.animationState||(e.animationState=iF(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Nf(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let lF=0;class uF extends Gi{constructor(){super(...arguments),this.id=lF++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const cF={animation:{Feature:aF},exit:{Feature:uF}},i1=(t,e)=>Math.abs(t-e);function dF(t,e){const n=i1(t.x,e.x),r=i1(t.y,e.y);return Math.sqrt(n**2+r**2)}class RI{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=sm(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=dF(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:y}=h,{timestamp:T}=bt;this.history.push({...y,timestamp:T});const{onStart:S,onMove:b}=this.handlers;f||(S&&S(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=im(f,this.transformPagePoint),Re.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=sm(h.type==="pointercancel"?this.lastMoveEventInfo:im(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,S),y&&y(h,S)},!qb(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Mf(e),a=im(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=bt;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,sm(a,this.history)),this.removeListeners=bi(Ar(this.contextWindow,"pointermove",this.handlePointerMove),Ar(this.contextWindow,"pointerup",this.handlePointerUp),Ar(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Fr(this.updatePoint)}}function im(t,e){return e?{point:e(t.point)}:t}function s1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function sm({point:t},e){return{point:t,delta:s1(t,AI(e)),offset:s1(t,hF(e)),velocity:fF(e,.1)}}function hF(t){return t[0]}function AI(t){return t[t.length-1]}function fF(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=AI(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Is(e)));)n--;if(!r)return{x:0,y:0};const s=kr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function dn(t){return t.max-t.min}function jg(t,e=0,n=.01){return Math.abs(t-e)<=n}function o1(t,e,n,r=.5){t.origin=r,t.originPoint=Me(e.min,e.max,t.origin),t.scale=dn(n)/dn(e),(jg(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Me(n.min,n.max,t.origin)-t.originPoint,(jg(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Jl(t,e,n,r){o1(t.x,e.x,n.x,r?r.originX:void 0),o1(t.y,e.y,n.y,r?r.originY:void 0)}function a1(t,e,n){t.min=n.min+e.min,t.max=t.min+dn(e)}function pF(t,e,n){a1(t.x,e.x,n.x),a1(t.y,e.y,n.y)}function l1(t,e,n){t.min=e.min-n.min,t.max=t.min+dn(e)}function Zl(t,e,n){l1(t.x,e.x,n.x),l1(t.y,e.y,n.y)}function mF(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Me(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Me(n,t,r.max):Math.min(t,n)),t}function u1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function gF(t,{top:e,left:n,bottom:r,right:i}){return{x:u1(t.x,n,i),y:u1(t.y,e,r)}}function c1(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function vF(t,e){return{x:c1(t.x,e.x),y:c1(t.y,e.y)}}function yF(t,e){let n=.5;const r=dn(t),i=dn(e);return i>r?n=Ou(e.min,e.max-r,t.min):r>i&&(n=Ou(t.min,t.max-i,e.min)),Di(0,1,n)}function wF(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Vg=.35;function _F(t=Vg){return t===!1?t=0:t===!0&&(t=Vg),{x:d1(t,"left","right"),y:d1(t,"top","bottom")}}function d1(t,e,n){return{min:h1(t,e),max:h1(t,n)}}function h1(t,e){return typeof t=="number"?t:t[e]||0}const f1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Do=()=>({x:f1(),y:f1()}),p1=()=>({min:0,max:0}),Je=()=>({x:p1(),y:p1()});function yn(t){return[t("x"),t("y")]}function kI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function EF({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function xF(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function om(t){return t===void 0||t===1}function Fg({scale:t,scaleX:e,scaleY:n}){return!om(t)||!om(e)||!om(n)}function fs(t){return Fg(t)||NI(t)||t.z||t.rotate||t.rotateX||t.rotateY}function NI(t){return m1(t.x)||m1(t.y)}function m1(t){return t&&t!=="0%"}function Rh(t,e,n){const r=t-n,i=e*r;return n+i}function g1(t,e,n,r,i){return i!==void 0&&(t=Rh(t,i,r)),Rh(t,n,r)+e}function $g(t,e=0,n=1,r,i){t.min=g1(t.min,e,n,r,i),t.max=g1(t.max,e,n,r,i)}function DI(t,{x:e,y:n}){$g(t.x,e.translate,e.scale,e.originPoint),$g(t.y,n.translate,n.scale,n.originPoint)}function TF(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Oo(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,DI(t,o)),r&&fs(s.latestValues)&&Oo(t,s.latestValues))}e.x=v1(e.x),e.y=v1(e.y)}function v1(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function ii(t,e){t.min=t.min+e,t.max=t.max+e}function y1(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Me(t.min,t.max,s);$g(t,e[n],e[r],o,e.scale)}const CF=["x","scaleX","originX"],SF=["y","scaleY","originY"];function Oo(t,e){y1(t.x,e,CF),y1(t.y,e,SF)}function OI(t,e){return kI(xF(t.getBoundingClientRect(),e))}function bF(t,e,n){const r=OI(t,n),{scroll:i}=e;return i&&(ii(r.x,i.offset.x),ii(r.y,i.offset.y)),r}const MI=({current:t})=>t?t.ownerDocument.defaultView:null,IF=new WeakMap;class PF{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Je(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Mf(d,"page").point)},s=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:y}=this.getProps();if(f&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Gb(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),yn(S=>{let b=this.getAxisMotionValue(S).get()||0;if(or.test(b)){const{projection:x}=this.visualElement;if(x&&x.layout){const E=x.layout.layoutBox[S];E&&(b=dn(E)*(parseFloat(b)/100))}}this.originPoint[S]=b}),y&&Re.update(()=>y(d,h),!1,!0);const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:y,onDrag:T}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:S}=h;if(m&&this.currentDirection===null){this.currentDirection=RF(S),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,S),this.updateAxis("y",h.point,S),this.visualElement.render(),T&&T(d,h)},a=(d,h)=>this.stop(d,h),l=()=>yn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new RI(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:MI(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Re.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!ad(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=mF(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&ko(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=gF(i.layoutBox,n):this.constraints=!1,this.elastic=_F(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&yn(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=wF(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ko(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=bF(r,i.root,this.visualElement.getTransformPagePoint());let o=vF(i.layout.layoutBox,s);if(n){const a=n(EF(o));this.hasMutatedConstraints=!!a,a&&(o=kI(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=yn(d=>{if(!ad(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Xy(e,r,0,n))}stopAnimation(){yn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){yn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){yn(n=>{const{drag:r}=this.getProps();if(!ad(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Me(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ko(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};yn(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=yF({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),yn(o=>{if(!ad(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Me(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;IF.set(this.visualElement,this);const e=this.visualElement.current,n=Ar(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ko(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Sr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(yn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Vg,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function ad(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function RF(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class AF extends Gi{constructor(e){super(e),this.removeGroupControls=Qe,this.removeListeners=Qe,this.controls=new PF(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qe}unmount(){this.removeGroupControls(),this.removeListeners()}}const w1=t=>(e,n)=>{t&&Re.update(()=>t(e,n))};class kF extends Gi{constructor(){super(...arguments),this.removePointerDownListener=Qe}onPointerDown(e){this.session=new RI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:MI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:w1(e),onStart:w1(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Re.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Ar(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function NF(){const t=v.useContext(Af);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=v.useId();return v.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const Dd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const yl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(se.test(t))t=parseFloat(t);else return t;const n=_1(t,e.target.x),r=_1(t,e.target.y);return`${n}% ${r}%`}},DF={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Oi.parse(t);if(i.length>5)return r;const s=Oi.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=Me(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class OF extends W.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;UL(MF),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Dd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Re.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function LI(t){const[e,n]=NF(),r=v.useContext(Vy);return W.createElement(OF,{...t,layoutGroup:r,switchLayoutGroup:v.useContext(kb),isPresent:e,safeToRemove:n})}const MF={borderRadius:{...yl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:yl,borderTopRightRadius:yl,borderBottomLeftRadius:yl,borderBottomRightRadius:yl,boxShadow:DF},jI=["TopLeft","TopRight","BottomLeft","BottomRight"],LF=jI.length,E1=t=>typeof t=="string"?parseFloat(t):t,x1=t=>typeof t=="number"||se.test(t);function jF(t,e,n,r,i,s){i?(t.opacity=Me(0,n.opacity!==void 0?n.opacity:1,VF(r)),t.opacityExit=Me(e.opacity!==void 0?e.opacity:1,0,FF(r))):s&&(t.opacity=Me(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<LF;o++){const a=`border${jI[o]}Radius`;let l=T1(e,a),u=T1(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||x1(l)===x1(u)?(t[a]=Math.max(Me(E1(l),E1(u),r),0),(or.test(u)||or.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Me(e.rotate||0,n.rotate||0,r))}function T1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const VF=VI(0,.5,oI),FF=VI(.5,.95,Qe);function VI(t,e,n){return r=>r<t?0:r>e?1:n(Ou(t,e,r))}function C1(t,e){t.min=e.min,t.max=e.max}function vn(t,e){C1(t.x,e.x),C1(t.y,e.y)}function S1(t,e,n,r,i){return t-=e,t=Rh(t,1/n,r),i!==void 0&&(t=Rh(t,1/i,r)),t}function $F(t,e=0,n=1,r=.5,i,s=t,o=t){if(or.test(e)&&(e=parseFloat(e),e=Me(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Me(s.min,s.max,r);t===s&&(a-=e),t.min=S1(t.min,e,n,a,i),t.max=S1(t.max,e,n,a,i)}function b1(t,e,[n,r,i],s,o){$F(t,e[n],e[r],e[i],e.scale,s,o)}const BF=["x","scaleX","originX"],UF=["y","scaleY","originY"];function I1(t,e,n,r){b1(t.x,e,BF,n?n.x:void 0,r?r.x:void 0),b1(t.y,e,UF,n?n.y:void 0,r?r.y:void 0)}function P1(t){return t.translate===0&&t.scale===1}function FI(t){return P1(t.x)&&P1(t.y)}function zF(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function $I(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function R1(t){return dn(t.x)/dn(t.y)}class HF{constructor(){this.members=[]}add(e){Jy(this.members,e),e.scheduleRender()}remove(e){if(Zy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function A1(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const WF=(t,e)=>t.depth-e.depth;class qF{constructor(){this.children=[],this.isDirty=!1}add(e){Jy(this.children,e),this.isDirty=!0}remove(e){Zy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(WF),this.isDirty=!1,this.children.forEach(e)}}function KF(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Fr(r),t(s-e))};return Re.read(r,!0),()=>Fr(r)}function GF(t){window.MotionDebug&&window.MotionDebug.record(t)}function QF(t){return t instanceof SVGElement&&t.tagName!=="svg"}function YF(t,e,n){const r=en(t)?t:la(t);return r.start(Xy("",r,e,n)),r.animation}const k1=["","X","Y","Z"],XF={visibility:"hidden"},N1=1e3;let JF=0;const ps={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function BI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=JF++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ps.totalNodes=ps.resolvedTargetDeltas=ps.recalculatedProjection=0,this.nodes.forEach(t$),this.nodes.forEach(o$),this.nodes.forEach(a$),this.nodes.forEach(n$),GF(ps)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new qF)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new e0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=QF(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=KF(f,250),Dd.hasAnimatedSinceResize&&(Dd.hasAnimatedSinceResize=!1,this.nodes.forEach(O1))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||d.getDefaultTransition()||h$,{onLayoutAnimationStart:S,onLayoutAnimationComplete:b}=d.getProps(),x=!this.targetLayout||!$I(this.targetLayout,y)||m,E=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,E);const R={...Yy(T,"layout"),onPlay:S,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else f||O1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Fr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(l$),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(D1);return}this.isUpdating||this.nodes.forEach(i$),this.isUpdating=!1,this.nodes.forEach(s$),this.nodes.forEach(ZF),this.nodes.forEach(e$),this.clearAllSnapshots();const a=performance.now();bt.delta=Di(0,1e3/60,a-bt.timestamp),bt.timestamp=a,bt.isProcessing=!0,Yp.update.process(bt),Yp.preRender.process(bt),Yp.render.process(bt),bt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(r$),this.sharedNodes.forEach(u$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Re.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Re.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Je(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!FI(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||fs(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),f$(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Je();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(ii(a.x,l.offset.x),ii(a.y,l.offset.y)),a}removeElementScroll(o){const a=Je();vn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){vn(a,o);const{scroll:f}=this.root;f&&(ii(a.x,-f.offset.x),ii(a.y,-f.offset.y))}ii(a.x,d.offset.x),ii(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const l=Je();vn(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Oo(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),fs(d.latestValues)&&Oo(l,d.latestValues)}return fs(this.latestValues)&&Oo(l,this.latestValues),l}removeTransform(o){const a=Je();vn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!fs(u.latestValues))continue;Fg(u.latestValues)&&u.updateSnapshot();const d=Je(),h=u.measurePageBox();vn(d,h),I1(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return fs(this.latestValues)&&I1(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=bt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Je(),this.relativeTargetOrigin=Je(),Zl(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Je(),this.targetWithTransforms=Je()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),pF(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vn(this.target,this.layout.layoutBox),DI(this.target,this.targetDelta)):vn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Je(),this.relativeTargetOrigin=Je(),Zl(this.relativeTargetOrigin,this.target,m.target),vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ps.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Fg(this.parent.latestValues)||NI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===bt.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;vn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;TF(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:y}=a;if(!y){this.projectionTransform&&(this.projectionDelta=Do(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Do(),this.projectionDeltaWithTransform=Do());const T=this.projectionTransform;Jl(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=A1(this.projectionDelta,this.treeScale),(this.projectionTransform!==T||this.treeScale.x!==f||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),ps.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=Do();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Je(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,T=m!==y,S=this.getStack(),b=!S||S.members.length<=1,x=!!(T&&!b&&this.options.crossfade===!0&&!this.path.some(d$));this.animationProgress=0;let E;this.mixTargetDelta=R=>{const O=R/1e3;M1(h.x,o.x,O),M1(h.y,o.y,O),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zl(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),c$(this.relativeTarget,this.relativeTargetOrigin,f,O),E&&zF(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Je()),vn(E,this.relativeTarget)),T&&(this.animationValues=d,jF(d,u,this.latestValues,O,x,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Fr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Re.update(()=>{Dd.hasAnimatedSinceResize=!0,this.currentAnimation=YF(0,N1,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(N1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&UI(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Je();const h=dn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=dn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}vn(a,l),Oo(a,d),Jl(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new HF),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<k1.length;d++){const h="rotate"+k1[d];l[h]&&(u[h]=l[h],o.setStaticValue(h,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return XF;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Nd(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=Nd(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!fs(this.latestValues)&&(T.transform=d?d({},""):"none",this.hasProjected=!1),T}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=A1(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:m,y}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const T in Eh){if(f[T]===void 0)continue;const{correct:S,applyTo:b}=Eh[T],x=u.transform==="none"?f[T]:S(f[T],h);if(b){const E=b.length;for(let R=0;R<E;R++)u[b[R]]=x}else u[T]=x}return this.options.layoutId&&(u.pointerEvents=h===this?Nd(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(D1),this.root.sharedNodes.clear()}}}function ZF(t){t.updateLayout()}function e$(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?yn(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],m=dn(f);f.min=r[h].min,f.max=f.min+m}):UI(s,n.layoutBox,r)&&yn(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],m=dn(r[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=Do();Jl(a,r,n.layoutBox);const l=Do();o?Jl(l,t.applyTransform(i,!0),n.measuredBox):Jl(l,r,n.layoutBox);const u=!FI(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const y=Je();Zl(y,n.layoutBox,f.layoutBox);const T=Je();Zl(T,r,m.layoutBox),$I(y,T)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=y,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function t$(t){ps.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function n$(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function r$(t){t.clearSnapshot()}function D1(t){t.clearMeasurements()}function i$(t){t.isLayoutDirty=!1}function s$(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function O1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function o$(t){t.resolveTargetDelta()}function a$(t){t.calcProjection()}function l$(t){t.resetRotation()}function u$(t){t.removeLeadSnapshot()}function M1(t,e,n){t.translate=Me(e.translate,0,n),t.scale=Me(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function L1(t,e,n,r){t.min=Me(e.min,n.min,r),t.max=Me(e.max,n.max,r)}function c$(t,e,n,r){L1(t.x,e.x,n.x,r),L1(t.y,e.y,n.y,r)}function d$(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const h$={duration:.45,ease:[.4,0,.1,1]},j1=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),V1=j1("applewebkit/")&&!j1("chrome/")?Math.round:Qe;function F1(t){t.min=V1(t.min),t.max=V1(t.max)}function f$(t){F1(t.x),F1(t.y)}function UI(t,e,n){return t==="position"||t==="preserve-aspect"&&!jg(R1(e),R1(n),.2)}const p$=BI({attachResizeListener:(t,e)=>Sr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),am={current:void 0},zI=BI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!am.current){const t=new p$({});t.mount(window),t.setOptions({layoutScroll:!0}),am.current=t}return am.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),m$={pan:{Feature:kF},drag:{Feature:AF,ProjectionNode:zI,MeasureLayout:LI}},g$=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function v$(t){const e=g$.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Bg(t,e,n=1){const[r,i]=v$(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return SI(o)?parseFloat(o):o}else return Ag(i)?Bg(i,e,n+1):i}function y$(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!Ag(s))return;const o=Bg(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!Ag(s))continue;const o=Bg(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const w$=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),HI=t=>w$.has(t),_$=t=>Object.keys(t).some(HI),$1=t=>t===Zs||t===se,B1=(t,e)=>parseFloat(t.split(", ")[e]),U1=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return B1(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?B1(s[1],t):0}},E$=new Set(["x","y","z"]),x$=nc.filter(t=>!E$.has(t));function T$(t){const e=[];return x$.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const ua={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:U1(4,13),y:U1(5,14)};ua.translateX=ua.x;ua.translateY=ua.y;const C$=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{a[u]=ua[u](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const d=e.getValue(u);d&&d.jump(a[u]),t[u]=ua[u](l,s)}),t},S$=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(HI);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let d=n[l],h=vl(d);const f=e[l];let m;if(Th(f)){const y=f.length,T=f[0]===null?1:0;d=f[T],h=vl(d);for(let S=T;S<y&&f[S]!==null;S++)m?Ch(vl(f[S])===m):m=vl(f[S])}else m=vl(f);if(h!==m)if($1(h)&&$1(m)){const y=u.get();typeof y=="string"&&u.set(parseFloat(y)),typeof f=="string"?e[l]=parseFloat(f):Array.isArray(f)&&m===se&&(e[l]=f.map(parseFloat))}else h!=null&&h.transform&&(m!=null&&m.transform)&&(d===0||f===0)?d===0?u.set(m.transform(d)):e[l]=h.transform(f):(o||(s=T$(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=C$(e,t,a);return s.length&&s.forEach(([d,h])=>{t.getValue(d).set(h)}),t.render(),kf&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function b$(t,e,n,r){return _$(e)?S$(t,e,n,r):{target:e,transitionEnd:r}}const I$=(t,e,n,r)=>{const i=y$(t,e,r);return e=i.target,r=i.transitionEnd,b$(t,e,n,r)},Ug={current:null},WI={current:!1};function P$(){if(WI.current=!0,!!kf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ug.current=t.matches;t.addListener(e),e()}else Ug.current=!1}function R$(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(en(s))t.addValue(i,s),Ph(r)&&r.add(i);else if(en(o))t.addValue(i,la(s,{owner:t})),Ph(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,la(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const z1=new WeakMap,qI=Object.keys(Du),A$=qI.length,H1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],k$=jy.length;class N${constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Re.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Df(n),this.isVariantNode=Ab(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const h in d){const f=d[h];a[h]!==void 0&&en(f)&&(f.set(a[h],!1),Ph(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,z1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),WI.current||P$(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ug.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){z1.delete(this.current),this.projection&&this.projection.unmount(),Fr(this.notifyUpdate),Fr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Js.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Re.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<A$;l++){const u=qI[l],{isEnabled:d,Feature:h,ProjectionNode:f,MeasureLayout:m}=Du[u];f&&(o=f),d(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),m&&(a=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:d,dragConstraints:h,layoutScroll:f,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||h&&ko(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Je()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<H1.length;r++){const i=H1[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=R$(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<k$;r++){const i=jy[r],s=this.props[i];(Nu(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=la(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=Wy(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!en(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new e0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class KI extends N${sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=QV(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){KV(this,r,o);const a=I$(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function D$(t){return window.getComputedStyle(t)}class O$ extends KI{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Js.has(n)){const r=Qy(n);return r&&r.default||0}else{const r=D$(e),i=(Ob(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return OI(e,n)}build(e,n,r,i){$y(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Hy(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;en(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){$b(e,n,r,i)}}class M$ extends KI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Js.has(n)){const r=Qy(n);return r&&r.default||0}return n=Bb.has(n)?n:My(n),e.getAttribute(n)}measureInstanceViewportBox(){return Je()}scrapeMotionValuesFromProps(e,n){return zb(e,n)}build(e,n,r,i){Uy(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){Ub(e,n,r,i)}mount(e){this.isSVGTag=zy(e.tagName),super.mount(e)}}const L$=(t,e)=>Fy(t)?new M$(e,{enableHardwareAcceleration:!1}):new O$(e,{enableHardwareAcceleration:!0}),j$={layout:{ProjectionNode:zI,MeasureLayout:LI}},V$={...cF,...kj,...m$,...j$},W1=$L((t,e)=>yj(t,e,V$,L$));function GI(){const t=v.useRef(!1);return Oy(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function F$(){const t=GI(),[e,n]=v.useState(0),r=v.useCallback(()=>{t.current&&n(e+1)},[e]);return[v.useCallback(()=>Re.postRender(r),[r]),e]}class $$ extends v.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function B$({children:t,isPresent:e}){const n=v.useId(),r=v.useRef(null),i=v.useRef({width:0,height:0,top:0,left:0});return v.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),v.createElement($$,{isPresent:e,childRef:r,sizeRef:i},v.cloneElement(t,{ref:r}))}const lm=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=Hb(U$),l=v.useId(),u=v.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:d=>{a.set(d,!0);for(const h of a.values())if(!h)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),s?void 0:[n]);return v.useMemo(()=>{a.forEach((d,h)=>a.set(h,!1))},[n]),v.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=v.createElement(B$,{isPresent:n},t)),v.createElement(Af.Provider,{value:u},t)};function U$(){return new Map}function z$(t){return v.useEffect(()=>()=>t(),[])}const ms=t=>t.key||"";function H$(t,e){t.forEach(n=>{const r=ms(n);e.set(r,n)})}function W$(t){const e=[];return v.Children.forEach(t,n=>{v.isValidElement(n)&&e.push(n)}),e}const q$=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=v.useContext(Vy).forceRender||F$()[0],l=GI(),u=W$(t);let d=u;const h=v.useRef(new Map).current,f=v.useRef(d),m=v.useRef(new Map).current,y=v.useRef(!0);if(Oy(()=>{y.current=!1,H$(u,m),f.current=d}),z$(()=>{y.current=!0,m.clear(),h.clear()}),y.current)return v.createElement(v.Fragment,null,d.map(x=>v.createElement(lm,{key:ms(x),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},x)));d=[...d];const T=f.current.map(ms),S=u.map(ms),b=T.length;for(let x=0;x<b;x++){const E=T[x];S.indexOf(E)===-1&&!h.has(E)&&h.set(E,void 0)}return o==="wait"&&h.size&&(d=[]),h.forEach((x,E)=>{if(S.indexOf(E)!==-1)return;const R=m.get(E);if(!R)return;const O=T.indexOf(E);let A=x;if(!A){const _=()=>{h.delete(E);const w=Array.from(m.keys()).filter(I=>!S.includes(I));if(w.forEach(I=>m.delete(I)),f.current=u.filter(I=>{const P=ms(I);return P===E||w.includes(P)}),!h.size){if(l.current===!1)return;a(),r&&r()}};A=v.createElement(lm,{key:ms(R),isPresent:!1,onExitComplete:_,custom:e,presenceAffectsLayout:s,mode:o},R),h.set(E,A)}d.splice(O,0,A)}),d=d.map(x=>{const E=x.key;return h.has(E)?x:v.createElement(lm,{key:ms(x),isPresent:!0,presenceAffectsLayout:s,mode:o},x)}),v.createElement(v.Fragment,null,h.size?d:d.map(x=>v.cloneElement(x)))};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode("")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const gr=W.forwardRef(({breakpoint:t,fluid:e,children:n,className:r,tag:i="div",...s},o)=>{const a=X(`${e?"container-fluid":`container${t?"-"+t:""}`}`,r);return p.jsx(i,{className:a,...s,ref:o,children:n})});gr.displayName="MDBContainer";const Te=W.forwardRef(({center:t,children:e,className:n,end:r,lg:i,md:s,offsetLg:o,offsetMd:a,offsetSm:l,order:u,size:d,sm:h,start:f,tag:m="div",xl:y,xxl:T,xs:S,...b},x)=>{const E=X(d&&`col-${d}`,S&&`col-xs-${S}`,h&&`col-sm-${h}`,s&&`col-md-${s}`,i&&`col-lg-${i}`,y&&`col-xl-${y}`,T&&`col-xxl-${T}`,!d&&!S&&!h&&!s&&!i&&!y&&!T?"col":"",u&&`order-${u}`,f&&"align-self-start",t&&"align-self-center",r&&"align-self-end",l&&`offset-sm-${l}`,a&&`offset-md-${a}`,o&&`offset-lg-${o}`,n);return p.jsx(m,{className:E,ref:x,...b,children:e})});Te.displayName="MDBCol";const K$=W.forwardRef(({className:t,color:e="primary",pill:n,light:r,dot:i,tag:s="span",children:o,notification:a,...l},u)=>{const d=X("badge",r?e&&`badge-${e}`:e&&`bg-${e}`,i&&"badge-dot",n&&"rounded-pill",a&&"badge-notification",t);return p.jsx(s,{className:d,ref:u,...l,children:o})});K$.displayName="MDBBadge";const G$=({...t})=>{const[e,n]=v.useState(!1),r=X("ripple-wave",e&&"active");return v.useEffect(()=>{const i=setTimeout(()=>{n(!0)},50);return()=>{clearTimeout(i)}},[]),p.jsx("div",{className:r,...t})},Q$=(...t)=>{const e=W.useRef();return W.useEffect(()=>{t.forEach(n=>{n&&(typeof n=="function"?n(e.current):n.current=e.current)})},[t]),e},QI=W.forwardRef(({className:t,rippleTag:e="div",rippleCentered:n,rippleDuration:r=500,rippleUnbound:i,rippleRadius:s=0,rippleColor:o="dark",children:a,onMouseDown:l,...u},d)=>{const h=v.useRef(null),f=Q$(d,h),m="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%",y=[0,0,0],T=["primary","secondary","success","danger","warning","info","light","dark"],[S,b]=v.useState([]),[x,E]=v.useState(!1),R=X("ripple","ripple-surface",i&&"ripple-surface-unbound",x&&`ripple-surface-${o}`,t),O=()=>{if(T.find(P=>P===(o==null?void 0:o.toLowerCase())))return E(!0);{const P=A(o).join(",");return`radial-gradient(circle, ${m.split("{{color}}").join(`${P}`)})`}},A=P=>{const N=H=>(H.length<7&&(H=`#${H[1]}${H[1]}${H[2]}${H[2]}${H[3]}${H[3]}`),[parseInt(H.substr(1,2),16),parseInt(H.substr(3,2),16),parseInt(H.substr(5,2),16)]),M=H=>{const J=document.body.appendChild(document.createElement("fictum")),Q="rgb(1, 2, 3)";return J.style.color=Q,J.style.color!==Q||(J.style.color=H,J.style.color===Q||J.style.color==="")?y:(H=getComputedStyle(J).color,document.body.removeChild(J),H)},D=H=>(H=H.match(/[.\d]+/g).map(J=>+Number(J)),H.length=3,H);return P.toLowerCase()==="transparent"?y:P[0]==="#"?N(P):(P.indexOf("rgb")===-1&&(P=M(P)),P.indexOf("rgb")===0?D(P):y)},_=P=>{const{offsetX:N,offsetY:M,height:D,width:H}=P,J=M<=D/2,Q=N<=H/2,F=(te,le)=>Math.sqrt(te**2+le**2),V=M===D/2&&N===H/2,$={first:J===!0&&Q===!1,second:J===!0&&Q===!0,third:J===!1&&Q===!0,fourth:J===!1&&Q===!1},G={topLeft:F(N,M),topRight:F(H-N,M),bottomLeft:F(N,D-M),bottomRight:F(H-N,D-M)};let q=0;return V||$.fourth?q=G.topLeft:$.third?q=G.topRight:$.second?q=G.bottomRight:$.first&&(q=G.bottomLeft),q*2},w=P=>{var N;const M=(N=f.current)==null?void 0:N.getBoundingClientRect(),D=P.clientX-M.left,H=P.clientY-M.top,J=M.height,Q=M.width,F={offsetX:n?J/2:D,offsetY:n?Q/2:H,height:J,width:Q},V={delay:r&&r*.5,duration:r&&r-r*.5},$=_(F),G=s||$/2,q={left:n?`${Q/2-G}px`:`${D-G}px`,top:n?`${J/2-G}px`:`${H-G}px`,height:s?`${s*2}px`:`${$}px`,width:s?`${s*2}px`:`${$}px`,transitionDelay:`0s, ${V.delay}ms`,transitionDuration:`${r}ms, ${V.duration}ms`};return x?q:{...q,backgroundImage:`${O()}`}},I=P=>{const N=w(P),M=S.concat(N);b(M),l&&l(P)};return v.useEffect(()=>{const P=setTimeout(()=>{S.length>0&&b(S.splice(1,S.length-1))},r);return()=>{clearTimeout(P)}},[r,S]),p.jsxs(e,{className:R,onMouseDown:P=>I(P),ref:f,...u,children:[a,S.map((P,N)=>p.jsx(G$,{style:P},N))]})});QI.displayName="MDBRipple";const ne=W.forwardRef(({className:t,color:e="primary",outline:n,children:r,rounded:i,disabled:s,floating:o,size:a,href:l,block:u,active:d,toggle:h,noRipple:f,tag:m="button",role:y="button",...T},S)=>{const[b,x]=v.useState(d||!1);let E;const R=e&&["light","link"].includes(e)||n?"dark":"light";e!=="none"?n?e?E=`btn-outline-${e}`:E="btn-outline-primary":e?E=`btn-${e}`:E="btn-primary":E="";const O=X(e!=="none"&&"btn",E,i&&"btn-rounded",o&&"btn-floating",a&&`btn-${a}`,`${(l||m!=="button")&&s?"disabled":""}`,u&&"btn-block",b&&"active",t);return l&&m!=="a"&&(m="a"),["hr","img","input"].includes(m)||f?p.jsx(m,{className:O,onClick:h?()=>{x(!b)}:void 0,disabled:s&&m==="button"?!0:void 0,href:l,ref:S,role:y,...T,children:r}):p.jsx(QI,{rippleTag:m,rippleColor:R,className:O,onClick:h?()=>{x(!b)}:void 0,disabled:s&&m==="button"?!0:void 0,href:l,ref:S,role:y,...T,children:r})});ne.displayName="MDBBtn";const Y$=W.forwardRef(({className:t,children:e,shadow:n,toolbar:r,size:i,vertical:s,tag:o="div",role:a="group",...l},u)=>{let d;r?d="btn-toolbar":s?d="btn-group-vertical":d="btn-group";const h=X(d,n&&`shadow-${n}`,i&&`btn-group-${i}`,t);return p.jsx(o,{className:h,ref:u,role:a,...l,children:e})});Y$.displayName="MDBBtnGroup";const X$=W.forwardRef(({className:t,children:e,tag:n="div",color:r,grow:i,size:s,...o},a)=>{const l=X(`${i?"spinner-grow":"spinner-border"}`,r&&`text-${r}`,`${s?i?"spinner-grow-"+s:"spinner-border-"+s:""}`,t);return p.jsx(n,{className:l,ref:a,...o,children:e})});X$.displayName="MDBSpinner";const Bt=W.forwardRef(({className:t,children:e,border:n,background:r,tag:i="div",shadow:s,alignment:o,...a},l)=>{const u=X("card",n&&`border border-${n}`,r&&`bg-${r}`,s&&`shadow-${s}`,o&&`text-${o}`,t);return p.jsx(i,{className:u,ref:l,...a,children:e})});Bt.displayName="MDBCard";const J$=W.forwardRef(({className:t,children:e,border:n,background:r,tag:i="div",...s},o)=>{const a=X("card-header",n&&`border-${n}`,r&&`bg-${r}`,t);return p.jsx(i,{className:a,...s,ref:o,children:e})});J$.displayName="MDBCardHeader";const Z$=W.forwardRef(({className:t,children:e,tag:n="p",...r},i)=>{const s=X("card-subtitle",t);return p.jsx(n,{className:s,...r,ref:i,children:e})});Z$.displayName="MDBCardSubTitle";const pn=W.forwardRef(({className:t,children:e,tag:n="h5",...r},i)=>{const s=X("card-title",t);return p.jsx(n,{className:s,...r,ref:i,children:e})});pn.displayName="MDBCardTitle";const st=W.forwardRef(({className:t,children:e,tag:n="p",...r},i)=>{const s=X("card-text",t);return p.jsx(n,{className:s,...r,ref:i,children:e})});st.displayName="MDBCardText";const Ut=W.forwardRef(({className:t,children:e,tag:n="div",...r},i)=>{const s=X("card-body",t);return p.jsx(n,{className:s,...r,ref:i,children:e})});Ut.displayName="MDBCardBody";const e4=W.forwardRef(({className:t,children:e,border:n,background:r,tag:i="div",...s},o)=>{const a=X("card-footer",n&&`border-${n}`,r&&`bg-${r}`,t);return p.jsx(i,{className:a,...s,ref:o,children:e})});e4.displayName="MDBCardFooter";const t4=W.forwardRef(({className:t,children:e,tag:n="div",...r},i)=>{const s=X("card-img-overlay",t);return p.jsx(n,{className:s,...r,ref:i,children:e})});t4.displayName="MDBCardOverlay";const n4=W.forwardRef(({className:t,children:e,tag:n="div",...r},i)=>{const s=X("card-group",t);return p.jsx(n,{className:s,...r,ref:i,children:e})});n4.displayName="MDBCardGroup";const r4=W.forwardRef(({className:t,tag:e="ul",horizontal:n,horizontalSize:r,light:i,numbered:s,children:o,small:a,...l},u)=>{const d=X("list-group",n&&(r?`list-group-horizontal-${r}`:"list-group-horizontal"),i&&"list-group-light",s&&"list-group-numbered",a&&"list-group-small",t);return p.jsx(e,{className:d,ref:u,...l,children:o})});r4.displayName="MDBListGroup";const i4=W.forwardRef(({className:t,tag:e="li",active:n,disabled:r,action:i,color:s,children:o,noBorders:a,...l},u)=>{const d=e==="button",h=X("list-group-item",n&&"active",r&&!d&&"disabled",i&&"list-group-item-action",s&&`list-group-item-${s}`,a&&"border-0",t);return p.jsx(e,{className:h,disabled:d&&r,ref:u,...l,children:o})});i4.displayName="MDBListGroupItem";const YI=({children:t,containerRef:e,disablePortal:n})=>{const[r,i]=v.useState(!1);return v.useEffect(()=>{!n&&i(!0)},[n]),n?p.jsx(p.Fragment,{children:t}):r?Xt.createPortal(p.jsx(p.Fragment,{children:t}),(e==null?void 0:e.current)||document.body):null},Ye=W.forwardRef(({around:t,between:e,bottom:n,center:r,children:i,className:s,evenly:o,end:a,middle:l,start:u,tag:d="div",top:h,...f},m)=>{const y=X("row",t&&"justify-content-around",e&&"justify-content-between",n&&"align-self-end",r&&"justify-content-center",o&&"justifty-content-evenly",a&&"justify-content-end",l&&"align-self-center",u&&"justify-content-start",h&&"align-self-start",s);return p.jsx(d,{className:y,...f,ref:m,children:i})});Ye.displayName="MDBRow";const Hn=({animate:t,className:e,icon:n,fab:r,fas:i,fal:s,far:o,flag:a,spin:l,fixed:u,flip:d,list:h,size:f,pull:m,pulse:y,color:T,border:S,rotate:b,inverse:x,stack:E,iconType:R,children:O,...A})=>{let _;a?_="flag":r?_="fab":i?_="fas":o?_="far":s?_="fal":_="fa";const w=X(R?`fa-${R}`:_,t&&`fa-${t}`,a?`flag-${a}`:n&&`fa-${n}`,f&&`fa-${f}`,T&&`text-${T}`,S&&"fa-border",b&&`fa-rotate-${b}`,m&&`fa-pull-${m}`,l&&!t&&"fa-spin",h&&"fa-li",u&&"fa-fw",y&&!t&&"fa-pulse",x&&"fa-inverse",d&&`fa-flip-${d}`,E&&`fa-stack-${E}`,e);return p.jsx("i",{className:w,...A,children:O})},s4=W.forwardRef(({className:t,children:e,tag:n="p",variant:r,color:i,blockquote:s,note:o,noteColor:a,listUnStyled:l,listInLine:u,...d},h)=>{const f=X(r&&r,s&&"blockquote",o&&"note",i&&`text-${i}`,a&&`note-${a}`,l&&"list-unstyled",u&&"list-inline",t);return s&&(n="blockquote"),(l||u)&&(n="ul"),p.jsx(n,{className:f,ref:h,...d,children:e})});s4.displayName="MDBTypography";const o4=W.forwardRef(({className:t,color:e,uppercase:n,bold:r,children:i,...s},o)=>{const a=X("breadcrumb",r&&"font-weight-bold",e&&`text-${e}`,n&&"text-uppercase",t);return p.jsx("nav",{"aria-label":"breadcrumb",children:p.jsx("ol",{className:a,ref:o,...s,children:i})})});o4.displayName="MDBBreadcrumb";const a4=W.forwardRef(({className:t,active:e,current:n="page",children:r,...i},s)=>{const o=X("breadcrumb-item",e&&"active",t);return p.jsx("li",{className:o,ref:s,"aria-current":e&&n,...i,children:r})});a4.displayName="MDBBreadcrumbItem";const l4=t=>{if(t!==!1)return`navbar-expand-${t}`},u4=W.forwardRef(({className:t,children:e,light:n,dark:r,scrolling:i,fixed:s,sticky:o,scrollingNavbarOffset:a,color:l,transparent:u,expand:d,tag:h="nav",bgColor:f,...m},y)=>{const[T,S]=v.useState(!1),b=X({"navbar-light":n,"navbar-dark":r,"scrolling-navbar":i||a,"top-nav-collapse":T,[`text-${l}`]:l&&u?T:l},s&&`fixed-${s}`,o&&"sticky-top","navbar",d&&l4(d),f&&`bg-${f}`,t),x=v.useCallback(()=>{a&&window.pageYOffset>a?S(!0):S(!1)},[a]);return v.useEffect(()=>((i||a)&&window.addEventListener("scroll",x),()=>{window.removeEventListener("scroll",x)}),[x,i,a]),p.jsx(h,{className:b,role:"navigation",...m,ref:y,children:e})});u4.displayName="MDBNavbar";const c4=W.forwardRef(({children:t,className:e="",disabled:n=!1,active:r=!1,tag:i="a",...s},o)=>{const a=X("nav-link",n?"disabled":r?"active":"",e);return p.jsx(i,{"data-test":"nav-link",className:a,style:{cursor:"pointer"},ref:o,...s,children:t})});c4.displayName="MDBNavbarLink";const d4=W.forwardRef(({className:t,children:e,tag:n="a",...r},i)=>{const s=X("navbar-brand",t);return p.jsx(n,{className:s,ref:i,...r,children:e})});d4.displayName="MDBNavbarBrand";const h4=W.forwardRef(({children:t,className:e,active:n,text:r,tag:i="li",...s},o)=>{const a=X("nav-item",n&&"active",r&&"navbar-text",e);return p.jsx(i,{...s,className:a,ref:o,children:t})});h4.displayName="MDBNavbarItem";const f4=W.forwardRef(({children:t,className:e,right:n,fullWidth:r=!0,left:i,tag:s="ul",...o},a)=>{const l=X("navbar-nav",r&&"w-100",n&&"ms-auto",i&&"me-auto",e);return p.jsx(s,{className:l,ref:a,...o,children:t})});f4.displayName="MDBNavbarNav";const p4=W.forwardRef(({children:t,className:e,tag:n="button",...r},i)=>{const s=X("navbar-toggler",e);return p.jsx(n,{...r,className:s,ref:i,children:t})});p4.displayName="MDBNavbarToggler";const m4=W.forwardRef(({children:t,bgColor:e,color:n,className:r,...i},s)=>{const o=X(e&&`bg-${e}`,n&&`text-${n}`,r);return p.jsx("footer",{className:o,...i,ref:s,children:t})});m4.displayName="MDBFooter";const g4=W.forwardRef(({children:t,size:e,circle:n,center:r,end:i,start:s,className:o,...a},l)=>{const u=X("pagination",r&&"justify-content-center",n&&"pagination-circle",i&&"justify-content-end",e&&`pagination-${e}`,s&&"justify-content-start",o);return p.jsx("ul",{className:u,...a,ref:l,children:t})});g4.displayName="MDBPagination";const v4=W.forwardRef(({children:t,className:e,tag:n="a",...r},i)=>{const s=X("page-link",e);return p.jsx(n,{className:s,...r,ref:i,children:t})});v4.displayName="MDBPaginationLink";const y4=W.forwardRef(({children:t,className:e,active:n,disabled:r,...i},s)=>{const o=X("page-item",n&&"active",r&&"disabled",e);return p.jsx("li",{className:o,...i,ref:s,children:t})});y4.displayName="MDBPaginationItem";const XI=W.forwardRef(({animated:t,children:e,className:n,style:r,tag:i="div",valuenow:s,valuemax:o,striped:a,bgColor:l,valuemin:u,width:d,...h},f)=>{const m=X("progress-bar",l&&`bg-${l}`,a&&"progress-bar-striped",t&&"progress-bar-animated",n),y={width:`${d}%`,...r};return p.jsx(i,{className:m,style:y,ref:f,role:"progressbar",...h,"aria-valuenow":Number(d)??s,"aria-valuemin":Number(u),"aria-valuemax":Number(o),children:e})});XI.displayName="MDBProgressBar";const w4=W.forwardRef(({className:t,children:e,tag:n="div",height:r,style:i,...s},o)=>{const a=X("progress",t),l={height:`${r}px`,...i};return p.jsx(n,{className:a,ref:o,style:l,...s,children:W.Children.map(e,u=>{if(!W.isValidElement(u)||u.type!==XI){console.error("Progress component only allows ProgressBar as child");return}else return u})})});w4.displayName="MDBProgress";const _4=t=>{const[e,n]=v.useState(!1),[r,i]=v.useState(null);return v.useEffect(()=>{i(()=>new IntersectionObserver(([s])=>{n(s.isIntersecting)}))},[]),v.useEffect(()=>{if(!(!t.current||!r))return r.observe(t.current),()=>r.disconnect()},[r,t]),e},E4=(t,e)=>v.useMemo(()=>e!==void 0?e:t,[e,t]),he=W.forwardRef(({className:t,size:e,contrast:n,value:r,defaultValue:i,id:s,labelClass:o,wrapperClass:a,wrapperStyle:l,wrapperTag:u="div",label:d,onChange:h,children:f,labelRef:m,labelStyle:y,type:T,onBlur:S,readonly:b=!1,showCounter:x=!1,...E},R)=>{var O;const[A,_]=v.useState(i),w=v.useMemo(()=>r!==void 0?r:A,[r,A]),[I,P]=v.useState(0),[N,M]=v.useState(!1),[D,H]=v.useState(0),J=v.useRef(null),Q=_4(J),F=v.useRef(null),V=m||F;v.useImperativeHandle(R,()=>J.current);const $=X("form-outline",n&&"form-white",a),G=X("form-control",N&&"active",T==="date"&&"active",e&&`form-control-${e}`,t),q=X("form-label",o),te=v.useCallback(()=>{var de;(de=V.current)!=null&&de.clientWidth&&P(V.current.clientWidth*.8+8)},[V]),le=de=>{_(de.target.value),x&&H(de.target.value.length),h==null||h(de)},Ee=v.useCallback(de=>{J.current&&(M(!!w),S&&S(de))},[w,S]);return v.useEffect(()=>{te()},[(O=V.current)==null?void 0:O.clientWidth,te,Q]),v.useEffect(()=>{if(w)return M(!0);M(!1)},[w]),p.jsxs(u,{className:$,style:l,children:[p.jsx("input",{type:T,readOnly:b,className:G,onBlur:Ee,onChange:le,onFocus:te,value:r,defaultValue:i,id:s,ref:J,...E}),d&&p.jsx("label",{className:q,style:y,htmlFor:s,ref:V,children:d}),p.jsxs("div",{className:"form-notch",children:[p.jsx("div",{className:"form-notch-leading"}),p.jsx("div",{className:"form-notch-middle",style:{width:I}}),p.jsx("div",{className:"form-notch-trailing"})]}),f,x&&E.maxLength&&p.jsx("div",{className:"form-helper",children:p.jsx("div",{className:"form-counter",children:`${D}/${E.maxLength}`})})]})});he.displayName="MDBInput";const JI=v.forwardRef(({className:t,inputRef:e,labelClass:n,wrapperClass:r,labelStyle:i,wrapperTag:s="div",wrapperStyle:o,label:a,inline:l,btn:u,id:d,btnColor:h,disableWrapper:f,toggleSwitch:m,...y},T)=>{let S="form-check-input",b="form-check-label";u&&(S="btn-check",h?b=`btn btn-${h}`:b="btn btn-primary");const x=X(a&&!u&&"form-check",l&&!u&&"form-check-inline",m&&"form-switch",r),E=X(S,t),R=X(b,n),O=p.jsxs(p.Fragment,{children:[p.jsx("input",{className:E,id:d,ref:e,...y}),a&&p.jsx("label",{className:R,style:i,htmlFor:d,children:a})]});return p.jsx(p.Fragment,{children:f?O:p.jsx(s,{style:o,className:x,ref:T,children:O})})});JI.displayName="InputTemplate";const ZI=({...t})=>p.jsx(JI,{type:"checkbox",...t});function x4({showCollapse:t,setCollapseHeight:e,refCollapse:n,contentRef:r}){v.useEffect(()=>{t||e("0px")},[t]),v.useEffect(()=>{const i=n.current,s=a=>{if(!i)return;const l=a.contentRect.height,u=window.getComputedStyle(i),d=parseFloat(u.paddingTop)+parseFloat(u.paddingBottom)+parseFloat(u.marginBottom)+parseFloat(u.marginTop),h=`${l+d}px`;e(h)},o=new ResizeObserver(([a])=>{s(a)});return o.observe(r.current),()=>{o.disconnect()}},[])}const T4=({className:t,children:e,open:n=!1,id:r,navbar:i,tag:s="div",collapseRef:o,style:a,onOpen:l,onClose:u,...d})=>{const[h,f]=v.useState(!1),[m,y]=v.useState(void 0),[T,S]=v.useState(!1),b=X(T?"collapsing":"collapse",!T&&h&&"show",i&&"navbar-collapse",t),x=v.useRef(null),E=o??x,R=v.useRef(null),O=v.useCallback(()=>{h&&y(void 0)},[h]);return v.useEffect(()=>(window.addEventListener("resize",O),()=>{window.removeEventListener("resize",O)}),[O]),x4({showCollapse:h,setCollapseHeight:y,refCollapse:E,contentRef:R}),v.useEffect(()=>{h!==n&&(n?l==null||l():u==null||u(),f(n)),h&&S(!0);const A=setTimeout(()=>{S(!1)},350);return()=>{clearTimeout(A)}},[n,h,l,u]),p.jsx(s,{style:{height:m,...a},id:r,className:b,...d,ref:E,children:p.jsx("div",{ref:R,className:"collapse-content",children:e})})},eP=v.createContext(null),C4=({children:t,isOpen:e=!1,options:n,animation:r=!0,dropup:i,dropright:s,dropleft:o,onClose:a,onOpen:l})=>{const[u,d]=v.useState(e),[h,f]=v.useState(null),[m,y]=v.useState(null),[T,S]=v.useState(-1);return p.jsx(eP.Provider,{value:{animation:r,activeIndex:T,isOpenState:u,setReferenceElement:f,setPopperElement:y,setActiveIndex:S,popperElement:m,setIsOpenState:d,referenceElement:h,onClose:a,onOpen:l,dropup:i,options:n,dropright:s,dropleft:o},children:t})},S4=t=>t instanceof HTMLElement,b4=t=>t instanceof Node,Ta=()=>{const t=v.useContext(eP);if(!t)throw new Error("Missing context data");return t},I4=()=>{const{isOpenState:t,setIsOpenState:e,setActiveIndex:n,popperElement:r,referenceElement:i,onClose:s}=Ta(),o=v.useCallback(a=>{t&&(s==null||s(a)),!(!t||!b4(a.target)||r&&r.contains(a.target)||i&&i.contains(a.target)||a.defaultPrevented)&&(e(!1),setTimeout(()=>n(-1),300))},[t,e,n,r,i,s]);v.useEffect(()=>(document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)),[o])},P4=({className:t,tag:e="div",group:n,children:r,dropup:i,dropright:s,dropleft:o,wrapper:a,...l})=>{I4();const u=X(n?"btn-group":"dropdown",i&&"dropup",s&&"dropend",o&&"dropstart",t);return a?p.jsx(e,{className:u,...l,children:r}):p.jsx(p.Fragment,{children:r})},Ca=({animation:t,onClose:e,onOpen:n,wrapper:r=!0,...i})=>p.jsx(C4,{animation:t,onClose:e,onOpen:n,...i,children:p.jsx(P4,{wrapper:r,...i})}),R4=({childTag:t,children:e,disabled:n,link:r,divider:i,header:s,href:o="#"})=>{const a=X("dropdown-item",n&&"disabled");return r?t?p.jsx(t,{className:a,children:e}):p.jsx("a",{href:o,className:a,children:e}):i?t?p.jsx(t,{className:"dropdown-divider",children:e}):p.jsx("hr",{className:"dropdown-divider"}):s?t?p.jsx(t,{className:"dropdown-header",children:e}):p.jsx("h6",{className:"dropdown-header",children:e}):p.jsx(p.Fragment,{children:e})},Se=({onClick:t,tag:e="li",childTag:n,children:r,style:i,link:s,divider:o,header:a,disabled:l,href:u,preventCloseOnClick:d,...h})=>{const{setIsOpenState:f,onClose:m,setActiveIndex:y}=Ta();return p.jsx(e,{style:i,onClick:T=>{m==null||m(T),t==null||t(T),!(l||d||T.defaultPrevented)&&(setTimeout(()=>y(-1),300),f(!1))},...h,children:p.jsx(R4,{link:s,divider:o,header:a,disabled:l,href:u,childTag:n,children:r})})},q1=(t,e,n)=>n==="up"?t<=0?e[e.length-1].props.divider===!0||e[e.length-1].props.disabled===!0:e[t-1].props.divider===!0||e[t-1].props.disabled===!0:t===e.length-1?e[0].props.divider===!0||e[0].props.disabled===!0:e[t+1].props.divider===!0||e[t+1].props.disabled===!0,A4=t=>{const{activeIndex:e,isOpenState:n,setIsOpenState:r,setActiveIndex:i,onClose:s}=Ta(),o=v.useCallback(a=>{const l=["ArrowUp","ArrowDown","Tab","Enter","Escape"];if(!(!Array.isArray(t)||!l.includes(a.key))){if(S4(document.activeElement)&&document.activeElement.blur(),a.key==="ArrowUp"){a.preventDefault();const u=q1(e,t,"up");if(e===1){i(u?t.length-1:0);return}if(e<=0){i(u?t.length-2:t.length-1);return}i(d=>u?d-2:d-1)}if(a.key==="ArrowDown"||a.key==="Tab"){a.preventDefault();const u=q1(e,t,"down");if(e===t.length-2){i(d=>u?0:d+1);return}if(e===t.length-1){i(u?1:0);return}i(d=>u?d+2:d+1)}if(a.key==="Enter"){const u=document.querySelector('[data-active="true"]'),d=u==null?void 0:u.firstElementChild;if(d)return d.click();if(s==null||s(a),a.defaultPrevented)return;r(!1),setTimeout(()=>i(-1),300)}if(a.key==="Escape"){if(s==null||s(a),a.defaultPrevented)return;r(!1),setTimeout(()=>i(-1),300)}}},[t,r,i,e,s]);v.useEffect(()=>(n&&document.addEventListener("keydown",o),()=>{n&&document.removeEventListener("keydown",o)}),[n,o]),v.useEffect(()=>{const a=document.querySelector('[data-active="true"]'),l=a==null?void 0:a.firstElementChild;return l==null||l.focus(),()=>l==null?void 0:l.blur()},[e])},k4=()=>{const{isOpenState:t}=Ta(),[e,n]=v.useState(!1),[r,i]=v.useState(!1),[s,o]=v.useState(t);return v.useEffect(()=>{let a;return t||(i(!0),n(!1),a=setTimeout(()=>{i(!1),o(!1)},300)),t&&(n(!0),i(!1),o(!0),a=setTimeout(()=>{n(!1)},300)),()=>clearTimeout(a)},[t]),{open:s,isFadeIn:e,isFadeOut:r}},Sa=({className:t,tag:e="ul",children:n,style:r,dark:i,responsive:s="",appendToBody:o=!1,alwaysOpen:a,...l})=>{const{activeIndex:u,setPopperElement:d,isOpenState:h,animation:f,referenceElement:m,popperElement:y,options:T,dropleft:S,dropup:b,dropright:x}=Ta(),{open:E,isFadeIn:R,isFadeOut:O}=k4();A4(n);const A=()=>{if(x)return"right-start";if(S)return"left-start";const P=y&&getComputedStyle(y).getPropertyValue("--mdb-position").trim()==="end";return b?P?"top-end":"top-start":P?"bottom-end":"bottom-start"},{styles:_}=aL(m,y,{placement:A(),modifiers:[AL],...T}),w=X("dropdown-menu",i&&"dropdown-menu-dark",h&&"show",f&&"animation",R&&"fade-in",O&&"fade-out",s&&`dropdown-menu-${s}`,t);if(!E&&!a)return null;const I=p.jsx(e,{className:w,style:{position:"absolute",zIndex:1e3,..._.popper,...r},ref:d,...l,children:v.Children.map(n,(P,N)=>v.cloneElement(P,{tabIndex:0,"data-active":u===N&&!0,className:X(u===N?"active":"",P.props.className)}))});return p.jsx(YI,{disablePortal:!o,children:I})},ba=({className:t,tag:e=ne,children:n,onClick:r,split:i,...s})=>{const{setIsOpenState:o,setReferenceElement:a,isOpenState:l,setActiveIndex:u,onClose:d,onOpen:h}=Ta(),f=X("dropdown-toggle",i&&"dropdown-toggle-split",t);return p.jsx(e,{onClick:m=>{r==null||r(m),l?d==null||d(m):h==null||h(m),!m.defaultPrevented&&(o(y=>!y),setTimeout(()=>u(-1),300))},ref:a,className:f,"aria-expanded":!!l,...s,children:n})},N4=t=>v.useCallback(()=>t==="top"?{top:-50,left:0}:t==="bottom"?{top:50,left:0}:t==="left"?{top:0,left:-50}:t==="right"?{top:0,left:50}:{top:0,left:0},[t])(),D4=t=>{const e=t instanceof HTMLElement?t:t.current;if(!e)return[];const n=Array.from(e.querySelectorAll("button, a, input, select, textarea, [tabindex]")).map(r=>({element:r,focused:r===document.activeElement}));return n?n.filter(r=>r.element.tabIndex!==-1).sort((r,i)=>r.element.tabIndex===i.element.tabIndex?0:i.element.tabIndex===null?-1:r.element.tabIndex===null?1:r.element.tabIndex-i.element.tabIndex):[]},O4=(t,e,n)=>{let r=t;return e?r=t-1<0?n-1:t-1:r=t+1>=n?0:t+1,r},M4={opacity:1,top:0,left:0},eo=({animationDirection:t="top",appendToBody:e,backdrop:n=!0,children:r,className:i,closeOnEsc:s=!0,leaveHiddenModal:o=!1,modalRef:a,onClose:l,onClosePrevented:u,onOpen:d,open:h,defaultOpen:f=!1,staticBackdrop:m,nonInvasive:y=!1,tag:T="div",animationVariants:S={},...b})=>{const[x,E]=v.useState(f),R=E4(x,h),[O,A]=v.useState(!1),[_,w]=v.useState([]),I=v.useMemo(()=>W1(T),[T]),P=v.useRef(null),N=a||P,M={opacity:0,...N4(t),...S.initial?S.initial:{}},D={...M4,...S.animate?S.animate:{}},H={...M,...S.exit?S.exit:{}},J=X("modal",O&&"modal-static",t,"fade",R&&"show",R&&y&&"modal-non-invasive-show",i),Q=X("modal-backdrop","fade",R&&"show"),F=v.useCallback(()=>{E(!1),l==null||l()},[l]),V=v.useCallback(()=>{A(!0),u==null||u(),setTimeout(()=>{A(!1)},300)},[u]),$=v.useCallback(q=>{y&&!R||R&&q.target===N.current&&(m?V():F())},[R,N,m,F,y,V]),G=v.useCallback(q=>{if(R&&q.key==="Tab"){q.preventDefault();const te=q.shiftKey,le=_.findIndex(de=>de.focused),Ee=O4(le,te,_.length);w(de=>de==null?void 0:de.map((Ie,qe)=>({...Ie,focused:qe===Ee}))),_[Ee].element.focus()}s&&R&&q.key==="Escape"&&(q.preventDefault(),m?V():F())},[R,s,m,F,V,_]);return v.useEffect(()=>{if(!N||!R){w([]);return}w(()=>D4(N))},[N,R,r]),v.useEffect(()=>{const q=()=>{const le=document.documentElement.clientWidth;return Math.abs(window.innerWidth-le)},te=window.innerWidth>document.documentElement.clientWidth&&window.innerWidth>=576;if(R&&te&&!y){const le=q();document.body.classList.add("modal-open"),document.body.style.overflow="hidden",document.body.style.paddingRight=`${le}px`}else document.body.classList.remove("modal-open"),document.body.style.overflow="",document.body.style.paddingRight="";return()=>{document.body.classList.remove("modal-open"),document.body.style.overflow="",document.body.style.paddingRight=""}},[R,y]),v.useEffect(()=>{const q=te=>{te.target.closest(".modal-dialog")||window.addEventListener("mouseup",$,{once:!0})};return window.addEventListener("mousedown",q),window.addEventListener("keydown",G),()=>{window.removeEventListener("mousedown",q),window.removeEventListener("keydown",G)}},[G,$]),p.jsx(YI,{disablePortal:!e,children:p.jsxs(q$,{children:[(R||o)&&p.jsxs(p.Fragment,{children:[p.jsx(I,{initial:M,animate:D,exit:H,className:J,ref:N,style:{display:R?"block":"none",pointerEvents:y?"none":"initial"},...b,children:r}),n&&R&&!y&&p.jsx(W1.div,{initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},onClick:()=>{m?u==null||u():F()},className:Q})]}),"),"]})})},Qi=W.forwardRef(({className:t,centered:e,children:n,size:r,scrollable:i,tag:s="div",...o},a)=>{const l=X("modal-dialog",i&&"modal-dialog-scrollable",e&&"modal-dialog-centered",r&&`modal-${r}`,t);return p.jsx(s,{className:l,...o,ref:a,children:n})});Qi.displayName="MDBModalDialog";const Yi=W.forwardRef(({className:t,children:e,tag:n="div",...r},i)=>{const s=X("modal-content",t);return p.jsx(n,{className:s,...r,ref:i,children:e})});Yi.displayName="MDBModalContent";const Xi=W.forwardRef(({className:t,children:e,tag:n="div",...r},i)=>{const s=X("modal-header",t);return p.jsx(n,{className:s,...r,ref:i,children:e})});Xi.displayName="MDBModalHeader";const Ji=W.forwardRef(({className:t,children:e,tag:n="h5",...r},i)=>{const s=X("modal-title",t);return p.jsx(n,{className:s,...r,ref:i,children:e})});Ji.displayName="MDBModalTitle";const Zi=W.forwardRef(({className:t,children:e,tag:n="div",...r},i)=>{const s=X("modal-body",t);return p.jsx(n,{className:s,...r,ref:i,children:e})});Zi.displayName="MDBModalBody";const es=W.forwardRef(({className:t,children:e,tag:n="div",...r},i)=>{const s=X("modal-footer",t);return p.jsx(n,{className:s,...r,ref:i,children:e})});es.displayName="MDBModalFooter";W.createContext({activeElement:null,setTargets:null});const L4=v.forwardRef(({className:t,labelClass:e,labelStyle:n,inputRef:r,size:i,label:s,id:o,...a},l)=>{const u=X("form-control",`form-control-${i}`,t),d=X("form-label",e),h=v.useRef(null);return v.useImperativeHandle(l,()=>h.current||(r==null?void 0:r.current)),p.jsxs(p.Fragment,{children:[s&&p.jsx("label",{className:d,style:n,htmlFor:o,children:s}),p.jsx("input",{className:u,type:"file",id:o,ref:h,...a})]})});L4.displayName="MDBFile";const j4=W.forwardRef(({className:t,children:e,noBorder:n,textBefore:r,textAfter:i,noWrap:s,tag:o="div",textTag:a="span",textClass:l,size:u,textProps:d,...h},f)=>{const m=X("input-group",s&&"flex-nowrap",u&&`input-group-${u}`,t),y=X("input-group-text",n&&"border-0",l),T=S=>p.jsx(p.Fragment,{children:S&&Array.isArray(S)?S.map((b,x)=>p.jsx(a,{className:y,...d,children:b},x)):p.jsx(a,{className:y,...d,children:S})});return p.jsxs(o,{className:m,ref:f,...h,children:[r&&T(r),e,i&&T(i)]})});j4.displayName="MDBInputGroup";const V4=W.forwardRef(({className:t,children:e,isValidated:n=!1,onReset:r,onSubmit:i,noValidate:s=!0,...o},a)=>{const[l,u]=v.useState(n),d=X("needs-validation",l&&"was-validated",t),h=m=>{m.preventDefault(),u(!0),i&&i(m)},f=m=>{m.preventDefault(),u(!1),r&&r(m)};return v.useEffect(()=>{u(n)},[n]),p.jsx("form",{className:d,onSubmit:h,onReset:f,ref:a,noValidate:s,...o,children:e})});V4.displayName="MDBValidation";const F4=W.forwardRef(({className:t,fill:e,pills:n,justify:r,children:i,...s},o)=>{const a=X("nav",n?"nav-pills":"nav-tabs",e&&"nav-fill",r&&"nav-justified",t);return p.jsx("ul",{className:a,ref:o,...s,children:i})});F4.displayName="MDBTabs";const $4=W.forwardRef(({className:t,children:e,style:n,tag:r="li",...i},s)=>{const o=X("nav-item",t);return p.jsx(r,{className:o,style:{cursor:"pointer",...n},role:"presentation",ref:s,...i,children:e})});$4.displayName="MDBTabsItem";const B4=W.forwardRef(({className:t,color:e,active:n,onOpen:r,onClose:i,children:s,...o},a)=>{const l=X("nav-link",n&&"active",e&&`bg-${e}`,t);return v.useEffect(()=>{n?r==null||r():i==null||i()},[n]),p.jsx("a",{className:l,ref:a,...o,children:s})});B4.displayName="MDBTabsLink";const U4=W.forwardRef(({className:t,tag:e="div",children:n,...r},i)=>{const s=X("tab-content",t);return p.jsx(e,{className:s,ref:i,...r,children:n})});U4.displayName="MDBTabsContent";const z4=W.forwardRef(({className:t,tag:e="div",open:n,children:r,...i},s)=>{const[o,a]=v.useState(!1),l=X("tab-pane","fade",o&&"show",n&&"active",t);return v.useEffect(()=>{let u;return n?u=setTimeout(()=>{a(!0)},100):a(!1),()=>{clearTimeout(u)}},[n]),p.jsx(e,{className:l,role:"tabpanel",ref:s,...i,children:r})});z4.displayName="MDBTabsPane";v.createContext({active:0});const tP=W.createContext({activeItem:0,setActiveItem:null,alwaysOpen:!1,initialActive:0}),H4=W.forwardRef(({alwaysOpen:t,borderless:e,className:n,flush:r,active:i,initialActive:s=0,tag:o="div",children:a,onChange:l,...u},d)=>{const h=v.useMemo(()=>typeof i<"u",[i]),f=X("accordion",r&&"accordion-flush",e&&"accordion-borderless",n),[m,y]=v.useState(s);return p.jsx(o,{className:f,ref:d,...u,children:p.jsx(tP.Provider,{value:{activeItem:h?i:m,setActiveItem:y,alwaysOpen:t,initialActive:s,onChange:l},children:a})})});H4.displayName="MDBAccordion";const W4=W.forwardRef(({className:t,bodyClassName:e,bodyStyle:n,headerClassName:r,collapseId:i,headerTitle:s,headerStyle:o,btnClassName:a,tag:l="div",children:u,...d},h)=>{const{activeItem:f,setActiveItem:m,alwaysOpen:y,onChange:T}=v.useContext(tP),S=v.useMemo(()=>Array.isArray(f)?f.includes(i):f===i,[f,i]),b=X("accordion-item",t),x=X("accordion-header",r),E=X("accordion-body",e),R=X("accordion-button",!S&&"collapsed",a),O=v.useCallback(A=>{let _=A;Array.isArray(f)?f.includes(A)?_=f.filter(w=>w!==A):_=y?[...f,A]:[A]:(_=f===A?0:A,y&&(_=[_])),T==null||T(_),m(_)},[T,f,m,y]);return p.jsxs(l,{className:b,ref:h,...d,children:[p.jsx("h2",{className:x,style:o,children:p.jsx("button",{onClick:()=>O(i),className:R,type:"button",children:s})}),p.jsx(T4,{id:i.toString(),open:S,children:p.jsx("div",{className:E,style:n,children:u})})]})});W4.displayName="MDBAccordionItem";const q4="_customBackground_1pewy_1",K4="_logoTitle_1pewy_21",G4="_darkBlueLink_1pewy_27",eu={customBackground:q4,logoTitle:K4,darkBlueLink:G4};var K1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Q4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},rP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Q4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new Y4;const f=s<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const y=u<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Y4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const X4=function(t){const e=nP(t);return rP.encodeByteArray(e,!0)},Ah=function(t){return X4(t).replace(/\./g,"")},iP=function(t){try{return rP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=()=>J4().__FIREBASE_DEFAULTS__,e3=()=>{if(typeof process>"u"||typeof K1>"u")return;const t=K1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},t3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&iP(t[1]);return e&&JSON.parse(e)},jf=()=>{try{return Z4()||e3()||t3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sP=t=>{var e,n;return(n=(e=jf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},oP=t=>{const e=sP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},aP=()=>{var t;return(t=jf())===null||t===void 0?void 0:t.config},lP=t=>{var e;return(e=jf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ah(JSON.stringify(n)),Ah(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function r3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function i3(){var t;const e=(t=jf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function s3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function o3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function a3(){const t=Nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function l3(){return!i3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function u3(){try{return typeof indexedDB=="object"}catch{return!1}}function c3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3="FirebaseError";class vr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=d3,Object.setPrototypeOf(this,vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oc.prototype.create)}}class oc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?h3(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new vr(i,a,r)}}function h3(t,e){return t.replace(f3,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const f3=/\{\$([^}]+)}/g;function p3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function kh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(G1(s)&&G1(o)){if(!kh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function G1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Dl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ol(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function m3(t,e){const n=new g3(t,e);return n.subscribe.bind(n)}class g3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");v3(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=um),i.error===void 0&&(i.error=um),i.complete===void 0&&(i.complete=um);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function v3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function um(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t){return t&&t._delegate?t._delegate:t}class Mi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new n3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_3(e))try{this.getOrInitializeService({instanceIdentifier:gs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gs){return this.instances.has(e)}getOptions(e=gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:w3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=gs){return this.component?this.component.multipleInstances?e:gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function w3(t){return t===gs?void 0:t}function _3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new y3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const x3={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},T3=me.INFO,C3={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},S3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=C3[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class t0{constructor(e){this.name=e,this._logLevel=T3,this._logHandler=S3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?x3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const b3=(t,e)=>e.some(n=>t instanceof n);let Q1,Y1;function I3(){return Q1||(Q1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P3(){return Y1||(Y1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cP=new WeakMap,zg=new WeakMap,dP=new WeakMap,cm=new WeakMap,n0=new WeakMap;function R3(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ii(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&cP.set(n,t)}).catch(()=>{}),n0.set(e,t),e}function A3(t){if(zg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});zg.set(t,e)}let Hg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ii(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function k3(t){Hg=t(Hg)}function N3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(dm(this),e,...n);return dP.set(r,e.sort?e.sort():[e]),Ii(r)}:P3().includes(t)?function(...e){return t.apply(dm(this),e),Ii(cP.get(this))}:function(...e){return Ii(t.apply(dm(this),e))}}function D3(t){return typeof t=="function"?N3(t):(t instanceof IDBTransaction&&A3(t),b3(t,I3())?new Proxy(t,Hg):t)}function Ii(t){if(t instanceof IDBRequest)return R3(t);if(cm.has(t))return cm.get(t);const e=D3(t);return e!==t&&(cm.set(t,e),n0.set(e,t)),e}const dm=t=>n0.get(t);function O3(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ii(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ii(o.result),l.oldVersion,l.newVersion,Ii(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const M3=["get","getKey","getAll","getAllKeys","count"],L3=["put","add","delete","clear"],hm=new Map;function X1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hm.get(e))return hm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=L3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||M3.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return hm.set(e,s),s}k3(t=>({...t,get:(e,n,r)=>X1(e,n)||t.get(e,n,r),has:(e,n)=>!!X1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(V3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function V3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wg="@firebase/app",J1="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=new t0("@firebase/app"),F3="@firebase/app-compat",$3="@firebase/analytics-compat",B3="@firebase/analytics",U3="@firebase/app-check-compat",z3="@firebase/app-check",H3="@firebase/auth",W3="@firebase/auth-compat",q3="@firebase/database",K3="@firebase/database-compat",G3="@firebase/functions",Q3="@firebase/functions-compat",Y3="@firebase/installations",X3="@firebase/installations-compat",J3="@firebase/messaging",Z3="@firebase/messaging-compat",eB="@firebase/performance",tB="@firebase/performance-compat",nB="@firebase/remote-config",rB="@firebase/remote-config-compat",iB="@firebase/storage",sB="@firebase/storage-compat",oB="@firebase/firestore",aB="@firebase/vertexai-preview",lB="@firebase/firestore-compat",uB="firebase",cB="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="[DEFAULT]",dB={[Wg]:"fire-core",[F3]:"fire-core-compat",[B3]:"fire-analytics",[$3]:"fire-analytics-compat",[z3]:"fire-app-check",[U3]:"fire-app-check-compat",[H3]:"fire-auth",[W3]:"fire-auth-compat",[q3]:"fire-rtdb",[K3]:"fire-rtdb-compat",[G3]:"fire-fn",[Q3]:"fire-fn-compat",[Y3]:"fire-iid",[X3]:"fire-iid-compat",[J3]:"fire-fcm",[Z3]:"fire-fcm-compat",[eB]:"fire-perf",[tB]:"fire-perf-compat",[nB]:"fire-rc",[rB]:"fire-rc-compat",[iB]:"fire-gcs",[sB]:"fire-gcs-compat",[oB]:"fire-fst",[lB]:"fire-fst-compat",[aB]:"fire-vertex","fire-js":"fire-js",[uB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Map,hB=new Map,Kg=new Map;function Z1(t,e){try{t.container.addComponent(e)}catch(n){$r.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vs(t){const e=t.name;if(Kg.has(e))return $r.debug(`There were multiple attempts to register component ${e}.`),!1;Kg.set(e,t);for(const n of Nh.values())Z1(n,t);for(const n of hB.values())Z1(n,t);return!0}function Vf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function tr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pi=new oc("app","Firebase",fB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=cB;function hP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:qg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Pi.create("bad-app-name",{appName:String(i)});if(n||(n=aP()),!n)throw Pi.create("no-options");const s=Nh.get(i);if(s){if(kh(n,s.options)&&kh(r,s.config))return s;throw Pi.create("duplicate-app",{appName:i})}const o=new E3(i);for(const l of Kg.values())o.addComponent(l);const a=new pB(n,r,o);return Nh.set(i,a),a}function r0(t=qg){const e=Nh.get(t);if(!e&&t===qg&&aP())return hP();if(!e)throw Pi.create("no-app",{appName:t});return e}function ar(t,e,n){var r;let i=(r=dB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$r.warn(a.join(" "));return}Vs(new Mi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB="firebase-heartbeat-database",gB=1,Mu="firebase-heartbeat-store";let fm=null;function fP(){return fm||(fm=O3(mB,gB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Mu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Pi.create("idb-open",{originalErrorMessage:t.message})})),fm}async function vB(t){try{const n=(await fP()).transaction(Mu),r=await n.objectStore(Mu).get(pP(t));return await n.done,r}catch(e){if(e instanceof vr)$r.warn(e.message);else{const n=Pi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$r.warn(n.message)}}}async function ex(t,e){try{const r=(await fP()).transaction(Mu,"readwrite");await r.objectStore(Mu).put(e,pP(t)),await r.done}catch(n){if(n instanceof vr)$r.warn(n.message);else{const r=Pi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$r.warn(r.message)}}}function pP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yB=1024,wB=30*24*60*60*1e3;class _B{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=tx();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=wB}),this._storage.overwrite(this._heartbeatsCache))}catch(r){$r.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=tx(),{heartbeatsToSend:r,unsentEntries:i}=EB(this._heartbeatsCache.heartbeats),s=Ah(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return $r.warn(n),""}}}function tx(){return new Date().toISOString().substring(0,10)}function EB(t,e=yB){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),nx(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return u3()?c3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ex(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ex(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function nx(t){return Ah(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TB(t){Vs(new Mi("platform-logger",e=>new j3(e),"PRIVATE")),Vs(new Mi("heartbeat",e=>new _B(e),"PRIVATE")),ar(Wg,J1,t),ar(Wg,J1,"esm2017"),ar("fire-js","")}TB("");function i0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function mP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CB=mP,gP=new oc("auth","Firebase",mP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new t0("@firebase/auth");function SB(t,...e){Dh.logLevel<=me.WARN&&Dh.warn(`Auth (${to}): ${t}`,...e)}function Od(t,...e){Dh.logLevel<=me.ERROR&&Dh.error(`Auth (${to}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,...e){throw s0(t,...e)}function lr(t,...e){return s0(t,...e)}function vP(t,e,n){const r=Object.assign(Object.assign({},CB()),{[e]:n});return new oc("auth","Firebase",r).create(e,{appName:t.name})}function Nr(t){return vP(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function s0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return gP.create(t,...e)}function oe(t,e,...n){if(!t)throw s0(e,...n)}function br(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Od(e),new Error(e)}function Br(t,e){t||br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function bB(){return rx()==="http:"||rx()==="https:"}function rx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bB()||s3()||"connection"in navigator)?navigator.onLine:!0}function PB(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Br(n>e,"Short delay should be less than long delay!"),this.isMobile=r3()||o3()}get(){return IB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(t,e){Br(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB=new lc(3e4,6e4);function qr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Kr(t,e,n,r,i={}){return wP(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ac(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),yP.fetch()(_P(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function wP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},RB),e);try{const i=new NB(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ld(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ld(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ld(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ld(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw vP(t,d,u);Qn(t,d)}}catch(i){if(i instanceof vr)throw i;Qn(t,"network-request-failed",{message:String(i)})}}async function uc(t,e,n,r,i={}){const s=await Kr(t,e,n,r,i);return"mfaPendingCredential"in s&&Qn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function _P(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?o0(t.config,i):`${t.config.apiScheme}://${i}`}function kB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NB{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(lr(this.auth,"network-request-failed")),AB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ld(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=lr(t,e,r);return i.customData._tokenResponse=n,i}function ix(t){return t!==void 0&&t.enterprise!==void 0}class DB{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return kB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function OB(t,e){return Kr(t,"GET","/v2/recaptchaConfig",qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MB(t,e){return Kr(t,"POST","/v1/accounts:delete",e)}async function EP(t,e){return Kr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LB(t,e=!1){const n=yt(t),r=await n.getIdToken(e),i=a0(r);oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:tu(pm(i.auth_time)),issuedAtTime:tu(pm(i.iat)),expirationTime:tu(pm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function pm(t){return Number(t)*1e3}function a0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Od("JWT malformed, contained fewer than 3 sections"),null;try{const i=iP(n);return i?JSON.parse(i):(Od("Failed to decode base64 JWT payload"),null)}catch(i){return Od("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function sx(t){const e=a0(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof vr&&jB(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function jB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tu(this.lastLoginAt),this.creationTime=tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Lu(t,EP(n,{idToken:r}));oe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?xP(s.providerUserInfo):[],a=$B(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Qg(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function FB(t){const e=yt(t);await Oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $B(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function xP(t){return t.map(e=>{var{providerId:n}=e,r=i0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BB(t,e){const n=await wP(t,{},async()=>{const r=ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=_P(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",yP.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function UB(t,e){return Kr(t,"POST","/v2/accounts:revokeToken",qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=sx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await BB(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new zo;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(oe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(oe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zo,this.toJSON())}_performRefresh(){return br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ir{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=i0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new VB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Qg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Lu(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return LB(this,e)}reload(){return FB(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ir(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Oh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tr(this.auth.app))return Promise.reject(Nr(this.auth));const e=await this.getIdToken();return await Lu(this,MB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(u=n.createdAt)!==null&&u!==void 0?u:void 0,x=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:R,isAnonymous:O,providerData:A,stsTokenManager:_}=n;oe(E&&_,e,"internal-error");const w=zo.fromJSON(this.name,_);oe(typeof E=="string",e,"internal-error"),ei(h,e.name),ei(f,e.name),oe(typeof R=="boolean",e,"internal-error"),oe(typeof O=="boolean",e,"internal-error"),ei(m,e.name),ei(y,e.name),ei(T,e.name),ei(S,e.name),ei(b,e.name),ei(x,e.name);const I=new Ir({uid:E,auth:e,email:f,emailVerified:R,displayName:h,isAnonymous:O,photoURL:y,phoneNumber:m,tenantId:T,stsTokenManager:w,createdAt:b,lastLoginAt:x});return A&&Array.isArray(A)&&(I.providerData=A.map(P=>Object.assign({},P))),S&&(I._redirectEventId=S),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new zo;i.updateFromServerResponse(n);const s=new Ir({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Oh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];oe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?xP(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new zo;a.updateFromIdToken(r);const l=new Ir({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Qg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=new Map;function Pr(t){Br(t instanceof Function,"Expected a class definition");let e=ox.get(t);return e?(Br(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ox.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}TP.type="NONE";const ax=TP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(t,e,n){return`firebase:${t}:${e}:${n}`}class Ho{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Md(this.userKey,i.apiKey,s),this.fullPersistenceKey=Md("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ir._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ho(Pr(ax),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Pr(ax);const o=Md(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const h=Ir._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ho(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Ho(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RP(e))return"Blackberry";if(AP(e))return"Webos";if(SP(e))return"Safari";if((e.includes("chrome/")||bP(e))&&!e.includes("edge/"))return"Chrome";if(PP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function CP(t=Nt()){return/firefox\//i.test(t)}function SP(t=Nt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bP(t=Nt()){return/crios\//i.test(t)}function IP(t=Nt()){return/iemobile/i.test(t)}function PP(t=Nt()){return/android/i.test(t)}function RP(t=Nt()){return/blackberry/i.test(t)}function AP(t=Nt()){return/webos/i.test(t)}function l0(t=Nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zB(t=Nt()){var e;return l0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function HB(){return a3()&&document.documentMode===10}function kP(t=Nt()){return l0(t)||PP(t)||AP(t)||RP(t)||/windows phone/i.test(t)||IP(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(t,e=[]){let n;switch(t){case"Browser":n=lx(Nt());break;case"Worker":n=`${lx(Nt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${to}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qB(t,e={}){return Kr(t,"GET","/v2/passwordPolicy",qr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB=6;class GB{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:KB,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ux(this),this.idTokenSubscription=new ux(this),this.beforeStateQueue=new WB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ho.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await EP(this,{idToken:e}),r=await Ir._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(tr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Oh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tr(this.app))return Promise.reject(Nr(this));const n=e?yt(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tr(this.app)?Promise.reject(Nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tr(this.app)?Promise.reject(Nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qB(this),n=new GB(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new oc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await UB(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pr(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Ho.create(this,[Pr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&SB(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ts(t){return yt(t)}class ux{constructor(e){this.auth=e,this.observer=null,this.addObserver=m3(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ff={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YB(t){Ff=t}function DP(t){return Ff.loadJS(t)}function XB(){return Ff.recaptchaEnterpriseScript}function JB(){return Ff.gapiScript}function ZB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const eU="recaptcha-enterprise",tU="NO_RECAPTCHA";class nU{constructor(e){this.type=eU,this.auth=ts(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{OB(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new DB(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;ix(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(tU)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&ix(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=XB();l.length!==0&&(l+=a),DP(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function cx(t,e,n,r=!1){const i=new nU(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Mh(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await cx(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await cx(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(t,e){const n=Vf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(kh(s,e??{}))return i;Qn(i,"already-initialized")}return n.initialize({options:e})}function iU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Pr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function sU(t,e,n){const r=ts(t);oe(r._canInitEmulator,r,"emulator-config-failed"),oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=OP(e),{host:o,port:a}=oU(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),aU()}function OP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function oU(t){const e=OP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:dx(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:dx(o)}}}function dx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function aU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return br("not implemented")}_getIdTokenResponse(e){return br("not implemented")}_linkToIdToken(e,n){return br("not implemented")}_getReauthenticationResolver(e){return br("not implemented")}}async function lU(t,e){return Kr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uU(t,e){return uc(t,"POST","/v1/accounts:signInWithPassword",qr(t,e))}async function cU(t,e){return Kr(t,"POST","/v1/accounts:sendOobCode",qr(t,e))}async function dU(t,e){return cU(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hU(t,e){return uc(t,"POST","/v1/accounts:signInWithEmailLink",qr(t,e))}async function fU(t,e){return uc(t,"POST","/v1/accounts:signInWithEmailLink",qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends u0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ju(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ju(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mh(e,n,"signInWithPassword",uU);case"emailLink":return hU(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mh(e,r,"signUpPassword",lU);case"emailLink":return fU(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(t,e){return uc(t,"POST","/v1/accounts:signInWithIdp",qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU="http://localhost";class Fs extends u0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=i0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Fs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Wo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Wo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wo(e,n)}buildRequest(){const e={requestUri:pU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ac(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gU(t){const e=Dl(Ol(t)).link,n=e?Dl(Ol(e)).deep_link_id:null,r=Dl(Ol(t)).deep_link_id;return(r?Dl(Ol(r)).link:null)||r||n||e||t}class c0{constructor(e){var n,r,i,s,o,a;const l=Dl(Ol(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=mU((i=l.mode)!==null&&i!==void 0?i:null);oe(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=gU(e);try{return new c0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.providerId=Ia.PROVIDER_ID}static credential(e,n){return ju._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=c0.parseLink(n);return oe(r,"argument-error"),ju._fromEmailAndCode(e,r.code,r.tenantId)}}Ia.PROVIDER_ID="password";Ia.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ia.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends MP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends cc{constructor(){super("facebook.com")}static credential(e){return Fs._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ai.credential(e.oauthAccessToken)}catch{return null}}}ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";ai.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends cc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fs._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return li.credential(n,r)}catch{return null}}}li.GOOGLE_SIGN_IN_METHOD="google.com";li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends cc{constructor(){super("github.com")}static credential(e){return Fs._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ui.credential(e.oauthAccessToken)}catch{return null}}}ui.GITHUB_SIGN_IN_METHOD="github.com";ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends cc{constructor(){super("twitter.com")}static credential(e,n){return Fs._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ci.credential(n,r)}catch{return null}}}ci.TWITTER_SIGN_IN_METHOD="twitter.com";ci.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vU(t,e){return uc(t,"POST","/v1/accounts:signUp",qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ir._fromIdTokenResponse(e,r,i),o=hx(r);return new $s({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=hx(r);return new $s({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function hx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends vr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Lh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Lh(e,n,r,i)}}function LP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Lh._fromErrorAndOperation(t,s,e,r):s})}async function yU(t,e,n=!1){const r=await Lu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $s._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wU(t,e,n=!1){const{auth:r}=t;if(tr(r.app))return Promise.reject(Nr(r));const i="reauthenticate";try{const s=await Lu(t,LP(r,i,e,t),n);oe(s.idToken,r,"internal-error");const o=a0(s.idToken);oe(o,r,"internal-error");const{sub:a}=o;return oe(t.uid===a,r,"user-mismatch"),$s._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Qn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP(t,e,n=!1){if(tr(t.app))return Promise.reject(Nr(t));const r="signIn",i=await LP(t,r,e),s=await $s._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function _U(t,e){return jP(ts(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(t){const e=ts(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function EU(t,e,n){const r=ts(t);await Mh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",dU)}async function xU(t,e,n){if(tr(t.app))return Promise.reject(Nr(t));const r=ts(t),o=await Mh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vU).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&VP(t),l}),a=await $s._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function TU(t,e,n){return tr(t.app)?Promise.reject(Nr(t)):_U(yt(t),Ia.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&VP(t),r})}function CU(t,e,n,r){return yt(t).onIdTokenChanged(e,n,r)}function SU(t,e,n){return yt(t).beforeAuthStateChanged(e,n)}function Pa(t,e,n,r){return yt(t).onAuthStateChanged(e,n,r)}const jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU=1e3,IU=10;class $P extends FP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);HB()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,IU):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},bU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$P.type="LOCAL";const PU=$P;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP extends FP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BP.type="SESSION";const UP=BP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new $f(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await RU(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$f.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=d0("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(){return window}function kU(t){ur().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}async function NU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function OU(){return zP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP="firebaseLocalStorageDb",MU=1,Vh="firebaseLocalStorage",WP="fbase_key";class dc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bf(t,e){return t.transaction([Vh],e?"readwrite":"readonly").objectStore(Vh)}function LU(){const t=indexedDB.deleteDatabase(HP);return new dc(t).toPromise()}function Yg(){const t=indexedDB.open(HP,MU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Vh,{keyPath:WP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Vh)?e(r):(r.close(),await LU(),e(await Yg()))})})}async function fx(t,e,n){const r=Bf(t,!0).put({[WP]:e,value:n});return new dc(r).toPromise()}async function jU(t,e){const n=Bf(t,!1).get(e),r=await new dc(n).toPromise();return r===void 0?null:r.value}function px(t,e){const n=Bf(t,!0).delete(e);return new dc(n).toPromise()}const VU=800,FU=3;class qP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>FU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$f._getInstance(OU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await NU(),!this.activeServiceWorker)return;this.sender=new AU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yg();return await fx(e,jh,"1"),await px(e,jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>jU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>px(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Bf(i,!1).getAll();return new dc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qP.type="LOCAL";const $U=qP;new lc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BU(t,e){return e?Pr(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0 extends u0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function UU(t){return jP(t.auth,new h0(t),t.bypassAuthState)}function zU(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),wU(n,new h0(t),t.bypassAuthState)}async function HU(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),yU(n,new h0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UU;case"linkViaPopup":case"linkViaRedirect":return HU;case"reauthViaPopup":case"reauthViaRedirect":return zU;default:Qn(this.auth,"internal-error")}}resolve(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU=new lc(2e3,1e4);class Mo extends KP{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Mo.currentPopupAction&&Mo.currentPopupAction.cancel(),Mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){Br(this.filter.length===1,"Popup operations only handle one event");const e=d0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WU.get())};e()}}Mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qU="pendingRedirect",Ld=new Map;class KU extends KP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ld.get(this.auth._key());if(!e){try{const r=await GU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ld.set(this.auth._key(),e)}return this.bypassAuthState||Ld.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GU(t,e){const n=XU(e),r=YU(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function QU(t,e){Ld.set(t._key(),e)}function YU(t){return Pr(t._redirectPersistence)}function XU(t){return Md(qU,t.config.apiKey,t.name)}async function JU(t,e,n=!1){if(tr(t.app))return Promise.reject(Nr(t));const r=ts(t),i=BU(r,e),o=await new KU(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU=10*60*1e3;class e5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!t5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!GP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(lr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZU&&this.cachedEventUids.clear(),this.cachedEventUids.has(mx(e))}saveEventToCache(e){this.cachedEventUids.add(mx(e)),this.lastProcessedEventTime=Date.now()}}function mx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function GP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function t5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n5(t,e={}){return Kr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i5=/^https?/;async function s5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await n5(t);for(const n of e)try{if(o5(n))return}catch{}Qn(t,"unauthorized-domain")}function o5(t){const e=Gg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!i5.test(n))return!1;if(r5.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5=new lc(3e4,6e4);function gx(){const t=ur().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function l5(t){return new Promise((e,n)=>{var r,i,s;function o(){gx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gx(),n(lr(t,"network-request-failed"))},timeout:a5.get()})}if(!((i=(r=ur().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ur().gapi)===null||s===void 0)&&s.load)o();else{const a=ZB("iframefcb");return ur()[a]=()=>{gapi.load?o():n(lr(t,"network-request-failed"))},DP(`${JB()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw jd=null,e})}let jd=null;function u5(t){return jd=jd||l5(t),jd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5=new lc(5e3,15e3),d5="__/auth/iframe",h5="emulator/auth/iframe",f5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function m5(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?o0(e,h5):`https://${t.config.authDomain}/${d5}`,r={apiKey:e.apiKey,appName:t.name,v:to},i=p5.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ac(r).slice(1)}`}async function g5(t){const e=await u5(t),n=ur().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:m5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f5,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=lr(t,"network-request-failed"),a=ur().setTimeout(()=>{s(o)},c5.get());function l(){ur().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},y5=500,w5=600,_5="_blank",E5="http://localhost";class vx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function x5(t,e,n,r=y5,i=w5){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},v5),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Nt().toLowerCase();n&&(a=bP(u)?_5:n),CP(u)&&(e=e||E5,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,y])=>`${f}${m}=${y},`,"");if(zB(u)&&a!=="_self")return T5(e||"",a),new vx(null);const h=window.open(e||"",a,d);oe(h,t,"popup-blocked");try{h.focus()}catch{}return new vx(h)}function T5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5="__/auth/handler",S5="emulator/auth/handler",b5=encodeURIComponent("fac");async function yx(t,e,n,r,i,s){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:to,eventId:i};if(e instanceof MP){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",p3(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof cc){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${b5}=${encodeURIComponent(l)}`:"";return`${I5(t)}?${ac(a).slice(1)}${u}`}function I5({config:t}){return t.emulator?o0(t,S5):`https://${t.authDomain}/${C5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="webStorageSupport";class P5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UP,this._completeRedirectFn=JU,this._overrideRedirectResult=QU}async _openPopup(e,n,r,i){var s;Br((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await yx(e,n,r,Gg(),i);return x5(e,o,d0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await yx(e,n,r,Gg(),i);return kU(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Br(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await g5(e),r=new e5(e);return n.register("authEvent",i=>(oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mm,{type:mm},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[mm];o!==void 0&&n(!!o),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=s5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kP()||SP()||l0()}}const R5=P5;var wx="@firebase/auth",_x="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function N5(t){Vs(new Mi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NP(t)},u=new QB(r,i,s,l);return iU(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vs(new Mi("auth-internal",e=>{const n=ts(e.getProvider("auth").getImmediate());return(r=>new A5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ar(wx,_x,k5(t)),ar(wx,_x,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=5*60,O5=lP("authIdTokenMaxAge")||D5;let Ex=null;const M5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>O5)return;const i=n==null?void 0:n.token;Ex!==i&&(Ex=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function L5(t=r0()){const e=Vf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=rU(t,{popupRedirectResolver:R5,persistence:[$U,PU,UP]}),r=lP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=M5(s.toString());SU(n,o,()=>o(n.currentUser)),CU(n,a=>o(a))}}const i=sP("auth");return i&&sU(n,`http://${i}`),n}function j5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}YB({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=lr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",j5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});N5("Browser");var V5="firebase",F5="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar(V5,F5,"app");var xx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ps,QP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,w){function I(){}I.prototype=w.prototype,_.D=w.prototype,_.prototype=new I,_.prototype.constructor=_,_.C=function(P,N,M){for(var D=Array(arguments.length-2),H=2;H<arguments.length;H++)D[H-2]=arguments[H];return w.prototype[N].apply(P,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,w,I){I||(I=0);var P=Array(16);if(typeof w=="string")for(var N=0;16>N;++N)P[N]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(N=0;16>N;++N)P[N]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=_.g[0],I=_.g[1],N=_.g[2];var M=_.g[3],D=w+(M^I&(N^M))+P[0]+3614090360&4294967295;w=I+(D<<7&4294967295|D>>>25),D=M+(N^w&(I^N))+P[1]+3905402710&4294967295,M=w+(D<<12&4294967295|D>>>20),D=N+(I^M&(w^I))+P[2]+606105819&4294967295,N=M+(D<<17&4294967295|D>>>15),D=I+(w^N&(M^w))+P[3]+3250441966&4294967295,I=N+(D<<22&4294967295|D>>>10),D=w+(M^I&(N^M))+P[4]+4118548399&4294967295,w=I+(D<<7&4294967295|D>>>25),D=M+(N^w&(I^N))+P[5]+1200080426&4294967295,M=w+(D<<12&4294967295|D>>>20),D=N+(I^M&(w^I))+P[6]+2821735955&4294967295,N=M+(D<<17&4294967295|D>>>15),D=I+(w^N&(M^w))+P[7]+4249261313&4294967295,I=N+(D<<22&4294967295|D>>>10),D=w+(M^I&(N^M))+P[8]+1770035416&4294967295,w=I+(D<<7&4294967295|D>>>25),D=M+(N^w&(I^N))+P[9]+2336552879&4294967295,M=w+(D<<12&4294967295|D>>>20),D=N+(I^M&(w^I))+P[10]+4294925233&4294967295,N=M+(D<<17&4294967295|D>>>15),D=I+(w^N&(M^w))+P[11]+2304563134&4294967295,I=N+(D<<22&4294967295|D>>>10),D=w+(M^I&(N^M))+P[12]+1804603682&4294967295,w=I+(D<<7&4294967295|D>>>25),D=M+(N^w&(I^N))+P[13]+4254626195&4294967295,M=w+(D<<12&4294967295|D>>>20),D=N+(I^M&(w^I))+P[14]+2792965006&4294967295,N=M+(D<<17&4294967295|D>>>15),D=I+(w^N&(M^w))+P[15]+1236535329&4294967295,I=N+(D<<22&4294967295|D>>>10),D=w+(N^M&(I^N))+P[1]+4129170786&4294967295,w=I+(D<<5&4294967295|D>>>27),D=M+(I^N&(w^I))+P[6]+3225465664&4294967295,M=w+(D<<9&4294967295|D>>>23),D=N+(w^I&(M^w))+P[11]+643717713&4294967295,N=M+(D<<14&4294967295|D>>>18),D=I+(M^w&(N^M))+P[0]+3921069994&4294967295,I=N+(D<<20&4294967295|D>>>12),D=w+(N^M&(I^N))+P[5]+3593408605&4294967295,w=I+(D<<5&4294967295|D>>>27),D=M+(I^N&(w^I))+P[10]+38016083&4294967295,M=w+(D<<9&4294967295|D>>>23),D=N+(w^I&(M^w))+P[15]+3634488961&4294967295,N=M+(D<<14&4294967295|D>>>18),D=I+(M^w&(N^M))+P[4]+3889429448&4294967295,I=N+(D<<20&4294967295|D>>>12),D=w+(N^M&(I^N))+P[9]+568446438&4294967295,w=I+(D<<5&4294967295|D>>>27),D=M+(I^N&(w^I))+P[14]+3275163606&4294967295,M=w+(D<<9&4294967295|D>>>23),D=N+(w^I&(M^w))+P[3]+4107603335&4294967295,N=M+(D<<14&4294967295|D>>>18),D=I+(M^w&(N^M))+P[8]+1163531501&4294967295,I=N+(D<<20&4294967295|D>>>12),D=w+(N^M&(I^N))+P[13]+2850285829&4294967295,w=I+(D<<5&4294967295|D>>>27),D=M+(I^N&(w^I))+P[2]+4243563512&4294967295,M=w+(D<<9&4294967295|D>>>23),D=N+(w^I&(M^w))+P[7]+1735328473&4294967295,N=M+(D<<14&4294967295|D>>>18),D=I+(M^w&(N^M))+P[12]+2368359562&4294967295,I=N+(D<<20&4294967295|D>>>12),D=w+(I^N^M)+P[5]+4294588738&4294967295,w=I+(D<<4&4294967295|D>>>28),D=M+(w^I^N)+P[8]+2272392833&4294967295,M=w+(D<<11&4294967295|D>>>21),D=N+(M^w^I)+P[11]+1839030562&4294967295,N=M+(D<<16&4294967295|D>>>16),D=I+(N^M^w)+P[14]+4259657740&4294967295,I=N+(D<<23&4294967295|D>>>9),D=w+(I^N^M)+P[1]+2763975236&4294967295,w=I+(D<<4&4294967295|D>>>28),D=M+(w^I^N)+P[4]+1272893353&4294967295,M=w+(D<<11&4294967295|D>>>21),D=N+(M^w^I)+P[7]+4139469664&4294967295,N=M+(D<<16&4294967295|D>>>16),D=I+(N^M^w)+P[10]+3200236656&4294967295,I=N+(D<<23&4294967295|D>>>9),D=w+(I^N^M)+P[13]+681279174&4294967295,w=I+(D<<4&4294967295|D>>>28),D=M+(w^I^N)+P[0]+3936430074&4294967295,M=w+(D<<11&4294967295|D>>>21),D=N+(M^w^I)+P[3]+3572445317&4294967295,N=M+(D<<16&4294967295|D>>>16),D=I+(N^M^w)+P[6]+76029189&4294967295,I=N+(D<<23&4294967295|D>>>9),D=w+(I^N^M)+P[9]+3654602809&4294967295,w=I+(D<<4&4294967295|D>>>28),D=M+(w^I^N)+P[12]+3873151461&4294967295,M=w+(D<<11&4294967295|D>>>21),D=N+(M^w^I)+P[15]+530742520&4294967295,N=M+(D<<16&4294967295|D>>>16),D=I+(N^M^w)+P[2]+3299628645&4294967295,I=N+(D<<23&4294967295|D>>>9),D=w+(N^(I|~M))+P[0]+4096336452&4294967295,w=I+(D<<6&4294967295|D>>>26),D=M+(I^(w|~N))+P[7]+1126891415&4294967295,M=w+(D<<10&4294967295|D>>>22),D=N+(w^(M|~I))+P[14]+2878612391&4294967295,N=M+(D<<15&4294967295|D>>>17),D=I+(M^(N|~w))+P[5]+4237533241&4294967295,I=N+(D<<21&4294967295|D>>>11),D=w+(N^(I|~M))+P[12]+1700485571&4294967295,w=I+(D<<6&4294967295|D>>>26),D=M+(I^(w|~N))+P[3]+2399980690&4294967295,M=w+(D<<10&4294967295|D>>>22),D=N+(w^(M|~I))+P[10]+4293915773&4294967295,N=M+(D<<15&4294967295|D>>>17),D=I+(M^(N|~w))+P[1]+2240044497&4294967295,I=N+(D<<21&4294967295|D>>>11),D=w+(N^(I|~M))+P[8]+1873313359&4294967295,w=I+(D<<6&4294967295|D>>>26),D=M+(I^(w|~N))+P[15]+4264355552&4294967295,M=w+(D<<10&4294967295|D>>>22),D=N+(w^(M|~I))+P[6]+2734768916&4294967295,N=M+(D<<15&4294967295|D>>>17),D=I+(M^(N|~w))+P[13]+1309151649&4294967295,I=N+(D<<21&4294967295|D>>>11),D=w+(N^(I|~M))+P[4]+4149444226&4294967295,w=I+(D<<6&4294967295|D>>>26),D=M+(I^(w|~N))+P[11]+3174756917&4294967295,M=w+(D<<10&4294967295|D>>>22),D=N+(w^(M|~I))+P[2]+718787259&4294967295,N=M+(D<<15&4294967295|D>>>17),D=I+(M^(N|~w))+P[9]+3951481745&4294967295,_.g[0]=_.g[0]+w&4294967295,_.g[1]=_.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,_.g[2]=_.g[2]+N&4294967295,_.g[3]=_.g[3]+M&4294967295}r.prototype.u=function(_,w){w===void 0&&(w=_.length);for(var I=w-this.blockSize,P=this.B,N=this.h,M=0;M<w;){if(N==0)for(;M<=I;)i(this,_,M),M+=this.blockSize;if(typeof _=="string"){for(;M<w;)if(P[N++]=_.charCodeAt(M++),N==this.blockSize){i(this,P),N=0;break}}else for(;M<w;)if(P[N++]=_[M++],N==this.blockSize){i(this,P),N=0;break}}this.h=N,this.o+=w},r.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var w=1;w<_.length-8;++w)_[w]=0;var I=8*this.o;for(w=_.length-8;w<_.length;++w)_[w]=I&255,I/=256;for(this.u(_),_=Array(16),w=I=0;4>w;++w)for(var P=0;32>P;P+=8)_[I++]=this.g[w]>>>P&255;return _};function s(_,w){var I=a;return Object.prototype.hasOwnProperty.call(I,_)?I[_]:I[_]=w(_)}function o(_,w){this.h=w;for(var I=[],P=!0,N=_.length-1;0<=N;N--){var M=_[N]|0;P&&M==w||(I[N]=M,P=!1)}this.g=I}var a={};function l(_){return-128<=_&&128>_?s(_,function(w){return new o([w|0],0>w?-1:0)}):new o([_|0],0>_?-1:0)}function u(_){if(isNaN(_)||!isFinite(_))return h;if(0>_)return S(u(-_));for(var w=[],I=1,P=0;_>=I;P++)w[P]=_/I|0,I*=4294967296;return new o(w,0)}function d(_,w){if(_.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(_.charAt(0)=="-")return S(d(_.substring(1),w));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(w,8)),P=h,N=0;N<_.length;N+=8){var M=Math.min(8,_.length-N),D=parseInt(_.substring(N,N+M),w);8>M?(M=u(Math.pow(w,M)),P=P.j(M).add(u(D))):(P=P.j(I),P=P.add(u(D)))}return P}var h=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(T(this))return-S(this).m();for(var _=0,w=1,I=0;I<this.g.length;I++){var P=this.i(I);_+=(0<=P?P:4294967296+P)*w,w*=4294967296}return _},t.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(y(this))return"0";if(T(this))return"-"+S(this).toString(_);for(var w=u(Math.pow(_,6)),I=this,P="";;){var N=R(I,w).g;I=b(I,N.j(w));var M=((0<I.g.length?I.g[0]:I.h)>>>0).toString(_);if(I=N,y(I))return M+P;for(;6>M.length;)M="0"+M;P=M+P}},t.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function y(_){if(_.h!=0)return!1;for(var w=0;w<_.g.length;w++)if(_.g[w]!=0)return!1;return!0}function T(_){return _.h==-1}t.l=function(_){return _=b(this,_),T(_)?-1:y(_)?0:1};function S(_){for(var w=_.g.length,I=[],P=0;P<w;P++)I[P]=~_.g[P];return new o(I,~_.h).add(f)}t.abs=function(){return T(this)?S(this):this},t.add=function(_){for(var w=Math.max(this.g.length,_.g.length),I=[],P=0,N=0;N<=w;N++){var M=P+(this.i(N)&65535)+(_.i(N)&65535),D=(M>>>16)+(this.i(N)>>>16)+(_.i(N)>>>16);P=D>>>16,M&=65535,D&=65535,I[N]=D<<16|M}return new o(I,I[I.length-1]&-2147483648?-1:0)};function b(_,w){return _.add(S(w))}t.j=function(_){if(y(this)||y(_))return h;if(T(this))return T(_)?S(this).j(S(_)):S(S(this).j(_));if(T(_))return S(this.j(S(_)));if(0>this.l(m)&&0>_.l(m))return u(this.m()*_.m());for(var w=this.g.length+_.g.length,I=[],P=0;P<2*w;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var N=0;N<_.g.length;N++){var M=this.i(P)>>>16,D=this.i(P)&65535,H=_.i(N)>>>16,J=_.i(N)&65535;I[2*P+2*N]+=D*J,x(I,2*P+2*N),I[2*P+2*N+1]+=M*J,x(I,2*P+2*N+1),I[2*P+2*N+1]+=D*H,x(I,2*P+2*N+1),I[2*P+2*N+2]+=M*H,x(I,2*P+2*N+2)}for(P=0;P<w;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=w;P<2*w;P++)I[P]=0;return new o(I,0)};function x(_,w){for(;(_[w]&65535)!=_[w];)_[w+1]+=_[w]>>>16,_[w]&=65535,w++}function E(_,w){this.g=_,this.h=w}function R(_,w){if(y(w))throw Error("division by zero");if(y(_))return new E(h,h);if(T(_))return w=R(S(_),w),new E(S(w.g),S(w.h));if(T(w))return w=R(_,S(w)),new E(S(w.g),w.h);if(30<_.g.length){if(T(_)||T(w))throw Error("slowDivide_ only works with positive integers.");for(var I=f,P=w;0>=P.l(_);)I=O(I),P=O(P);var N=A(I,1),M=A(P,1);for(P=A(P,2),I=A(I,2);!y(P);){var D=M.add(P);0>=D.l(_)&&(N=N.add(I),M=D),P=A(P,1),I=A(I,1)}return w=b(_,N.j(w)),new E(N,w)}for(N=h;0<=_.l(w);){for(I=Math.max(1,Math.floor(_.m()/w.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),M=u(I),D=M.j(w);T(D)||0<D.l(_);)I-=P,M=u(I),D=M.j(w);y(M)&&(M=f),N=N.add(M),_=b(_,D)}return new E(N,_)}t.A=function(_){return R(this,_).h},t.and=function(_){for(var w=Math.max(this.g.length,_.g.length),I=[],P=0;P<w;P++)I[P]=this.i(P)&_.i(P);return new o(I,this.h&_.h)},t.or=function(_){for(var w=Math.max(this.g.length,_.g.length),I=[],P=0;P<w;P++)I[P]=this.i(P)|_.i(P);return new o(I,this.h|_.h)},t.xor=function(_){for(var w=Math.max(this.g.length,_.g.length),I=[],P=0;P<w;P++)I[P]=this.i(P)^_.i(P);return new o(I,this.h^_.h)};function O(_){for(var w=_.g.length+1,I=[],P=0;P<w;P++)I[P]=_.i(P)<<1|_.i(P-1)>>>31;return new o(I,_.h)}function A(_,w){var I=w>>5;w%=32;for(var P=_.g.length-I,N=[],M=0;M<P;M++)N[M]=0<w?_.i(M+I)>>>w|_.i(M+I+1)<<32-w:_.i(M+I);return new o(N,_.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,QP=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Ps=o}).apply(typeof xx<"u"?xx:typeof self<"u"?self:typeof window<"u"?window:{});var ud=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YP,XP,Ml,JP,Vd,Xg,ZP,eR,tR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,C){return c==Array.prototype||c==Object.prototype||(c[g]=C.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ud=="object"&&ud];for(var g=0;g<c.length;++g){var C=c[g];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(c,g){if(g)e:{var C=r;c=c.split(".");for(var k=0;k<c.length-1;k++){var L=c[k];if(!(L in C))break e;C=C[L]}c=c[c.length-1],k=C[c],g=g(k),g!=k&&g!=null&&e(C,c,{configurable:!0,writable:!0,value:g})}}function s(c,g){c instanceof String&&(c+="");var C=0,k=!1,L={next:function(){if(!k&&C<c.length){var j=C++;return{value:g(j,c[j]),done:!1}}return k=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(c){return c||function(){return s(this,function(g,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function u(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function d(c,g,C){return c.call.apply(c.bind,arguments)}function h(c,g,C){if(!c)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,k),c.apply(g,L)}}return function(){return c.apply(g,arguments)}}function f(c,g,C){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(c,g){var C=Array.prototype.slice.call(arguments,1);return function(){var k=C.slice();return k.push.apply(k,arguments),c.apply(this,k)}}function y(c,g){function C(){}C.prototype=g.prototype,c.aa=g.prototype,c.prototype=new C,c.prototype.constructor=c,c.Qb=function(k,L,j){for(var K=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)K[Ce-2]=arguments[Ce];return g.prototype[L].apply(k,K)}}function T(c){const g=c.length;if(0<g){const C=Array(g);for(let k=0;k<g;k++)C[k]=c[k];return C}return[]}function S(c,g){for(let C=1;C<arguments.length;C++){const k=arguments[C];if(l(k)){const L=c.length||0,j=k.length||0;c.length=L+j;for(let K=0;K<j;K++)c[L+K]=k[K]}else c.push(k)}}class b{constructor(g,C){this.i=g,this.j=C,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function x(c){return/^[\s\xa0]*$/.test(c)}function E(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function R(c){return R[" "](c),c}R[" "]=function(){};var O=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function A(c,g,C){for(const k in c)g.call(C,c[k],k,c)}function _(c,g){for(const C in c)g.call(void 0,c[C],C,c)}function w(c){const g={};for(const C in c)g[C]=c[C];return g}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,g){let C,k;for(let L=1;L<arguments.length;L++){k=arguments[L];for(C in k)c[C]=k[C];for(let j=0;j<I.length;j++)C=I[j],Object.prototype.hasOwnProperty.call(k,C)&&(c[C]=k[C])}}function N(c){var g=1;c=c.split(":");const C=[];for(;0<g&&c.length;)C.push(c.shift()),g--;return c.length&&C.push(c.join(":")),C}function M(c){a.setTimeout(()=>{throw c},0)}function D(){var c=$;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class H{constructor(){this.h=this.g=null}add(g,C){const k=J.get();k.set(g,C),this.h?this.h.next=k:this.g=k,this.h=k}}var J=new b(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(g,C){this.h=g,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let F,V=!1,$=new H,G=()=>{const c=a.Promise.resolve(void 0);F=()=>{c.then(q)}};var q=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(C){M(C)}var g=J;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}V=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const C=()=>{};a.addEventListener("test",C,g),a.removeEventListener("test",C,g)}catch{}return c}();function de(c,g){if(le.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var C=this.type=c.type,k=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(O){e:{try{R(g.nodeName);var L=!0;break e}catch{}L=!1}L||(g=null)}}else C=="mouseover"?g=c.fromElement:C=="mouseout"&&(g=c.toElement);this.relatedTarget=g,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ie[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&de.aa.h.call(this)}}y(de,le);var Ie={2:"touch",3:"pen",4:"mouse"};de.prototype.h=function(){de.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var qe="closure_listenable_"+(1e6*Math.random()|0),Wt=0;function Ln(c,g,C,k,L){this.listener=c,this.proxy=null,this.src=g,this.type=C,this.capture=!!k,this.ha=L,this.key=++Wt,this.da=this.fa=!1}function jn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function _t(c){this.src=c,this.g={},this.h=0}_t.prototype.add=function(c,g,C,k,L){var j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);var K=ao(c,g,k,L);return-1<K?(g=c[K],C||(g.fa=!1)):(g=new Ln(g,this.src,j,!!k,L),g.fa=C,c.push(g)),g};function oo(c,g){var C=g.type;if(C in c.g){var k=c.g[C],L=Array.prototype.indexOf.call(k,g,void 0),j;(j=0<=L)&&Array.prototype.splice.call(k,L,1),j&&(jn(g),c.g[C].length==0&&(delete c.g[C],c.h--))}}function ao(c,g,C,k){for(var L=0;L<c.length;++L){var j=c[L];if(!j.da&&j.listener==g&&j.capture==!!C&&j.ha==k)return L}return-1}var za="closure_lm_"+(1e6*Math.random()|0),Ha={};function Wa(c,g,C,k,L){if(Array.isArray(g)){for(var j=0;j<g.length;j++)Wa(c,g[j],C,k,L);return null}return C=qa(C),c&&c[qe]?c.K(g,C,u(k)?!!k.capture:!!k,L):Tc(c,g,C,!1,k,L)}function Tc(c,g,C,k,L,j){if(!g)throw Error("Invalid event type");var K=u(L)?!!L.capture:!!L,Ce=lo(c);if(Ce||(c[za]=Ce=new _t(c)),C=Ce.add(g,C,k,K,j),C.proxy)return C;if(k=op(),C.proxy=k,k.src=c,k.listener=C,c.addEventListener)Ee||(L=K),L===void 0&&(L=!1),c.addEventListener(g.toString(),k,L);else if(c.attachEvent)c.attachEvent(rs(g.toString()),k);else if(c.addListener&&c.removeListener)c.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return C}function op(){function c(C){return g.call(c.src,c.listener,C)}const g=Sc;return c}function Cc(c,g,C,k,L){if(Array.isArray(g))for(var j=0;j<g.length;j++)Cc(c,g[j],C,k,L);else k=u(k)?!!k.capture:!!k,C=qa(C),c&&c[qe]?(c=c.i,g=String(g).toString(),g in c.g&&(j=c.g[g],C=ao(j,C,k,L),-1<C&&(jn(j[C]),Array.prototype.splice.call(j,C,1),j.length==0&&(delete c.g[g],c.h--)))):c&&(c=lo(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ao(g,C,k,L)),(C=-1<c?g[c]:null)&&Vn(C))}function Vn(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[qe])oo(g.i,c);else{var C=c.type,k=c.proxy;g.removeEventListener?g.removeEventListener(C,k,c.capture):g.detachEvent?g.detachEvent(rs(C),k):g.addListener&&g.removeListener&&g.removeListener(k),(C=lo(g))?(oo(C,c),C.h==0&&(C.src=null,g[za]=null)):jn(c)}}}function rs(c){return c in Ha?Ha[c]:Ha[c]="on"+c}function Sc(c,g){if(c.da)c=!0;else{g=new de(g,this);var C=c.listener,k=c.ha||c.src;c.fa&&Vn(c),c=C.call(k,g)}return c}function lo(c){return c=c[za],c instanceof _t?c:null}var is="__closure_events_fn_"+(1e9*Math.random()>>>0);function qa(c){return typeof c=="function"?c:(c[is]||(c[is]=function(g){return c.handleEvent(g)}),c[is])}function tt(){te.call(this),this.i=new _t(this),this.M=this,this.F=null}y(tt,te),tt.prototype[qe]=!0,tt.prototype.removeEventListener=function(c,g,C,k){Cc(this,c,g,C,k)};function at(c,g){var C,k=c.F;if(k)for(C=[];k;k=k.F)C.push(k);if(c=c.M,k=g.type||g,typeof g=="string")g=new le(g,c);else if(g instanceof le)g.target=g.target||c;else{var L=g;g=new le(k,c),P(g,L)}if(L=!0,C)for(var j=C.length-1;0<=j;j--){var K=g.g=C[j];L=ss(K,k,!0,g)&&L}if(K=g.g=c,L=ss(K,k,!0,g)&&L,L=ss(K,k,!1,g)&&L,C)for(j=0;j<C.length;j++)K=g.g=C[j],L=ss(K,k,!1,g)&&L}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var C=c.g[g],k=0;k<C.length;k++)jn(C[k]);delete c.g[g],c.h--}}this.F=null},tt.prototype.K=function(c,g,C,k){return this.i.add(String(c),g,!1,C,k)},tt.prototype.L=function(c,g,C,k){return this.i.add(String(c),g,!0,C,k)};function ss(c,g,C,k){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var L=!0,j=0;j<g.length;++j){var K=g[j];if(K&&!K.da&&K.capture==C){var Ce=K.listener,dt=K.ha||K.src;K.fa&&oo(c.i,K),L=Ce.call(dt,k)!==!1&&L}}return L&&!k.defaultPrevented}function pw(c,g,C){if(typeof c=="function")C&&(c=f(c,C));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(c,g||0)}function mw(c){c.g=pw(()=>{c.g=null,c.i&&(c.i=!1,mw(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Xk extends te{constructor(g,C){super(),this.m=g,this.l=C,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:mw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ka(c){te.call(this),this.h=c,this.g={}}y(Ka,te);var gw=[];function vw(c){A(c.g,function(g,C){this.g.hasOwnProperty(C)&&Vn(g)},c),c.g={}}Ka.prototype.N=function(){Ka.aa.N.call(this),vw(this)},Ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ap=a.JSON.stringify,Jk=a.JSON.parse,Zk=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function lp(){}lp.prototype.h=null;function yw(c){return c.h||(c.h=c.i())}function ww(){}var Ga={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function up(){le.call(this,"d")}y(up,le);function cp(){le.call(this,"c")}y(cp,le);var os={},_w=null;function bc(){return _w=_w||new tt}os.La="serverreachability";function Ew(c){le.call(this,os.La,c)}y(Ew,le);function Qa(c){const g=bc();at(g,new Ew(g))}os.STAT_EVENT="statevent";function xw(c,g){le.call(this,os.STAT_EVENT,c),this.stat=g}y(xw,le);function Dt(c){const g=bc();at(g,new xw(g,c))}os.Ma="timingevent";function Tw(c,g){le.call(this,os.Ma,c),this.size=g}y(Tw,le);function Ya(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},g)}function Xa(){this.g=!0}Xa.prototype.xa=function(){this.g=!1};function eN(c,g,C,k,L,j){c.info(function(){if(c.g)if(j)for(var K="",Ce=j.split("&"),dt=0;dt<Ce.length;dt++){var ye=Ce[dt].split("=");if(1<ye.length){var Et=ye[0];ye=ye[1];var xt=Et.split("_");K=2<=xt.length&&xt[1]=="type"?K+(Et+"="+ye+"&"):K+(Et+"=redacted&")}}else K=null;else K=j;return"XMLHTTP REQ ("+k+") [attempt "+L+"]: "+g+`
`+C+`
`+K})}function tN(c,g,C,k,L,j,K){c.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+L+"]: "+g+`
`+C+`
`+j+" "+K})}function uo(c,g,C,k){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+rN(c,C)+(k?" "+k:"")})}function nN(c,g){c.info(function(){return"TIMEOUT: "+g})}Xa.prototype.info=function(){};function rN(c,g){if(!c.g)return g;if(!g)return null;try{var C=JSON.parse(g);if(C){for(c=0;c<C.length;c++)if(Array.isArray(C[c])){var k=C[c];if(!(2>k.length)){var L=k[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var K=1;K<L.length;K++)L[K]=""}}}}return ap(C)}catch{return g}}var Ic={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Cw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dp;function Pc(){}y(Pc,lp),Pc.prototype.g=function(){return new XMLHttpRequest},Pc.prototype.i=function(){return{}},dp=new Pc;function Yr(c,g,C,k){this.j=c,this.i=g,this.l=C,this.R=k||1,this.U=new Ka(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Sw}function Sw(){this.i=null,this.g="",this.h=!1}var bw={},hp={};function fp(c,g,C){c.L=1,c.v=Nc(wr(g)),c.m=C,c.P=!0,Iw(c,null)}function Iw(c,g){c.F=Date.now(),Rc(c),c.A=wr(c.v);var C=c.A,k=c.R;Array.isArray(k)||(k=[String(k)]),Bw(C.i,"t",k),c.C=0,C=c.j.J,c.h=new Sw,c.g=s_(c.j,C?g:null,!c.m),0<c.O&&(c.M=new Xk(f(c.Y,c,c.g),c.O)),g=c.U,C=c.g,k=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(gw[0]=L.toString()),L=gw);for(var j=0;j<L.length;j++){var K=Wa(C,L[j],k||g.handleEvent,!1,g.h||g);if(!K)break;g.g[K.key]=K}g=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Qa(),eN(c.i,c.u,c.A,c.l,c.R,c.m)}Yr.prototype.ca=function(c){c=c.target;const g=this.M;g&&_r(c)==3?g.j():this.Y(c)},Yr.prototype.Y=function(c){try{if(c==this.g)e:{const xt=_r(this.g);var g=this.g.Ba();const fo=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||Gw(this.g)))){this.J||xt!=4||g==7||(g==8||0>=fo?Qa(3):Qa(2)),pp(this);var C=this.g.Z();this.X=C;t:if(Pw(this)){var k=Gw(this.g);c="";var L=k.length,j=_r(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){as(this),Ja(this);var K="";break t}this.h.i=new a.TextDecoder}for(g=0;g<L;g++)this.h.h=!0,c+=this.h.i.decode(k[g],{stream:!(j&&g==L-1)});k.length=0,this.h.g+=c,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=C==200,tN(this.i,this.u,this.A,this.l,this.R,xt,C),this.o){if(this.T&&!this.K){t:{if(this.g){var Ce,dt=this.g;if((Ce=dt.g?dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Ce)){var ye=Ce;break t}}ye=null}if(C=ye)uo(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mp(this,C);else{this.o=!1,this.s=3,Dt(12),as(this),Ja(this);break e}}if(this.P){C=!0;let Fn;for(;!this.J&&this.C<K.length;)if(Fn=iN(this,K),Fn==hp){xt==4&&(this.s=4,Dt(14),C=!1),uo(this.i,this.l,null,"[Incomplete Response]");break}else if(Fn==bw){this.s=4,Dt(15),uo(this.i,this.l,K,"[Invalid Chunk]"),C=!1;break}else uo(this.i,this.l,Fn,null),mp(this,Fn);if(Pw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||K.length!=0||this.h.h||(this.s=1,Dt(16),C=!1),this.o=this.o&&C,!C)uo(this.i,this.l,K,"[Invalid Chunked Response]"),as(this),Ja(this);else if(0<K.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),Ep(Et),Et.M=!0,Dt(11))}}else uo(this.i,this.l,K,null),mp(this,K);xt==4&&as(this),this.o&&!this.J&&(xt==4?t_(this.j,this):(this.o=!1,Rc(this)))}else EN(this.g),C==400&&0<K.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),as(this),Ja(this)}}}catch{}finally{}};function Pw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function iN(c,g){var C=c.C,k=g.indexOf(`
`,C);return k==-1?hp:(C=Number(g.substring(C,k)),isNaN(C)?bw:(k+=1,k+C>g.length?hp:(g=g.slice(k,k+C),c.C=k+C,g)))}Yr.prototype.cancel=function(){this.J=!0,as(this)};function Rc(c){c.S=Date.now()+c.I,Rw(c,c.I)}function Rw(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ya(f(c.ba,c),g)}function pp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Yr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(nN(this.i,this.A),this.L!=2&&(Qa(),Dt(17)),as(this),this.s=2,Ja(this)):Rw(this,this.S-c)};function Ja(c){c.j.G==0||c.J||t_(c.j,c)}function as(c){pp(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,vw(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function mp(c,g){try{var C=c.j;if(C.G!=0&&(C.g==c||gp(C.h,c))){if(!c.K&&gp(C.h,c)&&C.G==3){try{var k=C.Da.g.parse(g)}catch{k=null}if(Array.isArray(k)&&k.length==3){var L=k;if(L[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<c.F)jc(C),Mc(C);else break e;_p(C),Dt(18)}}else C.za=L[1],0<C.za-C.T&&37500>L[2]&&C.F&&C.v==0&&!C.C&&(C.C=Ya(f(C.Za,C),6e3));if(1>=Nw(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else us(C,11)}else if((c.K||C.g==c)&&jc(C),!x(g))for(L=C.Da.g.parse(g),g=0;g<L.length;g++){let ye=L[g];if(C.T=ye[0],ye=ye[1],C.G==2)if(ye[0]=="c"){C.K=ye[1],C.ia=ye[2];const Et=ye[3];Et!=null&&(C.la=Et,C.j.info("VER="+C.la));const xt=ye[4];xt!=null&&(C.Aa=xt,C.j.info("SVER="+C.Aa));const fo=ye[5];fo!=null&&typeof fo=="number"&&0<fo&&(k=1.5*fo,C.L=k,C.j.info("backChannelRequestTimeoutMs_="+k)),k=C;const Fn=c.g;if(Fn){const Fc=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fc){var j=k.h;j.g||Fc.indexOf("spdy")==-1&&Fc.indexOf("quic")==-1&&Fc.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(vp(j,j.h),j.h=null))}if(k.D){const xp=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;xp&&(k.ya=xp,Ae(k.I,k.D,xp))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-c.F,C.j.info("Handshake RTT: "+C.R+"ms")),k=C;var K=c;if(k.qa=i_(k,k.J?k.ia:null,k.W),K.K){Dw(k.h,K);var Ce=K,dt=k.L;dt&&(Ce.I=dt),Ce.B&&(pp(Ce),Rc(Ce)),k.g=K}else Zw(k);0<C.i.length&&Lc(C)}else ye[0]!="stop"&&ye[0]!="close"||us(C,7);else C.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?us(C,7):wp(C):ye[0]!="noop"&&C.l&&C.l.ta(ye),C.v=0)}}Qa(4)}catch{}}var sN=class{constructor(c,g){this.g=c,this.map=g}};function Aw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Nw(c){return c.h?1:c.g?c.g.size:0}function gp(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function vp(c,g){c.g?c.g.add(g):c.h=g}function Dw(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Aw.prototype.cancel=function(){if(this.i=Ow(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ow(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const C of c.g.values())g=g.concat(C.D);return g}return T(c.i)}function oN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var g=[],C=c.length,k=0;k<C;k++)g.push(c[k]);return g}g=[],C=0;for(k in c)g[C++]=c[k];return g}function aN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var g=[];c=c.length;for(var C=0;C<c;C++)g.push(C);return g}g=[],C=0;for(const k in c)g[C++]=k;return g}}}function Mw(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var C=aN(c),k=oN(c),L=k.length,j=0;j<L;j++)g.call(void 0,k[j],C&&C[j],c)}var Lw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lN(c,g){if(c){c=c.split("&");for(var C=0;C<c.length;C++){var k=c[C].indexOf("="),L=null;if(0<=k){var j=c[C].substring(0,k);L=c[C].substring(k+1)}else j=c[C];g(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ls(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ls){this.h=c.h,Ac(this,c.j),this.o=c.o,this.g=c.g,kc(this,c.s),this.l=c.l;var g=c.i,C=new tl;C.i=g.i,g.g&&(C.g=new Map(g.g),C.h=g.h),jw(this,C),this.m=c.m}else c&&(g=String(c).match(Lw))?(this.h=!1,Ac(this,g[1]||"",!0),this.o=Za(g[2]||""),this.g=Za(g[3]||"",!0),kc(this,g[4]),this.l=Za(g[5]||"",!0),jw(this,g[6]||"",!0),this.m=Za(g[7]||"")):(this.h=!1,this.i=new tl(null,this.h))}ls.prototype.toString=function(){var c=[],g=this.j;g&&c.push(el(g,Vw,!0),":");var C=this.g;return(C||g=="file")&&(c.push("//"),(g=this.o)&&c.push(el(g,Vw,!0),"@"),c.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&c.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&c.push("/"),c.push(el(C,C.charAt(0)=="/"?dN:cN,!0))),(C=this.i.toString())&&c.push("?",C),(C=this.m)&&c.push("#",el(C,fN)),c.join("")};function wr(c){return new ls(c)}function Ac(c,g,C){c.j=C?Za(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function kc(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function jw(c,g,C){g instanceof tl?(c.i=g,pN(c.i,c.h)):(C||(g=el(g,hN)),c.i=new tl(g,c.h))}function Ae(c,g,C){c.i.set(g,C)}function Nc(c){return Ae(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Za(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function el(c,g,C){return typeof c=="string"?(c=encodeURI(c).replace(g,uN),C&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function uN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Vw=/[#\/\?@]/g,cN=/[#\?:]/g,dN=/[#\?]/g,hN=/[#\?@]/g,fN=/#/g;function tl(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Xr(c){c.g||(c.g=new Map,c.h=0,c.i&&lN(c.i,function(g,C){c.add(decodeURIComponent(g.replace(/\+/g," ")),C)}))}t=tl.prototype,t.add=function(c,g){Xr(this),this.i=null,c=co(this,c);var C=this.g.get(c);return C||this.g.set(c,C=[]),C.push(g),this.h+=1,this};function Fw(c,g){Xr(c),g=co(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function $w(c,g){return Xr(c),g=co(c,g),c.g.has(g)}t.forEach=function(c,g){Xr(this),this.g.forEach(function(C,k){C.forEach(function(L){c.call(g,L,k,this)},this)},this)},t.na=function(){Xr(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),C=[];for(let k=0;k<g.length;k++){const L=c[k];for(let j=0;j<L.length;j++)C.push(g[k])}return C},t.V=function(c){Xr(this);let g=[];if(typeof c=="string")$w(this,c)&&(g=g.concat(this.g.get(co(this,c))));else{c=Array.from(this.g.values());for(let C=0;C<c.length;C++)g=g.concat(c[C])}return g},t.set=function(c,g){return Xr(this),this.i=null,c=co(this,c),$w(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},t.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Bw(c,g,C){Fw(c,g),0<C.length&&(c.i=null,c.g.set(co(c,g),T(C)),c.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var C=0;C<g.length;C++){var k=g[C];const j=encodeURIComponent(String(k)),K=this.V(k);for(k=0;k<K.length;k++){var L=j;K[k]!==""&&(L+="="+encodeURIComponent(String(K[k]))),c.push(L)}}return this.i=c.join("&")};function co(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function pN(c,g){g&&!c.j&&(Xr(c),c.i=null,c.g.forEach(function(C,k){var L=k.toLowerCase();k!=L&&(Fw(this,k),Bw(this,L,C))},c)),c.j=g}function mN(c,g){const C=new Xa;if(a.Image){const k=new Image;k.onload=m(Jr,C,"TestLoadImage: loaded",!0,g,k),k.onerror=m(Jr,C,"TestLoadImage: error",!1,g,k),k.onabort=m(Jr,C,"TestLoadImage: abort",!1,g,k),k.ontimeout=m(Jr,C,"TestLoadImage: timeout",!1,g,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=c}else g(!1)}function gN(c,g){const C=new Xa,k=new AbortController,L=setTimeout(()=>{k.abort(),Jr(C,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:k.signal}).then(j=>{clearTimeout(L),j.ok?Jr(C,"TestPingServer: ok",!0,g):Jr(C,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(L),Jr(C,"TestPingServer: error",!1,g)})}function Jr(c,g,C,k,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),k(C)}catch{}}function vN(){this.g=new Zk}function yN(c,g,C){const k=C||"";try{Mw(c,function(L,j){let K=L;u(L)&&(K=ap(L)),g.push(k+j+"="+encodeURIComponent(K))})}catch(L){throw g.push(k+"type="+encodeURIComponent("_badmap")),L}}function nl(c){this.l=c.Ub||null,this.j=c.eb||!1}y(nl,lp),nl.prototype.g=function(){return new Dc(this.l,this.j)},nl.prototype.i=function(c){return function(){return c}}({});function Dc(c,g){tt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Dc,tt),t=Dc.prototype,t.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,il(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rl(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,il(this)),this.g&&(this.readyState=3,il(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Uw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Uw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?rl(this):il(this),this.readyState==3&&Uw(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,rl(this))},t.Qa=function(c){this.g&&(this.response=c,rl(this))},t.ga=function(){this.g&&rl(this)};function rl(c){c.readyState=4,c.l=null,c.j=null,c.v=null,il(c)}t.setRequestHeader=function(c,g){this.u.append(c,g)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var C=g.next();!C.done;)C=C.value,c.push(C[0]+": "+C[1]),C=g.next();return c.join(`\r
`)};function il(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Dc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function zw(c){let g="";return A(c,function(C,k){g+=k,g+=":",g+=C,g+=`\r
`}),g}function yp(c,g,C){e:{for(k in C){var k=!1;break e}k=!0}k||(C=zw(C),typeof c=="string"?C!=null&&encodeURIComponent(String(C)):Ae(c,g,C))}function Fe(c){tt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Fe,tt);var wN=/^https?$/i,_N=["POST","PUT"];t=Fe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,g,C,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dp.g(),this.v=this.o?yw(this.o):yw(dp),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(j){Hw(this,j);return}if(c=C||"",C=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var L in k)C.set(L,k[L]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const j of k.keys())C.set(j,k.get(j));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(C.keys()).find(j=>j.toLowerCase()=="content-type"),L=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(_N,g,void 0))||k||L||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,K]of C)this.g.setRequestHeader(j,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Kw(this),this.u=!0,this.g.send(c),this.u=!1}catch(j){Hw(this,j)}};function Hw(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Ww(c),Oc(c)}function Ww(c){c.A||(c.A=!0,at(c,"complete"),at(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,at(this,"complete"),at(this,"abort"),Oc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oc(this,!0)),Fe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?qw(this):this.bb())},t.bb=function(){qw(this)};function qw(c){if(c.h&&typeof o<"u"&&(!c.v[1]||_r(c)!=4||c.Z()!=2)){if(c.u&&_r(c)==4)pw(c.Ea,0,c);else if(at(c,"readystatechange"),_r(c)==4){c.h=!1;try{const K=c.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var C;if(!(C=g)){var k;if(k=K===0){var L=String(c.D).match(Lw)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),k=!wN.test(L?L.toLowerCase():"")}C=k}if(C)at(c,"complete"),at(c,"success");else{c.m=6;try{var j=2<_r(c)?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.Z()+"]",Ww(c)}}finally{Oc(c)}}}}function Oc(c,g){if(c.g){Kw(c);const C=c.g,k=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||at(c,"ready");try{C.onreadystatechange=k}catch{}}}function Kw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function _r(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<_r(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Jk(g)}};function Gw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function EN(c){const g={};c=(c.g&&2<=_r(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<c.length;k++){if(x(c[k]))continue;var C=N(c[k]);const L=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const j=g[L]||[];g[L]=j,j.push(C)}_(g,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sl(c,g,C){return C&&C.internalChannelParams&&C.internalChannelParams[c]||g}function Qw(c){this.Aa=0,this.i=[],this.j=new Xa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sl("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sl("baseRetryDelayMs",5e3,c),this.cb=sl("retryDelaySeedMs",1e4,c),this.Wa=sl("forwardChannelMaxRetries",2,c),this.wa=sl("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Aw(c&&c.concurrentRequestLimit),this.Da=new vN,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Qw.prototype,t.la=8,t.G=1,t.connect=function(c,g,C,k){Dt(0),this.W=c,this.H=g||{},C&&k!==void 0&&(this.H.OSID=C,this.H.OAID=k),this.F=this.X,this.I=i_(this,null,this.W),Lc(this)};function wp(c){if(Yw(c),c.G==3){var g=c.U++,C=wr(c.I);if(Ae(C,"SID",c.K),Ae(C,"RID",g),Ae(C,"TYPE","terminate"),ol(c,C),g=new Yr(c,c.j,g),g.L=2,g.v=Nc(wr(C)),C=!1,a.navigator&&a.navigator.sendBeacon)try{C=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!C&&a.Image&&(new Image().src=g.v,C=!0),C||(g.g=s_(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Rc(g)}r_(c)}function Mc(c){c.g&&(Ep(c),c.g.cancel(),c.g=null)}function Yw(c){Mc(c),c.u&&(a.clearTimeout(c.u),c.u=null),jc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Lc(c){if(!kw(c.h)&&!c.s){c.s=!0;var g=c.Ga;F||G(),V||(F(),V=!0),$.add(g,c),c.B=0}}function xN(c,g){return Nw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ya(f(c.Ga,c,g),n_(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new Yr(this,this.j,c);let j=this.o;if(this.S&&(j?(j=w(j),P(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)e:{for(var g=0,C=0;C<this.i.length;C++){t:{var k=this.i[C];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(g+=k,4096<g){g=C;break e}if(g===4096||C===this.i.length-1){g=C+1;break e}}g=1e3}else g=1e3;g=Jw(this,L,g),C=wr(this.I),Ae(C,"RID",c),Ae(C,"CVER",22),this.D&&Ae(C,"X-HTTP-Session-Id",this.D),ol(this,C),j&&(this.O?g="headers="+encodeURIComponent(String(zw(j)))+"&"+g:this.m&&yp(C,this.m,j)),vp(this.h,L),this.Ua&&Ae(C,"TYPE","init"),this.P?(Ae(C,"$req",g),Ae(C,"SID","null"),L.T=!0,fp(L,C,null)):fp(L,C,g),this.G=2}}else this.G==3&&(c?Xw(this,c):this.i.length==0||kw(this.h)||Xw(this))};function Xw(c,g){var C;g?C=g.l:C=c.U++;const k=wr(c.I);Ae(k,"SID",c.K),Ae(k,"RID",C),Ae(k,"AID",c.T),ol(c,k),c.m&&c.o&&yp(k,c.m,c.o),C=new Yr(c,c.j,C,c.B+1),c.m===null&&(C.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Jw(c,C,1e3),C.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),vp(c.h,C),fp(C,k,g)}function ol(c,g){c.H&&A(c.H,function(C,k){Ae(g,k,C)}),c.l&&Mw({},function(C,k){Ae(g,k,C)})}function Jw(c,g,C){C=Math.min(c.i.length,C);var k=c.l?f(c.l.Na,c.l,c):null;e:{var L=c.i;let j=-1;for(;;){const K=["count="+C];j==-1?0<C?(j=L[0].g,K.push("ofs="+j)):j=0:K.push("ofs="+j);let Ce=!0;for(let dt=0;dt<C;dt++){let ye=L[dt].g;const Et=L[dt].map;if(ye-=j,0>ye)j=Math.max(0,L[dt].g-100),Ce=!1;else try{yN(Et,K,"req"+ye+"_")}catch{k&&k(Et)}}if(Ce){k=K.join("&");break e}}}return c=c.i.splice(0,C),g.D=c,k}function Zw(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;F||G(),V||(F(),V=!0),$.add(g,c),c.v=0}}function _p(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ya(f(c.Fa,c),n_(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,e_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ya(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),Mc(this),e_(this))};function Ep(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function e_(c){c.g=new Yr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=wr(c.qa);Ae(g,"RID","rpc"),Ae(g,"SID",c.K),Ae(g,"AID",c.T),Ae(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ae(g,"TO",c.ja),Ae(g,"TYPE","xmlhttp"),ol(c,g),c.m&&c.o&&yp(g,c.m,c.o),c.L&&(c.g.I=c.L);var C=c.g;c=c.ia,C.L=1,C.v=Nc(wr(g)),C.m=null,C.P=!0,Iw(C,c)}t.Za=function(){this.C!=null&&(this.C=null,Mc(this),_p(this),Dt(19))};function jc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function t_(c,g){var C=null;if(c.g==g){jc(c),Ep(c),c.g=null;var k=2}else if(gp(c.h,g))C=g.D,Dw(c.h,g),k=1;else return;if(c.G!=0){if(g.o)if(k==1){C=g.m?g.m.length:0,g=Date.now()-g.F;var L=c.B;k=bc(),at(k,new Tw(k,C)),Lc(c)}else Zw(c);else if(L=g.s,L==3||L==0&&0<g.X||!(k==1&&xN(c,g)||k==2&&_p(c)))switch(C&&0<C.length&&(g=c.h,g.i=g.i.concat(C)),L){case 1:us(c,5);break;case 4:us(c,10);break;case 3:us(c,6);break;default:us(c,2)}}}function n_(c,g){let C=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(C*=2),C*g}function us(c,g){if(c.j.info("Error code "+g),g==2){var C=f(c.fb,c),k=c.Xa;const L=!k;k=new ls(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ac(k,"https"),Nc(k),L?mN(k.toString(),C):gN(k.toString(),C)}else Dt(2);c.G=0,c.l&&c.l.sa(g),r_(c),Yw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function r_(c){if(c.G=0,c.ka=[],c.l){const g=Ow(c.h);(g.length!=0||c.i.length!=0)&&(S(c.ka,g),S(c.ka,c.i),c.h.i.length=0,T(c.i),c.i.length=0),c.l.ra()}}function i_(c,g,C){var k=C instanceof ls?wr(C):new ls(C);if(k.g!="")g&&(k.g=g+"."+k.g),kc(k,k.s);else{var L=a.location;k=L.protocol,g=g?g+"."+L.hostname:L.hostname,L=+L.port;var j=new ls(null);k&&Ac(j,k),g&&(j.g=g),L&&kc(j,L),C&&(j.l=C),k=j}return C=c.D,g=c.ya,C&&g&&Ae(k,C,g),Ae(k,"VER",c.la),ol(c,k),k}function s_(c,g,C){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Fe(new nl({eb:C})):new Fe(c.pa),g.Ha(c.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function o_(){}t=o_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Vc(){}Vc.prototype.g=function(c,g){return new tn(c,g)};function tn(c,g){tt.call(this),this.g=new Qw(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!x(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!x(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ho(this)}y(tn,tt),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){wp(this.g)},tn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var C={};C.__data__=c,c=C}else this.u&&(C={},C.__data__=ap(c),c=C);g.i.push(new sN(g.Ya++,c)),g.G==3&&Lc(g)},tn.prototype.N=function(){this.g.l=null,delete this.j,wp(this.g),delete this.g,tn.aa.N.call(this)};function a_(c){up.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const C in g){c=C;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}y(a_,up);function l_(){cp.call(this),this.status=1}y(l_,cp);function ho(c){this.g=c}y(ho,o_),ho.prototype.ua=function(){at(this.g,"a")},ho.prototype.ta=function(c){at(this.g,new a_(c))},ho.prototype.sa=function(c){at(this.g,new l_)},ho.prototype.ra=function(){at(this.g,"b")},Vc.prototype.createWebChannel=Vc.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,tR=function(){return new Vc},eR=function(){return bc()},ZP=os,Xg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ic.NO_ERROR=0,Ic.TIMEOUT=8,Ic.HTTP_ERROR=6,Vd=Ic,Cw.COMPLETE="complete",JP=Cw,ww.EventType=Ga,Ga.OPEN="a",Ga.CLOSE="b",Ga.ERROR="c",Ga.MESSAGE="d",tt.prototype.listen=tt.prototype.K,Ml=ww,XP=nl,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,YP=Fe}).apply(typeof ud<"u"?ud:typeof self<"u"?self:typeof window<"u"?window:{});const Tx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ra="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new t0("@firebase/firestore");function wl(){return Bs.logLevel}function ee(t,...e){if(Bs.logLevel<=me.DEBUG){const n=e.map(f0);Bs.debug(`Firestore (${Ra}): ${t}`,...n)}}function Ur(t,...e){if(Bs.logLevel<=me.ERROR){const n=e.map(f0);Bs.error(`Firestore (${Ra}): ${t}`,...n)}}function ca(t,...e){if(Bs.logLevel<=me.WARN){const n=e.map(f0);Bs.warn(`Firestore (${Ra}): ${t}`,...n)}}function f0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t="Unexpected state"){const e=`FIRESTORE (${Ra}) INTERNAL ASSERTION FAILED: `+t;throw Ur(e),new Error(e)}function be(t,e){t||ae()}function ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends vr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(It.UNAUTHENTICATED))}shutdown(){}}class B5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class U5{constructor(e){this.t=e,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ri;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ri,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ri)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(be(typeof r.accessToken=="string"),new nR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string"),new It(e)}}class z5{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=It.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class H5{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new z5(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(It.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class W5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q5{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(be(typeof n.token=="string"),this.R=n.token,new W5(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=K5(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function we(t,e){return t<e?-1:t>e?1:0}function da(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new re(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ot(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ue(e)}static min(){return new ue(new ot(0,0))}static max(){return new ue(new ot(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(),r===void 0?r=e.length-n:r>e.length-n&&ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Vu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ue extends Vu{construct(e,n,r){return new Ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ue(n)}static emptyPath(){return new Ue([])}}const G5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pt extends Vu{construct(e,n,r){return new pt(e,n,r)}static isValidIdentifier(e){return G5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new pt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new re(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new re(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new re(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new re(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pt(n)}static emptyPath(){return new pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(Ue.fromString(e))}static fromName(e){return new ie(Ue.fromString(e).popFirst(5))}static empty(){return new ie(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new Ue(e.slice()))}}function Q5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new Li(i,ie.empty(),e)}function Y5(t){return new Li(t.readTime,t.key,-1)}class Li{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Li(ue.min(),ie.empty(),-1)}static max(){return new Li(ue.max(),ie.empty(),-1)}}function X5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Z5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hc(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==J5)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new B((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function e6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}p0.oe=-1;function Uf(t){return t==null}function Fh(t){return t===0&&1/t==-1/0}function t6(t){return typeof t=="number"&&Number.isInteger(t)&&!Fh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Aa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function iR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e,n){this.comparator=e,this.root=n||ft.EMPTY}insert(e,n){return new Ve(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ft.BLACK,null,null))}remove(e){return new Ve(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cd(this.root,e,this.comparator,!1)}getReverseIterator(){return new cd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cd(this.root,e,this.comparator,!0)}}class cd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ft{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ft.RED,this.left=i??ft.EMPTY,this.right=s??ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ft(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ft.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();const e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}}ft.EMPTY=null,ft.RED=!0,ft.BLACK=!1;ft.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.comparator=e,this.data=new Ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Sx(this.data.getIterator())}getIteratorFrom(e){return new Sx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gt(this.comparator);return n.data=e,n}}class Sx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(pt.comparator)}static empty(){return new Wn([])}unionWith(e){let n=new gt(pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return da(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new sR("Invalid base64 string: "+s):s}}(e);return new wt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wt.EMPTY_BYTE_STRING=new wt("");const n6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ji(t){if(be(!!t),typeof t=="string"){let e=0;const n=n6.exec(t);if(be(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ke(t.seconds),nanos:Ke(t.nanos)}}function Ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Us(t){return typeof t=="string"?wt.fromBase64String(t):wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function g0(t){const e=t.mapValue.fields.__previous_value__;return m0(e)?g0(e):e}function Fu(t){const e=ji(t.mapValue.fields.__local_write_time__.timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class $u{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $u("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $u&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?m0(t)?4:s6(t)?9007199254740991:i6(t)?10:11:ae()}function fr(t,e){if(t===e)return!0;const n=zs(t);if(n!==zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fu(t).isEqual(Fu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ji(i.timestampValue),a=ji(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Us(i.bytesValue).isEqual(Us(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ke(i.geoPointValue.latitude)===Ke(s.geoPointValue.latitude)&&Ke(i.geoPointValue.longitude)===Ke(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ke(i.integerValue)===Ke(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ke(i.doubleValue),a=Ke(s.doubleValue);return o===a?Fh(o)===Fh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return da(t.arrayValue.values||[],e.arrayValue.values||[],fr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Cx(o)!==Cx(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!fr(o[l],a[l])))return!1;return!0}(t,e);default:return ae()}}function Bu(t,e){return(t.values||[]).find(n=>fr(n,e))!==void 0}function ha(t,e){if(t===e)return 0;const n=zs(t),r=zs(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ke(s.integerValue||s.doubleValue),l=Ke(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return bx(t.timestampValue,e.timestampValue);case 4:return bx(Fu(t),Fu(e));case 5:return we(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Us(s),l=Us(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=we(a[u],l[u]);if(d!==0)return d}return we(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=we(Ke(s.latitude),Ke(o.latitude));return a!==0?a:we(Ke(s.longitude),Ke(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Ix(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const h=s.fields||{},f=o.fields||{},m=(a=h.value)===null||a===void 0?void 0:a.arrayValue,y=(l=f.value)===null||l===void 0?void 0:l.arrayValue,T=we(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0);return T!==0?T:Ix(m,y)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===dd.mapValue&&o===dd.mapValue)return 0;if(s===dd.mapValue)return 1;if(o===dd.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=we(l[h],d[h]);if(f!==0)return f;const m=ha(a[l[h]],u[d[h]]);if(m!==0)return m}return we(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ae()}}function bx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);const n=ji(t),r=ji(e),i=we(n.seconds,r.seconds);return i!==0?i:we(n.nanos,r.nanos)}function Ix(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ha(n[i],r[i]);if(s)return s}return we(n.length,r.length)}function fa(t){return Jg(t)}function Jg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ji(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Us(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Jg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Jg(n.fields[o])}`;return i+"}"}(t.mapValue):ae()}function Zg(t){return!!t&&"integerValue"in t}function v0(t){return!!t&&"arrayValue"in t}function Px(t){return!!t&&"nullValue"in t}function Rx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fd(t){return!!t&&"mapValue"in t}function i6(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function nu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Aa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=nu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function s6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nu(n)}setAll(e){let n=pt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=nu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Fd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Fd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Aa(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new xn(nu(this.value))}}function oR(t){const e=[];return Aa(t.fields,(n,r)=>{const i=new pt([n]);if(Fd(r)){const s=oR(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Rt(e,0,ue.min(),ue.min(),ue.min(),xn.empty(),0)}static newFoundDocument(e,n,r,i){return new Rt(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new Rt(e,2,n,ue.min(),ue.min(),xn.empty(),0)}static newUnknownDocument(e,n){return new Rt(e,3,n,ue.min(),ue.min(),xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n){this.position=e,this.inclusive=n}}function Ax(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=ha(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function kx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n="asc"){this.field=e,this.dir=n}}function o6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{}class rt extends aR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new l6(e,n,r):n==="array-contains"?new d6(e,r):n==="in"?new h6(e,r):n==="not-in"?new f6(e,r):n==="array-contains-any"?new p6(e,r):new rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new u6(e,r):new c6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ha(n,this.value)):n!==null&&zs(this.value)===zs(n)&&this.matchesComparison(ha(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pr extends aR{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new pr(e,n)}matches(e){return lR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function lR(t){return t.op==="and"}function uR(t){return a6(t)&&lR(t)}function a6(t){for(const e of t.filters)if(e instanceof pr)return!1;return!0}function ev(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+fa(t.value);if(uR(t))return t.filters.map(e=>ev(e)).join(",");{const e=t.filters.map(n=>ev(n)).join(",");return`${t.op}(${e})`}}function cR(t,e){return t instanceof rt?function(r,i){return i instanceof rt&&r.op===i.op&&r.field.isEqual(i.field)&&fr(r.value,i.value)}(t,e):t instanceof pr?function(r,i){return i instanceof pr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&cR(o,i.filters[a]),!0):!1}(t,e):void ae()}function dR(t){return t instanceof rt?function(n){return`${n.field.canonicalString()} ${n.op} ${fa(n.value)}`}(t):t instanceof pr?function(n){return n.op.toString()+" {"+n.getFilters().map(dR).join(" ,")+"}"}(t):"Filter"}class l6 extends rt{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class u6 extends rt{constructor(e,n){super(e,"in",n),this.keys=hR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class c6 extends rt{constructor(e,n){super(e,"not-in",n),this.keys=hR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class d6 extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return v0(n)&&Bu(n.arrayValue,this.value)}}class h6 extends rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bu(this.value.arrayValue,n)}}class f6 extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Bu(this.value.arrayValue,n)}}class p6 extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!v0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Bu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function Nx(t,e=null,n=[],r=[],i=null,s=null,o=null){return new m6(t,e,n,r,i,s,o)}function y0(t){const e=ce(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ev(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Uf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fa(r)).join(",")),e.ue=n}return e.ue}function w0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!o6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!kx(t.startAt,e.startAt)&&kx(t.endAt,e.endAt)}function tv(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function g6(t,e,n,r,i,s,o,a){return new zf(t,e,n,r,i,s,o,a)}function _0(t){return new zf(t)}function Dx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function v6(t){return t.collectionGroup!==null}function ru(t){const e=ce(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new gt(pt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Bh(s,r))}),n.has(pt.keyField().canonicalString())||e.ce.push(new Bh(pt.keyField(),r))}return e.ce}function cr(t){const e=ce(t);return e.le||(e.le=y6(e,ru(t))),e.le}function y6(t,e){if(t.limitType==="F")return Nx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Bh(i.field,s)});const n=t.endAt?new $h(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $h(t.startAt.position,t.startAt.inclusive):null;return Nx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function nv(t,e,n){return new zf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hf(t,e){return w0(cr(t),cr(e))&&t.limitType===e.limitType}function fR(t){return`${y0(cr(t))}|lt:${t.limitType}`}function go(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>dR(i)).join(", ")}]`),Uf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>fa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>fa(i)).join(",")),`Target(${r})`}(cr(t))}; limitType=${t.limitType})`}function Wf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ru(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=Ax(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,ru(r),i)||r.endAt&&!function(o,a,l){const u=Ax(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,ru(r),i))}(t,e)}function w6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pR(t){return(e,n)=>{let r=!1;for(const i of ru(t)){const s=_6(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function _6(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?ha(l,u):ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Aa(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return iR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6=new Ve(ie.comparator);function zr(){return E6}const mR=new Ve(ie.comparator);function Ll(...t){let e=mR;for(const n of t)e=e.insert(n.key,n);return e}function gR(t){let e=mR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Es(){return iu()}function vR(){return iu()}function iu(){return new ka(t=>t.toString(),(t,e)=>t.isEqual(e))}const x6=new Ve(ie.comparator),T6=new gt(ie.comparator);function pe(...t){let e=T6;for(const n of t)e=e.add(n);return e}const C6=new gt(we);function S6(){return C6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fh(e)?"-0":e}}function yR(t){return{integerValue:""+t}}function b6(t,e){return t6(e)?yR(e):E0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(){this._=void 0}}function I6(t,e,n){return t instanceof Uh?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&m0(s)&&(s=g0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Uu?_R(t,e):t instanceof zu?ER(t,e):function(i,s){const o=wR(i,s),a=Ox(o)+Ox(i.Pe);return Zg(o)&&Zg(i.Pe)?yR(a):E0(i.serializer,a)}(t,e)}function P6(t,e,n){return t instanceof Uu?_R(t,e):t instanceof zu?ER(t,e):n}function wR(t,e){return t instanceof zh?function(r){return Zg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Uh extends qf{}class Uu extends qf{constructor(e){super(),this.elements=e}}function _R(t,e){const n=xR(e);for(const r of t.elements)n.some(i=>fr(i,r))||n.push(r);return{arrayValue:{values:n}}}class zu extends qf{constructor(e){super(),this.elements=e}}function ER(t,e){let n=xR(e);for(const r of t.elements)n=n.filter(i=>!fr(i,r));return{arrayValue:{values:n}}}class zh extends qf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Ox(t){return Ke(t.integerValue||t.doubleValue)}function xR(t){return v0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function R6(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Uu&&i instanceof Uu||r instanceof zu&&i instanceof zu?da(r.elements,i.elements,fr):r instanceof zh&&i instanceof zh?fr(r.Pe,i.Pe):r instanceof Uh&&i instanceof Uh}(t.transform,e.transform)}class A6{constructor(e,n){this.version=e,this.transformResults=n}}class Dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $d(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Kf{}function TR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new SR(t.key,Dr.none()):new pc(t.key,t.data,Dr.none());{const n=t.data,r=xn.empty();let i=new gt(pt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new no(t.key,r,new Wn(i.toArray()),Dr.none())}}function k6(t,e,n){t instanceof pc?function(i,s,o){const a=i.value.clone(),l=Lx(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof no?function(i,s,o){if(!$d(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Lx(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(CR(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function su(t,e,n,r){return t instanceof pc?function(s,o,a,l){if(!$d(s.precondition,o))return a;const u=s.value.clone(),d=jx(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof no?function(s,o,a,l){if(!$d(s.precondition,o))return a;const u=jx(s.fieldTransforms,l,o),d=o.data;return d.setAll(CR(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return $d(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function N6(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=wR(r.transform,i||null);s!=null&&(n===null&&(n=xn.empty()),n.set(r.field,s))}return n||null}function Mx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&da(r,i,(s,o)=>R6(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pc extends Kf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class no extends Kf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function CR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Lx(t,e,n){const r=new Map;be(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,P6(o,a,n[i]))}return r}function jx(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,I6(s,o,e))}return r}class SR extends Kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class D6 extends Kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&k6(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=su(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=su(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=vR();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=TR(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&da(this.mutations,e.mutations,(n,r)=>Mx(n,r))&&da(this.baseMutations,e.baseMutations,(n,r)=>Mx(n,r))}}class x0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){be(e.mutations.length===r.length);let i=function(){return x6}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new x0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe,ge;function j6(t){switch(t){default:return ae();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function bR(t){if(t===void 0)return Ur("GRPC error has no .code"),U.UNKNOWN;switch(t){case Xe.OK:return U.OK;case Xe.CANCELLED:return U.CANCELLED;case Xe.UNKNOWN:return U.UNKNOWN;case Xe.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Xe.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Xe.INTERNAL:return U.INTERNAL;case Xe.UNAVAILABLE:return U.UNAVAILABLE;case Xe.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Xe.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Xe.NOT_FOUND:return U.NOT_FOUND;case Xe.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Xe.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Xe.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Xe.ABORTED:return U.ABORTED;case Xe.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Xe.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Xe.DATA_LOSS:return U.DATA_LOSS;default:return ae()}}(ge=Xe||(Xe={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6=new Ps([4294967295,4294967295],0);function Vx(t){const e=V6().encode(t),n=new QP;return n.update(e),new Uint8Array(n.digest())}function Fx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ps([n,r],0),new Ps([i,s],0)]}class T0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new jl(`Invalid padding: ${n}`);if(r<0)throw new jl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new jl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ps.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ps.fromNumber(r)));return i.compare(F6)===1&&(i=new Ps([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Vx(e),[r,i]=Fx(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new T0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Vx(e),[r,i]=Fx(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,mc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gf(ue.min(),i,new Ve(we),zr(),pe())}}class mc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new mc(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class IR{constructor(e,n){this.targetId=e,this.me=n}}class PR{constructor(e,n,r=wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class $x{constructor(){this.fe=0,this.ge=Ux(),this.pe=wt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=pe(),n=pe(),r=pe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ae()}}),new mc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Ux()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class $6{constructor(e){this.Le=e,this.Be=new Map,this.ke=zr(),this.qe=Bx(),this.Qe=new Ve(we)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(tv(s))if(r===0){const o=new ie(s.path);this.Ue(n,o,Rt.newNoDocument(o,ue.min()))}else be(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Us(r).toUint8Array()}catch(l){if(l instanceof sR)return ca("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new T0(o,i,s)}catch(l){return ca(l instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&tv(a.target)){const l=new ie(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Rt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=pe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Gf(e,n,this.Qe,this.ke,r);return this.ke=zr(),this.qe=Bx(),this.Qe=new Ve(we),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new $x,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new gt(we),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new $x),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Bx(){return new Ve(ie.comparator)}function Ux(){return new Ve(ie.comparator)}const B6={asc:"ASCENDING",desc:"DESCENDING"},U6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},z6={and:"AND",or:"OR"};class H6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rv(t,e){return t.useProto3Json||Uf(e)?e:{value:e}}function Hh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function W6(t,e){return Hh(t,e.toTimestamp())}function dr(t){return be(!!t),ue.fromTimestamp(function(n){const r=ji(n);return new ot(r.seconds,r.nanos)}(t))}function C0(t,e){return iv(t,e).canonicalString()}function iv(t,e){const n=function(i){return new Ue(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function AR(t){const e=Ue.fromString(t);return be(MR(e)),e}function sv(t,e){return C0(t.databaseId,e.path)}function gm(t,e){const n=AR(e);if(n.get(1)!==t.databaseId.projectId)throw new re(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new re(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(NR(n))}function kR(t,e){return C0(t.databaseId,e)}function q6(t){const e=AR(t);return e.length===4?Ue.emptyPath():NR(e)}function ov(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function NR(t){return be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function zx(t,e,n){return{name:sv(t,e),fields:n.value.mapValue.fields}}function K6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(be(d===void 0||typeof d=="string"),wt.fromBase64String(d||"")):(be(d===void 0||d instanceof Buffer||d instanceof Uint8Array),wt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?U.UNKNOWN:bR(u.code);return new re(d,u.message||"")}(o);n=new PR(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=gm(t,r.document.name),s=dr(r.document.updateTime),o=r.document.createTime?dr(r.document.createTime):ue.min(),a=new xn({mapValue:{fields:r.document.fields}}),l=Rt.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Bd(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=gm(t,r.document),s=r.readTime?dr(r.readTime):ue.min(),o=Rt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Bd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=gm(t,r.document),s=r.removedTargetIds||[];n=new Bd([],s,i,null)}else{if(!("filter"in e))return ae();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new L6(i,s),a=r.targetId;n=new IR(a,o)}}return n}function G6(t,e){let n;if(e instanceof pc)n={update:zx(t,e.key,e.value)};else if(e instanceof SR)n={delete:sv(t,e.key)};else if(e instanceof no)n={update:zx(t,e.key,e.data),updateMask:r9(e.fieldMask)};else{if(!(e instanceof D6))return ae();n={verify:sv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Uh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Uu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof zu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof zh)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:W6(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ae()}(t,e.precondition)),n}function Q6(t,e){return t&&t.length>0?(be(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?dr(i.updateTime):dr(s);return o.isEqual(ue.min())&&(o=dr(s)),new A6(o,i.transformResults||[])}(n,e))):[]}function Y6(t,e){return{documents:[kR(t,e.path)]}}function X6(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=kR(t,i);const s=function(u){if(u.length!==0)return OR(pr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:vo(f.field),direction:e9(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=rv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function J6(t){let e=q6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){be(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=DR(h);return f instanceof pr&&uR(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(y){return new Bh(yo(y.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Uf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new $h(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,m=h.values||[];return new $h(m,f)}(n.endAt)),g6(e,i,o,s,a,"F",l,u)}function Z6(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function DR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=yo(n.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=yo(n.unaryFilter.field);return rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=yo(n.unaryFilter.field);return rt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=yo(n.unaryFilter.field);return rt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(t):t.fieldFilter!==void 0?function(n){return rt.create(yo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return pr.create(n.compositeFilter.filters.map(r=>DR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ae()}}(n.compositeFilter.op))}(t):ae()}function e9(t){return B6[t]}function t9(t){return U6[t]}function n9(t){return z6[t]}function vo(t){return{fieldPath:t.canonicalString()}}function yo(t){return pt.fromServerFormat(t.fieldPath)}function OR(t){return t instanceof rt?function(n){if(n.op==="=="){if(Rx(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NAN"}};if(Px(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Rx(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NAN"}};if(Px(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(n.field),op:t9(n.op),value:n.value}}}(t):t instanceof pr?function(n){const r=n.getFilters().map(i=>OR(i));return r.length===1?r[0]:{compositeFilter:{op:n9(n.op),filters:r}}}(t):ae()}function r9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function MR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n,r,i,s=ue.min(),o=ue.min(),a=wt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new mi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e){this.ct=e}}function s9(t){const e=J6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?nv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(){this.un=new a9}addToCollectionParentIndex(e,n){return this.un.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Li.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Li.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class a9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new gt(Ue.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gt(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new pa(0)}static kn(){return new pa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(){this.changes=new ka(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&su(r.mutation,i,Wn.empty(),ot.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const i=Es();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ll();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Es();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=zr();const o=iu(),a=function(){return iu()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof no)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),su(d.mutation,u,d.mutation.getFieldMask(),ot.now())):o.set(u.key,Wn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new u9(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=iu();let i=new Ve((o,a)=>o-a),s=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Wn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||pe()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=vR();d.forEach(f=>{if(!s.has(f)){const m=TR(n.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):v6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):B.resolve(Es());let a=-1,l=s;return o.next(u=>B.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,pe())).next(d=>({batchId:a,changes:gR(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let i=Ll();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ll();return this.indexManager.getCollectionParents(e,s).next(a=>B.forEach(a,l=>{const u=function(h,f){return new zf(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Rt.newInvalidDocument(d)))});let a=Ll();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&su(d.mutation,u,Wn.empty(),ot.now()),Wf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return B.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:dr(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:s9(i.bundledQuery),readTime:dr(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(){this.overlays=new Ve(ie.comparator),this.Ir=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Es();return B.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=Es(),s=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ve((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Es(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Es(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return B.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new M6(n,r));let s=this.Ir.get(n);s===void 0&&(s=pe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(){this.sessionToken=wt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(){this.Tr=new gt(lt.Er),this.dr=new gt(lt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new lt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new lt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ie(new Ue([])),r=new lt(n,e),i=new lt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ie(new Ue([])),r=new lt(n,e),i=new lt(n,e+1);let s=pe();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new lt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class lt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ie.comparator(e.key,n.key)||we(e.wr,n.wr)}static Ar(e,n){return we(e.wr,n.wr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new gt(lt.Er)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new O6(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new lt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new lt(n,0),i=new lt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gt(we);return n.forEach(i=>{const s=new lt(i,0),o=new lt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),B.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ie.isDocumentKey(s)||(s=s.child(""));const o=new lt(new ie(s),0);let a=new gt(we);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),B.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){be(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return B.forEach(n.mutations,i=>{const s=new lt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new lt(n,0),i=this.br.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e){this.Mr=e,this.docs=function(){return new Ve(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Rt.newInvalidDocument(n))}getEntries(e,n){let r=zr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Rt.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=zr();const o=n.path,a=new ie(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||X5(Y5(d),r)<=0||(i.has(d.key)||Wf(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ae()}Or(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new g9(this)}getSize(e){return B.resolve(this.size)}}class g9 extends l9{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e){this.persistence=e,this.Nr=new ka(n=>y0(n),w0),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Lr=0,this.Br=new S0,this.targetCount=0,this.kr=pa.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),B.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new pa(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Kn(n),B.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(s).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e,n){this.qr={},this.overlays={},this.Qr=new p0(0),this.Kr=!1,this.Kr=!0,this.$r=new f9,this.referenceDelegate=e(this),this.Ur=new v9(this),this.indexManager=new o9,this.remoteDocumentCache=function(i){return new m9(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new i9(n),this.Gr=new d9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new h9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new p9(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const i=new w9(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return B.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class w9 extends Z5{constructor(e){super(),this.currentSequenceNumber=e}}class b0{constructor(e){this.persistence=e,this.Jr=new S0,this.Yr=null}static Zr(e){return new b0(e)}get Xr(){if(this.Yr)return this.Yr;throw ae()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),B.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Xr,r=>{const i=ie.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ue.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return B.or([()=>B.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=pe(),i=pe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new I0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return l3()?8:e6(Nt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new _9;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(wl()<=me.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",go(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),B.resolve()):(wl()<=me.DEBUG&&ee("QueryEngine","Query:",go(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(wl()<=me.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",go(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cr(n))):B.resolve())}Yi(e,n){if(Dx(n))return B.resolve(null);let r=cr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=nv(n,null,"F"),r=cr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=pe(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,nv(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return Dx(n)||i.isEqual(ue.min())?B.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?B.resolve(null):(wl()<=me.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),go(n)),this.rs(e,o,n,Q5(i,-1)).next(a=>a))})}ts(e,n){let r=new gt(pR(e));return n.forEach((i,s)=>{Wf(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return wl()<=me.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",go(n)),this.Ji.getDocumentsMatchingQuery(e,n,Li.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ve(we),this._s=new ka(s=>y0(s),w0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new c9(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function T9(t,e,n,r){return new x9(t,e,n,r)}async function LR(t,e){const n=ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=pe();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function C9(t,e){const n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,f=h.keys();let m=B.resolve();return f.forEach(y=>{m=m.next(()=>d.getEntry(l,y)).next(T=>{const S=u.docVersions.get(y);be(S!==null),T.version.compareTo(S)<0&&(h.applyToRemoteDocument(T,u),T.isValidDocument()&&(T.setReadTime(u.commitVersion),d.addEntry(T)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=pe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function jR(t){const e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function S9(t,e){const n=ce(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(wt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(T,S,b){return T.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(f,m,d)&&a.push(n.Ur.updateTargetData(s,m))});let l=zr(),u=pe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(b9(s,o,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(ue.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return B.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function b9(t,e,n){let r=pe(),i=pe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=zr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ue.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ee("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function I9(t,e){const n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function P9(t,e){const n=ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,B.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new mi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function av(t,e,n){const r=ce(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!fc(o))throw o;ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Hx(t,e,n){const r=ce(t);let i=ue.min(),s=pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=ce(l),f=h._s.get(d);return f!==void 0?B.resolve(h.os.get(f)):h.Ur.getTargetData(u,d)}(r,o,cr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ue.min(),n?s:pe())).next(a=>(R9(r,w6(e),a),{documents:a,Ts:s})))}function R9(t,e,n){let r=t.us.get(e)||ue.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class Wx{constructor(){this.activeTargetIds=S6()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class A9{constructor(){this.so=new Wx,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Wx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hd=null;function vm(){return hd===null?hd=function(){return 268435456+Math.round(2147483648*Math.random())}():hd++,"0x"+hd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const St="WebChannelConnection";class O9 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=vm(),l=this.xo(n,r.toUriEncodedString());ee("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(d=>(ee("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw ca("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ra}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=N9[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=vm();return new Promise((o,a)=>{const l=new YP;l.setWithCredentials(!0),l.listenOnce(JP.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Vd.NO_ERROR:const d=l.getResponseJson();ee(St,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Vd.TIMEOUT:ee(St,`RPC '${e}' ${s} timed out`),a(new re(U.DEADLINE_EXCEEDED,"Request time out"));break;case Vd.HTTP_ERROR:const h=l.getStatus();if(ee(St,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const y=function(S){const b=S.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(b)>=0?b:U.UNKNOWN}(m.status);a(new re(y,m.message))}else a(new re(U.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new re(U.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{ee(St,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ee(St,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=vm(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=tR(),a=eR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new XP({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");ee(St,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,m=!1;const y=new D9({Io:S=>{m?ee(St,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(f||(ee(St,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),ee(St,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},To:()=>h.close()}),T=(S,b,x)=>{S.listen(b,E=>{try{x(E)}catch(R){setTimeout(()=>{throw R},0)}})};return T(h,Ml.EventType.OPEN,()=>{m||(ee(St,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),T(h,Ml.EventType.CLOSE,()=>{m||(m=!0,ee(St,`RPC '${e}' stream ${i} transport closed`),y.So())}),T(h,Ml.EventType.ERROR,S=>{m||(m=!0,ca(St,`RPC '${e}' stream ${i} transport errored:`,S),y.So(new re(U.UNAVAILABLE,"The operation could not be completed")))}),T(h,Ml.EventType.MESSAGE,S=>{var b;if(!m){const x=S.data[0];be(!!x);const E=x,R=E.error||((b=E[0])===null||b===void 0?void 0:b.error);if(R){ee(St,`RPC '${e}' stream ${i} received error:`,R);const O=R.status;let A=function(I){const P=Xe[I];if(P!==void 0)return bR(P)}(O),_=R.message;A===void 0&&(A=U.INTERNAL,_="Unknown error status: "+O+" with message "+R.message),m=!0,y.So(new re(A,_)),h.close()}else ee(St,`RPC '${e}' stream ${i} received:`,x),y.bo(x)}}),T(a,ZP.STAT_EVENT,S=>{S.stat===Xg.PROXY?ee(St,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Xg.NOPROXY&&ee(St,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function ym(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(t){return new H6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new VR(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Ur(n.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new re(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class M9 extends FR{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=K6(this.serializer,e),r=function(s){if(!("targetChange"in s))return ue.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?dr(o.readTime):ue.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=ov(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=tv(l)?{documents:Y6(s,l)}:{query:X6(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=RR(s,o.resumeToken);const u=rv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ue.min())>0){a.readTime=Hh(s,o.snapshotVersion.toTimestamp());const u=rv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Z6(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=ov(this.serializer),n.removeTarget=e,this.a_(n)}}class L9 extends FR{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return be(!!e.streamToken),this.lastStreamToken=e.streamToken,be(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Q6(e.writeResults,e.commitTime),r=dr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=ov(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>G6(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new re(U.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,iv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new re(U.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,iv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re(U.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class V9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ur(n),this.D_=!1):ee("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{ro(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ce(l);u.L_.add(4),await gc(u),u.q_.set("Unknown"),u.L_.delete(4),await Yf(u)}(this))})}),this.q_=new V9(r,i)}}async function Yf(t){if(ro(t))for(const e of t.B_)await e(!0)}async function gc(t){for(const e of t.B_)await e(!1)}function $R(t,e){const n=ce(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),k0(n)?A0(n):Na(n).r_()&&R0(n,e))}function P0(t,e){const n=ce(t),r=Na(n);n.N_.delete(e),r.r_()&&BR(n,e),n.N_.size===0&&(r.r_()?r.o_():ro(n)&&n.q_.set("Unknown"))}function R0(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Na(t).A_(e)}function BR(t,e){t.Q_.xe(e),Na(t).R_(e)}function A0(t){t.Q_=new $6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Na(t).start(),t.q_.v_()}function k0(t){return ro(t)&&!Na(t).n_()&&t.N_.size>0}function ro(t){return ce(t).L_.size===0}function UR(t){t.Q_=void 0}async function $9(t){t.q_.set("Online")}async function B9(t){t.N_.forEach((e,n)=>{R0(t,e)})}async function U9(t,e){UR(t),k0(t)?(t.q_.M_(e),A0(t)):t.q_.set("Unknown")}async function z9(t,e,n){if(t.q_.set("Online"),e instanceof PR&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wh(t,r)}else if(e instanceof Bd?t.Q_.Ke(e):e instanceof IR?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ue.min()))try{const r=await jR(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(wt.EMPTY_BYTE_STRING,d.snapshotVersion)),BR(s,l);const h=new mi(d.target,l,u,d.sequenceNumber);R0(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ee("RemoteStore","Failed to raise snapshot:",r),await Wh(t,r)}}async function Wh(t,e,n){if(!fc(e))throw e;t.L_.add(1),await gc(t),t.q_.set("Offline"),n||(n=()=>jR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Yf(t)})}function zR(t,e){return e().catch(n=>Wh(t,n,e))}async function Xf(t){const e=ce(t),n=Vi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;H9(e);)try{const i=await I9(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,W9(e,i)}catch(i){await Wh(e,i)}HR(e)&&WR(e)}function H9(t){return ro(t)&&t.O_.length<10}function W9(t,e){t.O_.push(e);const n=Vi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function HR(t){return ro(t)&&!Vi(t).n_()&&t.O_.length>0}function WR(t){Vi(t).start()}async function q9(t){Vi(t).p_()}async function K9(t){const e=Vi(t);for(const n of t.O_)e.m_(n.mutations)}async function G9(t,e,n){const r=t.O_.shift(),i=x0.from(r,e,n);await zR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Xf(t)}async function Q9(t,e){e&&Vi(t).V_&&await async function(r,i){if(function(o){return j6(o)&&o!==U.ABORTED}(i.code)){const s=r.O_.shift();Vi(r).s_(),await zR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Xf(r)}}(t,e),HR(t)&&WR(t)}async function Kx(t,e){const n=ce(t);n.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");const r=ro(n);n.L_.add(3),await gc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Yf(n)}async function Y9(t,e){const n=ce(t);e?(n.L_.delete(2),await Yf(n)):e||(n.L_.add(2),await gc(n),n.q_.set("Unknown"))}function Na(t){return t.K_||(t.K_=function(n,r,i){const s=ce(n);return s.w_(),new M9(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:$9.bind(null,t),Ro:B9.bind(null,t),mo:U9.bind(null,t),d_:z9.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),k0(t)?A0(t):t.q_.set("Unknown")):(await t.K_.stop(),UR(t))})),t.K_}function Vi(t){return t.U_||(t.U_=function(n,r,i){const s=ce(n);return s.w_(),new L9(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:q9.bind(null,t),mo:Q9.bind(null,t),f_:K9.bind(null,t),g_:G9.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Xf(t)):(await t.U_.stop(),t.O_.length>0&&(ee("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new N0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function D0(t,e){if(Ur("AsyncQueue",`${e}: ${t}`),fc(t))return new re(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=Ll(),this.sortedSet=new Ve(this.comparator)}static emptySet(e){return new qo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(){this.W_=new Ve(ie.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ae():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ma{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ma(e,n,qo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class J9{constructor(){this.queries=Qx(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ce(n),s=i.queries;i.queries=Qx(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new re(U.ABORTED,"Firestore shutting down"))}}function Qx(){return new ka(t=>fR(t),Hf)}async function Z9(t,e){const n=ce(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new X9,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=D0(o,`Initialization of query '${go(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&O0(n)}async function ez(t,e){const n=ce(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function tz(t,e){const n=ce(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&O0(n)}function nz(t,e,n){const r=ce(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function O0(t){t.Y_.forEach(e=>{e.next()})}var lv,Yx;(Yx=lv||(lv={})).ea="default",Yx.Cache="cache";class rz{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ma(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ma.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==lv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.key=e}}class KR{constructor(e){this.key=e}}class iz{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pe(),this.mutatedKeys=pe(),this.Aa=pR(e),this.Ra=new qo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Gx,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),m=Wf(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),T=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let S=!1;f&&m?f.data.isEqual(m.data)?y!==T&&(r.track({type:3,doc:m}),S=!0):this.ga(f,m)||(r.track({type:2,doc:m}),S=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),S=!0):f&&!m&&(r.track({type:1,doc:f}),S=!0,(l||u)&&(a=!0)),S&&(m?(o=o.add(m),s=T?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(m,y){const T=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return T(m)-T(y)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new ma(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Gx,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=pe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new KR(r))}),this.da.forEach(r=>{e.has(r)||n.push(new qR(r))}),n}ba(e){this.Ta=e.Ts,this.da=pe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ma.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class sz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class oz{constructor(e){this.key=e,this.va=!1}}class az{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ka(a=>fR(a),Hf),this.Ma=new Map,this.xa=new Set,this.Oa=new Ve(ie.comparator),this.Na=new Map,this.La=new S0,this.Ba={},this.ka=new Map,this.qa=pa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function lz(t,e,n=!0){const r=ZR(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await GR(r,e,n,!0),i}async function uz(t,e){const n=ZR(t);await GR(n,e,!0,!1)}async function GR(t,e,n,r){const i=await P9(t.localStore,cr(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await cz(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&$R(t.remoteStore,i),a}async function cz(t,e,n,r,i){t.Ka=(h,f,m)=>async function(T,S,b,x){let E=S.view.ma(b);E.ns&&(E=await Hx(T.localStore,S.query,!1).then(({documents:_})=>S.view.ma(_,E)));const R=x&&x.targetChanges.get(S.targetId),O=x&&x.targetMismatches.get(S.targetId)!=null,A=S.view.applyChanges(E,T.isPrimaryClient,R,O);return Jx(T,S.targetId,A.wa),A.snapshot}(t,h,f,m);const s=await Hx(t.localStore,e,!0),o=new iz(e,s.Ts),a=o.ma(s.documents),l=mc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);Jx(t,n,u.wa);const d=new sz(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function dz(t,e,n){const r=ce(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Hf(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await av(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&P0(r.remoteStore,i.targetId),uv(r,i.targetId)}).catch(hc)):(uv(r,i.targetId),await av(r.localStore,i.targetId,!0))}async function hz(t,e){const n=ce(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),P0(n.remoteStore,r.targetId))}async function fz(t,e,n){const r=_z(t);try{const i=await function(o,a){const l=ce(o),u=ot.now(),d=a.reduce((m,y)=>m.add(y.key),pe());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=zr(),T=pe();return l.cs.getEntries(m,d).next(S=>{y=S,y.forEach((b,x)=>{x.isValidDocument()||(T=T.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(S=>{h=S;const b=[];for(const x of a){const E=N6(x,h.get(x.key).overlayedDocument);E!=null&&b.push(new no(x.key,E,oR(E.value.mapValue),Dr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,b,a)}).next(S=>{f=S;const b=S.applyToLocalDocumentSet(h,T);return l.documentOverlayCache.saveOverlays(m,S.batchId,b)})}).then(()=>({batchId:f.batchId,changes:gR(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new Ve(we)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await vc(r,i.changes),await Xf(r.remoteStore)}catch(i){const s=D0(i,"Failed to persist write");n.reject(s)}}async function QR(t,e){const n=ce(t);try{const r=await S9(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?be(o.va):i.removedDocuments.size>0&&(be(o.va),o.va=!1))}),await vc(n,r,e)}catch(r){await hc(r)}}function Xx(t,e,n){const r=ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ce(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.j_)f.Z_(a)&&(u=!0)}),u&&O0(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pz(t,e,n){const r=ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Ve(ie.comparator);o=o.insert(s,Rt.newNoDocument(s,ue.min()));const a=pe().add(s),l=new Gf(ue.min(),new Map,new Ve(we),o,a);await QR(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),M0(r)}else await av(r.localStore,e,!1).then(()=>uv(r,e,n)).catch(hc)}async function mz(t,e){const n=ce(t),r=e.batch.batchId;try{const i=await C9(n.localStore,e);XR(n,r,null),YR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vc(n,i)}catch(i){await hc(i)}}async function gz(t,e,n){const r=ce(t);try{const i=await function(o,a){const l=ce(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(be(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);XR(r,e,n),YR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vc(r,i)}catch(i){await hc(i)}}function YR(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function XR(t,e,n){const r=ce(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function uv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||JR(t,r)})}function JR(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(P0(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),M0(t))}function Jx(t,e,n){for(const r of n)r instanceof qR?(t.La.addReference(r.key,e),vz(t,r)):r instanceof KR?(ee("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||JR(t,r.key)):ae()}function vz(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ee("SyncEngine","New document in limbo: "+n),t.xa.add(r),M0(t))}function M0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ie(Ue.fromString(e)),r=t.qa.next();t.Na.set(r,new oz(n)),t.Oa=t.Oa.insert(n,r),$R(t.remoteStore,new mi(cr(_0(n.path)),r,"TargetPurposeLimboResolution",p0.oe))}}async function vc(t,e,n){const r=ce(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=I0.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const d=ce(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>B.forEach(u,f=>B.forEach(f.$i,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>B.forEach(f.Ui,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!fc(h))throw h;ee("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const m=d.os.get(f),y=m.snapshotVersion,T=m.withLastLimboFreeSnapshotVersion(y);d.os=d.os.insert(f,T)}}}(r.localStore,s))}async function yz(t,e){const n=ce(t);if(!n.currentUser.isEqual(e)){ee("SyncEngine","User change. New user:",e.toKey());const r=await LR(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new re(U.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vc(n,r.hs)}}function wz(t,e){const n=ce(t),r=n.Na.get(e);if(r&&r.va)return pe().add(r.key);{let i=pe();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function ZR(t){const e=ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pz.bind(null,e),e.Ca.d_=tz.bind(null,e.eventManager),e.Ca.$a=nz.bind(null,e.eventManager),e}function _z(t){const e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gz.bind(null,e),e}class Zx{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Qf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return T9(this.persistence,new E9,e.initialUser,this.serializer)}createPersistence(e){return new y9(b0.Zr,this.serializer)}createSharedClientState(e){return new A9}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Ez{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Xx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yz.bind(null,this.syncEngine),await Y9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new J9}()}createDatastore(e){const n=Qf(e.databaseInfo.databaseId),r=function(s){return new O9(s)}(e.databaseInfo);return function(s,o,a,l){return new j9(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new F9(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Xx(this.syncEngine,n,0),function(){return qx.D()?new qx:new k9}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const h=new az(i,s,o,a,l,u);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ce(i);ee("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await gc(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Ur("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=It.UNAUTHENTICATED,this.clientId=rR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ee("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ee("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new re(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=D0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function wm(t,e){t.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await LR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function eT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Sz(t);ee("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Kx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Kx(e.remoteStore,i)),t._onlineComponents=e}function Cz(t){return t.name==="FirebaseError"?t.code===U.FAILED_PRECONDITION||t.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Sz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await wm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Cz(n))throw n;ca("Error using user provided cache. Falling back to memory cache: "+n),await wm(t,new Zx)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),await wm(t,new Zx);return t._offlineComponents}async function eA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),await eT(t,t._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),await eT(t,new Ez))),t._onlineComponents}function bz(t){return eA(t).then(e=>e.syncEngine)}async function Iz(t){const e=await eA(t),n=e.eventManager;return n.onListen=lz.bind(null,e.syncEngine),n.onUnlisten=dz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=uz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hz.bind(null,e.syncEngine),n}function Pz(t,e,n={}){const r=new Ri;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new xz({next:f=>{o.enqueueAndForget(()=>ez(s,h));const m=f.docs.has(a);!m&&f.fromCache?u.reject(new re(U.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?u.reject(new re(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new rz(_0(a.path),d,{includeMetadataChanges:!0,_a:!0});return Z9(s,h)}(await Iz(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rz(t,e,n){if(!n)throw new re(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Az(t,e,n,r){if(e===!0&&r===!0)throw new re(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function nT(t){if(!ie.isDocumentKey(t))throw new re(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function L0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae()}function Hu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new re(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=L0(t);throw new re(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new re(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new re(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Az("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new re(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new re(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new re(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class j0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new re(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new re(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $5;switch(r.type){case"firstParty":return new H5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=tT.get(n);r&&(ee("ComponentProvider","Removing Datastore"),tT.delete(n),r.terminate())}(this),Promise.resolve()}}function kz(t,e,n,r={}){var i;const s=(t=Hu(t,j0))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=It.MOCK_USER;else{a=uP(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new re(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new It(u)}t._authCredentials=new B5(new nR(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new V0(this.firestore,e,this._query)}}class bn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bn(this.firestore,e,this._key)}}class Wu extends V0{constructor(e,n,r){super(e,n,_0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new ie(e))}withConverter(e){return new Wu(this.firestore,e,this._path)}}function mn(t,e,...n){if(t=yt(t),arguments.length===1&&(e=rR.newId()),Rz("doc","path",e),t instanceof j0){const r=Ue.fromString(e,...n);return nT(r),new bn(t,null,new ie(r))}{if(!(t instanceof bn||t instanceof Wu))throw new re(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return nT(r),new bn(t.firestore,t instanceof Wu?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new VR(this,"async_queue_retry"),this.Eu=()=>{const n=ym();n&&ee("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=ym();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=ym();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new Ri;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!fc(e))throw e;ee("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ur("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=N0.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&ae()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class F0 extends j0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Nz}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||rA(this),this._firestoreClient.terminate()}}function Dz(t,e){const n=typeof t=="object"?t:r0(),r=typeof t=="string"?t:"(default)",i=Vf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=oP("firestore");s&&kz(i,...s)}return i}function nA(t){return t._firestoreClient||rA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function rA(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new r6(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,tA(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Tz(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ga(wt.fromBase64String(e))}catch(n){throw new re(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ga(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oz=/^__.*__$/;class Mz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new no(e,this.data,this.fieldMask,n,this.fieldTransforms):new pc(e,this.data,n,this.fieldTransforms)}}function sA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}class z0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new z0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return qh(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(sA(this.wu)&&Oz.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class Lz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qf(e)}Nu(e,n,r,i=!1){return new z0({wu:e,methodName:n,Ou:r,path:pt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jz(t){const e=t._freezeSettings(),n=Qf(t._databaseId);return new Lz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Vz(t,e,n,r,i,s={}){const o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);uA("Data must be an object, but it was:",o,r);const a=aA(r,o);let l,u;if(s.merge)l=new Wn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=Fz(e,h,n);if(!o.contains(f))throw new re(U.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Bz(d,f)||d.push(f)}l=new Wn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new Mz(new xn(a),l,u)}function oA(t,e){if(lA(t=yt(t)))return uA("Unsupported field value:",e,t),aA(t,e);if(t instanceof iA)return function(r,i){if(!sA(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=oA(a,i.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return b6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ot.fromDate(r);return{timestampValue:Hh(i.serializer,s)}}if(r instanceof ot){const s=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hh(i.serializer,s)}}if(r instanceof B0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ga)return{bytesValue:RR(i.serializer,r._byteString)};if(r instanceof bn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:C0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof U0)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return E0(a.serializer,l)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${L0(r)}`)}(t,e)}function aA(t,e){const n={};return iR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Aa(t,(r,i)=>{const s=oA(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function lA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof B0||t instanceof ga||t instanceof bn||t instanceof iA||t instanceof U0)}function uA(t,e,n){if(!lA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=L0(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function Fz(t,e,n){if((e=yt(e))instanceof $0)return e._internalPath;if(typeof e=="string")return cA(t,e);throw qh("Field path arguments must be of type string or ",t,!1,void 0,n)}const $z=new RegExp("[~\\*/\\[\\]]");function cA(t,e,n){if(e.search($z)>=0)throw qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $0(...e.split("."))._internalPath}catch{throw qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new re(U.INVALID_ARGUMENT,a+t+l)}function Bz(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Uz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Uz extends dA{data(){return super.data()}}function hA(t,e){return typeof e=="string"?cA(t,e):e instanceof $0?e._internalPath:e._delegate._internalPath}class zz{convertValue(e,n="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Aa(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ke(o.doubleValue));return new U0(s)}convertGeoPoint(e){return new B0(Ke(e.latitude),Ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=g0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fu(e));default:return null}}convertTimestamp(e){const n=ji(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ue.fromString(e);be(MR(r));const i=new $u(r.get(1),r.get(3)),s=new ie(r.popFirst(5));return i.isEqual(n)||Ur(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hz(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fA extends dA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qz(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(hA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class qz extends fA{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(t){t=Hu(t,bn);const e=Hu(t.firestore,F0);return Pz(nA(e),t._key).then(n=>Qz(e,t,n))}class Kz extends zz{constructor(e){super(),this.firestore=e}convertBytes(e){return new ga(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,n)}}function io(t,e,n){t=Hu(t,bn);const r=Hu(t.firestore,F0),i=Hz(t.converter,e,n);return Gz(r,[Vz(jz(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Dr.none())])}function Gz(t,e){return function(r,i){const s=new Ri;return r.asyncQueue.enqueueAndForget(async()=>fz(await bz(r),i,s)),s.promise}(nA(t),e)}function Qz(t,e,n){const r=n.docs.get(e._key),i=new Kz(t);return new fA(t,i,e._key,r,new Wz(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ra=i})(to),Vs(new Mi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new F0(new U5(r.getProvider("auth-internal")),new q5(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new re(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $u(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ar(Tx,"4.7.1",e),ar(Tx,"4.7.1","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="firebasestorage.googleapis.com",mA="storageBucket",Yz=2*60*1e3,Xz=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We extends vr{constructor(e,n,r=0){super(_m(e),`Firebase Storage: ${n} (${_m(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,We.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _m(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var He;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(He||(He={}));function _m(t){return"storage/"+t}function H0(){const t="An unknown error occurred, please check the error payload for server response.";return new We(He.UNKNOWN,t)}function Jz(t){return new We(He.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Zz(t){return new We(He.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function e7(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new We(He.UNAUTHENTICATED,t)}function t7(){return new We(He.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function n7(t){return new We(He.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function r7(){return new We(He.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function i7(){return new We(He.CANCELED,"User canceled the upload/download.")}function s7(t){return new We(He.INVALID_URL,"Invalid URL '"+t+"'.")}function o7(t){return new We(He.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function a7(){return new We(He.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+mA+"' property when initializing the app?")}function l7(){return new We(He.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function u7(){return new We(He.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function c7(t){return new We(He.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function cv(t){return new We(He.INVALID_ARGUMENT,t)}function gA(){return new We(He.APP_DELETED,"The Firebase app was deleted.")}function d7(t){return new We(He.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ou(t,e){return new We(He.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function _l(t){throw new We(He.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=on.makeFromUrl(e,n)}catch{return new on(e,"")}if(r.path==="")return r;throw o7(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(R){R.path_=decodeURIComponent(R.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${d}/b/${i}/o${f}`,"i"),y={bucket:1,path:3},T=n===pA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",b=new RegExp(`^https?://${T}/${i}/${S}`,"i"),E=[{regex:a,indices:l,postModify:s},{regex:m,indices:y,postModify:u},{regex:b,indices:{bucket:1,path:2},postModify:u}];for(let R=0;R<E.length;R++){const O=E[R],A=O.regex.exec(e);if(A){const _=A[O.indices.bucket];let w=A[O.indices.path];w||(w=""),r=new on(_,w),O.postModify(r);break}}if(r==null)throw s7(e);return r}}class h7{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f7(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(...S){u||(u=!0,e.apply(null,S))}function h(S){i=setTimeout(()=>{i=null,t(m,l())},S)}function f(){s&&clearTimeout(s)}function m(S,...b){if(u){f();return}if(S){f(),d.call(null,S,...b);return}if(l()||o){f(),d.call(null,S,...b);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,h(E)}let y=!1;function T(S){y||(y=!0,f(),!u&&(i!==null?(S||(a=2),clearTimeout(i),h(0)):S||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,T(!0)},n),T}function p7(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m7(t){return t!==void 0}function g7(t){return typeof t=="object"&&!Array.isArray(t)}function W0(t){return typeof t=="string"||t instanceof String}function iT(t){return q0()&&t instanceof Blob}function q0(){return typeof Blob<"u"}function sT(t,e,n,r){if(r<e)throw cv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw cv(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function vA(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Rs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Rs||(Rs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v7(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e,n,r,i,s,o,a,l,u,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,y)=>{this.resolve_=m,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new fd(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Rs.NO_ERROR,l=s.getStatus();if(!a||v7(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===Rs.ABORT;r(!1,new fd(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new fd(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());m7(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=H0();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?gA():i7();o(l)}else{const l=r7();o(l)}};this.canceled_?n(!1,new fd(!1,null,!0)):this.backoffId_=f7(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&p7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function w7(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function _7(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function E7(t,e){e&&(t["X-Firebase-GMPID"]=e)}function x7(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function T7(t,e,n,r,i,s,o=!0){const a=vA(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return E7(u,e),w7(u,n),_7(u,s),x7(u,r),new y7(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function S7(...t){const e=C7();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(q0())return new Blob(t);throw new We(He.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function b7(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I7(t){if(typeof atob>"u")throw c7("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Em{constructor(e,n){this.data=e,this.contentType=n||null}}function P7(t,e){switch(t){case nr.RAW:return new Em(yA(e));case nr.BASE64:case nr.BASE64URL:return new Em(wA(t,e));case nr.DATA_URL:return new Em(A7(e),k7(e))}throw H0()}function yA(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function R7(t){let e;try{e=decodeURIComponent(t)}catch{throw ou(nr.DATA_URL,"Malformed data URL.")}return yA(e)}function wA(t,e){switch(t){case nr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw ou(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case nr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw ou(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=I7(e)}catch(i){throw i.message.includes("polyfill")?i:ou(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class _A{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ou(nr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=N7(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function A7(t){const e=new _A(t);return e.base64?wA(nr.BASE64,e.rest):R7(e.rest)}function k7(t){return new _A(t).contentType}function N7(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n){let r=0,i="";iT(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(iT(this.data_)){const r=this.data_,i=b7(r,e,n);return i===null?null:new di(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new di(r,!0)}}static getBlob(...e){if(q0()){const n=e.map(r=>r instanceof di?r.data_:r);return new di(S7.apply(null,n))}else{const n=e.map(o=>W0(o)?P7(nr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new di(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(t){let e;try{e=JSON.parse(t)}catch{return null}return g7(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D7(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function O7(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function xA(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M7(t,e){return e}class Ot{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||M7}}let pd=null;function L7(t){return!W0(t)||t.length<2?t:xA(t)}function K0(){if(pd)return pd;const t=[];t.push(new Ot("bucket")),t.push(new Ot("generation")),t.push(new Ot("metageneration")),t.push(new Ot("name","fullPath",!0));function e(s,o){return L7(o)}const n=new Ot("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Ot("size");return i.xform=r,t.push(i),t.push(new Ot("timeCreated")),t.push(new Ot("updated")),t.push(new Ot("md5Hash",null,!0)),t.push(new Ot("cacheControl",null,!0)),t.push(new Ot("contentDisposition",null,!0)),t.push(new Ot("contentEncoding",null,!0)),t.push(new Ot("contentLanguage",null,!0)),t.push(new Ot("contentType",null,!0)),t.push(new Ot("metadata","customMetadata",!0)),pd=t,pd}function j7(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new on(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function V7(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return j7(r,t),r}function TA(t,e,n){const r=EA(e);return r===null?null:V7(t,r,n)}function F7(t,e,n,r){const i=EA(e);if(i===null||!W0(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const d=t.bucket,h=t.fullPath,f="/b/"+o(d)+"/o/"+o(h),m=Jf(f,n,r),y=vA({alt:"media",token:u});return m+y})[0]}function $7(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class G0{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(t){if(!t)throw H0()}function SA(t,e){function n(r,i){const s=TA(t,i,e);return CA(s!==null),s}return n}function B7(t,e){function n(r,i){const s=TA(t,i,e);return CA(s!==null),F7(s,i,t.host,t._protocol)}return n}function bA(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=t7():i=e7():n.getStatus()===402?i=Zz(t.bucket):n.getStatus()===403?i=n7(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function IA(t){const e=bA(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Jz(t.path)),s.serverResponse=i.serverResponse,s}return n}function U7(t,e,n){const r=e.fullServerUrl(),i=Jf(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new G0(i,s,SA(t,n),o);return a.errorHandler=IA(e),a}function z7(t,e,n){const r=e.fullServerUrl(),i=Jf(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new G0(i,s,B7(t,n),o);return a.errorHandler=IA(e),a}function H7(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function W7(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=H7(null,e)),r}function q7(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let E="";for(let R=0;R<2;R++)E=E+Math.random().toString().slice(2);return E}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=W7(e,r,i),d=$7(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",m=di.getBlob(h,r,f);if(m===null)throw l7();const y={name:u.fullPath},T=Jf(s,t.host,t._protocol),S="POST",b=t.maxUploadRetryTime,x=new G0(T,S,SA(t,n),b);return x.urlParams=y,x.headers=o,x.body=m.uploadData(),x.errorHandler=bA(e),x}class K7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Rs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Rs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Rs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw _l("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _l("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _l("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw _l("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _l("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class G7 extends K7{initXhr(){this.xhr_.responseType="text"}}function Q0(){return new G7}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n){this._service=e,n instanceof on?this._location=n:this._location=on.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Hs(e,n)}get root(){const e=new on(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xA(this._location.path)}get storage(){return this._service}get parent(){const e=D7(this._location.path);if(e===null)return null;const n=new on(this._location.bucket,e);return new Hs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw d7(e)}}function Q7(t,e,n){t._throwIfRoot("uploadBytes");const r=q7(t.storage,t._location,K0(),new di(e,!0),n);return t.storage.makeRequestWithTokens(r,Q0).then(i=>({metadata:i,ref:t}))}function Y7(t){t._throwIfRoot("getMetadata");const e=U7(t.storage,t._location,K0());return t.storage.makeRequestWithTokens(e,Q0)}function X7(t){t._throwIfRoot("getDownloadURL");const e=z7(t.storage,t._location,K0());return t.storage.makeRequestWithTokens(e,Q0).then(n=>{if(n===null)throw u7();return n})}function J7(t,e){const n=O7(t._location.path,e),r=new on(t._location.bucket,n);return new Hs(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z7(t){return/^[A-Za-z]+:\/\//.test(t)}function eH(t,e){return new Hs(t,e)}function PA(t,e){if(t instanceof Y0){const n=t;if(n._bucket==null)throw a7();const r=new Hs(n,n._bucket);return e!=null?PA(r,e):r}else return e!==void 0?J7(t,e):t}function tH(t,e){if(e&&Z7(e)){if(t instanceof Y0)return eH(t,e);throw cv("To use ref(service, url), the first argument must be a Storage instance.")}else return PA(t,e)}function oT(t,e){const n=e==null?void 0:e[mA];return n==null?null:on.makeFromBucketSpec(n,t)}function nH(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:uP(i,t.app.options.projectId))}class Y0{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=pA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Yz,this._maxUploadRetryTime=Xz,this._requests=new Set,i!=null?this._bucket=on.makeFromBucketSpec(i,this._host):this._bucket=oT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=on.makeFromBucketSpec(this._url,e):this._bucket=oT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){sT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){sT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hs(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new h7(gA());{const o=T7(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const aT="@firebase/storage",lT="0.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="storage";function Oa(t,e,n){return t=yt(t),Q7(t,e,n)}function Ma(t){return t=yt(t),Y7(t)}function La(t){return t=yt(t),X7(t)}function kn(t,e){return t=yt(t),tH(t,e)}function rH(t=r0(),e){t=yt(t);const r=Vf(t,RA).getImmediate({identifier:e}),i=oP("storage");return i&&iH(r,...i),r}function iH(t,e,n,r={}){nH(t,e,n,r)}function sH(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Y0(n,r,i,e,to)}function oH(){Vs(new Mi(RA,sH,"PUBLIC").setMultipleInstances(!0)),ar(aT,lT,""),ar(aT,lT,"esm2017")}oH();const aH={apiKey:"AIzaSyD_uvq_19oDJCIpliuz3vucMsiffeJY6Fo",authDomain:"managemylife-635d1.firebaseapp.com",projectId:"managemylife-635d1",storageBucket:"managemylife-635d1.appspot.com",messagingSenderId:"122526314825",appId:"1:122526314825:web:9b0ed767de9c9162bc2a98"},X0=hP(aH),Gr=L5(X0),gn=Dz(X0),Nn=rH(X0);function lH(){const[t,e]=v.useState(""),[n,r]=v.useState(""),[i,s]=v.useState(""),o=xf(),a=async l=>{l.preventDefault(),s(""),setLoading(!0);try{await TU(Gr,t,n),o("/dashboard")}catch(u){u.code==="auth/wrong-password"?s("Invalid password. Please try again."):u.code==="auth/user-not-found"?s("No account found with this email."):s("Login failed. Please try again.")}finally{setLoading(!1)}};return p.jsx("section",{className:eu.customBackground,children:p.jsxs(gr,{children:[p.jsxs("div",{className:eu.logoTitle,children:[p.jsx("img",{alt:"Your Company",src:"/Logo.svg",className:"h-[9rem] w-[11rem] mb-3"}),p.jsx("h3",{className:"text-center mb-4 text-white",children:"Login"})]}),i&&p.jsx("p",{className:"text-danger text-center",children:i}),p.jsxs("form",{onSubmit:a,className:"d-flex row justify-content-center px-lg-5",children:[p.jsxs("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[p.jsx("div",{className:"col-12 col-sm-11 col-md-10 col-lg-9 mb-4",children:p.jsx(he,{label:"Email address",id:"form1",type:"email",value:t,onChange:l=>e(l.target.value),labelClass:"text-white",className:"text-white custom-input"})}),p.jsx("div",{className:"col-12 col-sm-11 col-md-10 col-lg-9 mb-4",children:p.jsx(he,{label:"Password",id:"form2",type:"password",value:n,onChange:l=>r(l.target.value),labelClass:"text-white",className:"text-white custom-input"})})]}),p.jsxs("div",{className:"d-flex flex-column flex-sm-row justify-content-around mx-3 mb-4",children:[p.jsx("div",{className:"d-flex justify-content-center justify-content-sm-start mb-2 mb-sm-0",children:p.jsx(ZI,{name:"flexCheck",value:"",id:"flexCheckDefault",label:"Remember me",labelClass:"text-white"})}),p.jsx("div",{className:"d-flex justify-content-center justify-content-sm-start",children:p.jsx(Sg,{to:"/forgot",className:eu.darkBlueLink,children:"Forgot password?"})})]}),p.jsxs(ne,{type:"submit",className:"mb-4 col-6 col-sm-3 col-md-3 col-lg-3",disabled:loading,children:[loading?"Signing in...":"Sign in"," "]})]}),p.jsxs("div",{className:"text-center",children:[p.jsxs("p",{children:["Not a member? ",p.jsx(Sg,{to:"/signup",children:"Register"})]}),p.jsx("p",{children:"or sign up with:"}),p.jsxs("div",{className:"d-flex justify-content-between mx-auto",style:{width:"40%"},children:[p.jsx(ne,{tag:"a",color:"none",className:"m-1",style:{color:"#1266f1"},children:p.jsx(Hn,{fab:!0,icon:"facebook-f",size:"sm"})}),p.jsx(ne,{tag:"a",color:"none",className:"m-1",style:{color:"#1266f1"},children:p.jsx(Hn,{fab:!0,icon:"twitter",size:"sm"})}),p.jsx(ne,{tag:"a",color:"none",className:"m-1",style:{color:"#1266f1"},children:p.jsx(Hn,{fab:!0,icon:"google",size:"sm"})}),p.jsx(ne,{tag:"a",color:"none",className:"m-1",style:{color:"#1266f1"},children:p.jsx(Hn,{fab:!0,icon:"github",size:"sm"})})]})]})]})})}function uH(){const[t,e]=v.useState(""),[n,r]=v.useState(""),[i,s]=v.useState(""),[o,a]=v.useState(""),[l,u]=v.useState(""),[d,h]=v.useState(""),[f,m]=v.useState(!1),y=xf(),T=async()=>{if(u(""),h(""),i!==o){u("Passwords do not match.");return}try{m(!0);const b=(await xU(Gr,n,i)).user;await io(mn(gn,"users",b.uid),{name:t,email:n}),h("Account created successfully. Redirecting..."),setTimeout(()=>{y("/")},3e3)}catch(S){S.code==="auth/email-already-in-use"?u("Email is already in use."):S.code==="auth/weak-password"?u("Password is too weak."):S.code==="auth/invalid-email"?u("Invalid email format."):u("Failed to create account. Please try again.")}finally{m(!1)}};return p.jsx(gr,{fluid:!0,className:eu.customBackground,children:p.jsx(Bt,{className:"text-white m-2",style:{borderRadius:"25px",backgroundColor:"rgba(255, 255, 255, 0.2)"},children:p.jsxs(Ut,{children:[p.jsx("div",{className:"d-flex justify-content-start mb-2",children:p.jsxs(ne,{color:"primary",style:{backgroundColor:"#1f3b5b",color:"#fff",borderRadius:"20px",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.2)",padding:"10px 20px",transition:"all 0.3s ease-in-out"},onClick:()=>y("/"),onMouseOver:S=>S.currentTarget.style.backgroundColor="#274b77",onMouseOut:S=>S.currentTarget.style.backgroundColor="#1f3b5b",children:[p.jsx(Hn,{fas:!0,icon:"arrow-left",size:"lg",className:"text-white"}),"Back"]})}),p.jsxs(Ye,{children:[p.jsxs(Te,{md:"10",lg:"6",className:"order-2 order-lg-1 d-flex flex-column align-items-center",children:[p.jsx("p",{className:"text-center h1 fw-bold mb-5 mx-1 mx-md-4 mt-4",children:"Sign up"}),l&&p.jsx("p",{className:"text-danger",children:l}),d&&p.jsx("p",{className:"text-success",children:d}),p.jsxs("div",{className:"d-flex flex-row align-items-center mb-4 ",children:[p.jsx(Hn,{fas:!0,icon:"user me-3",size:"lg"}),p.jsx(he,{label:"Your Name",id:"form1",type:"text",className:"w-100 text-white custom-input",labelClass:"text-white",value:t,onChange:S=>e(S.target.value)})]}),p.jsxs("div",{className:"d-flex flex-row align-items-center mb-4",children:[p.jsx(Hn,{fas:!0,icon:"envelope me-3",size:"lg"}),p.jsx(he,{label:"Your Email",id:"form2",type:"email",labelClass:"text-white",className:"text-white custom-input",value:n,onChange:S=>r(S.target.value)})]}),p.jsxs("div",{className:"d-flex flex-row align-items-center mb-4",children:[p.jsx(Hn,{fas:!0,icon:"lock me-3",size:"lg"}),p.jsx(he,{label:"Password",id:"form3",type:"password",labelClass:"text-white",className:"text-white custom-input",value:i,onChange:S=>s(S.target.value)})]}),p.jsxs("div",{className:"d-flex flex-row align-items-center mb-4",children:[p.jsx(Hn,{fas:!0,icon:"key me-3",size:"lg"}),p.jsx(he,{label:"Repeat your password",id:"form4",type:"password",labelClass:"text-white",className:"text-white custom-input",value:o,onChange:S=>a(S.target.value)})]}),p.jsx("div",{className:"mb-4",children:p.jsx(ZI,{name:"flexCheck",value:"",id:"flexCheckDefault",label:"I agree all statements in Terms of service"})}),p.jsx(ne,{className:"mb-4",size:"lg",onClick:T,disabled:f,children:f?"Registering...":"Register"})]}),p.jsx(Te,{md:"10",lg:"6",className:"order-2 order-lg-2 d-flex align-items-center justify-content-center",children:p.jsx("img",{alt:"Your Company",src:"/RegisterLogo.svg",className:"img-fluid mb-3 w-90 w-sm-75 w-md-50 w-lg-50 h-auto"})})]})]})})})}function cH(){const[t,e]=v.useState(""),[n,r]=v.useState(""),[i,s]=v.useState(""),o=xf(),a=async()=>{if(r(""),s(""),!t){r("Please enter a valid email address.");return}try{await EU(Gr,t),s("If this email is registered, you will receive a password reset link."),setTimeout(()=>o("/"),3e3)}catch{r("Something went wrong. Please try again.")}};return p.jsx(gr,{fluid:!0,className:eu.customBackground,children:p.jsx(Bt,{className:"text-white m-2",style:{borderRadius:"25px",backgroundColor:"rgba(255, 255, 255, 0.2)"},children:p.jsxs(Ut,{children:[p.jsx("div",{className:"d-flex justify-content-start mb-2",children:p.jsxs(ne,{color:"primary",style:{backgroundColor:"#1f3b5b",color:"#fff",borderRadius:"20px",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.2)",padding:"10px 20px",transition:"all 0.3s ease-in-out"},onClick:()=>o("/"),onMouseOver:l=>l.currentTarget.style.backgroundColor="#274b77",onMouseOut:l=>l.currentTarget.style.backgroundColor="#1f3b5b",children:[p.jsx(Hn,{fas:!0,icon:"arrow-left",size:"lg",className:"text-white"}),"Back"]})}),p.jsxs(Ye,{children:[p.jsxs(Te,{md:"10",lg:"6",className:"order-2 order-lg-1 d-flex flex-column align-items-center justify-center",children:[p.jsx("p",{className:"text-center h1 fw-bold mb-5 mx-1 mx-md-4 mt-4",children:"Forgot Password"}),p.jsxs("div",{className:"d-flex flex-row align-items-center mb-4",children:[p.jsx(Hn,{fas:!0,icon:"envelope me-3",size:"lg"}),p.jsx(he,{label:"Your Email",id:"form1",type:"email",className:"w-100 text-white custom-input",labelClass:"text-white",value:t,onChange:l=>e(l.target.value)})]}),n&&p.jsx("p",{className:"text-danger",children:n}),i&&p.jsx("p",{className:"text-success",children:i}),p.jsx(ne,{className:"mb-4",size:"lg",onClick:a,style:{backgroundColor:"#1f3b5b",borderRadius:"20px",padding:"10px 20px",transition:"all 0.3s ease-in-out"},children:"Reset Password"})]}),p.jsx(Te,{md:"10",lg:"6",className:"order-2 order-lg-2 d-flex align-items-center justify-content-center",children:p.jsx("img",{alt:"Your Company",src:"/ForgotLogo.svg",className:"img-fluid mb-3 w-90 w-sm-75 w-md-50 w-lg-50 h-auto"})})]})]})})})}const AA=typeof document<"u"?W.useLayoutEffect:()=>{};function dH(t){const e=v.useRef(null);return AA(()=>{e.current=t},[t]),v.useCallback((...n)=>{const r=e.current;return r==null?void 0:r(...n)},[])}const yc=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},xs=t=>t&&"window"in t&&t.window===t?t:yc(t).defaultView||window;function hH(t){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(n=>t.test(n.brand)))||t.test(window.navigator.userAgent)}function fH(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function kA(t){let e=null;return()=>(e==null&&(e=t()),e)}const pH=kA(function(){return fH(/^Mac/i)}),mH=kA(function(){return hH(/Android/i)});function gH(t){return t.mozInputSource===0&&t.isTrusted?!0:mH()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}class vH{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=e}}function NA(t){let e=v.useRef({isFocused:!1,observer:null});AA(()=>{const r=e.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=dH(r=>{t==null||t(r)});return v.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){e.current.isFocused=!0;let i=r.target,s=o=>{e.current.isFocused=!1,i.disabled&&n(new vH("blur",o)),e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};i.addEventListener("focusout",s,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&i.disabled){var o;(o=e.current.observer)===null||o===void 0||o.disconnect();let a=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),e.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function yH(t){let{isDisabled:e,onFocus:n,onBlur:r,onFocusChange:i}=t;const s=v.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),i&&i(!1),!0},[r,i]),o=NA(s),a=v.useCallback(l=>{const u=yc(l.target);l.target===l.currentTarget&&u.activeElement===l.target&&(n&&n(l),i&&i(!0),o(l))},[i,n,o]);return{focusProps:{onFocus:!e&&(n||i||r)?a:void 0,onBlur:!e&&(r||i)?s:void 0}}}let wc=null,dv=new Set,au=new Map,Ws=!1,hv=!1;const wH={Tab:!0,Escape:!0};function J0(t,e){for(let n of dv)n(t,e)}function _H(t){return!(t.metaKey||!pH()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function Kh(t){Ws=!0,_H(t)&&(wc="keyboard",J0("keyboard",t))}function En(t){wc="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(Ws=!0,J0("pointer",t))}function DA(t){gH(t)&&(Ws=!0,wc="virtual")}function OA(t){t.target===window||t.target===document||(!Ws&&!hv&&(wc="virtual",J0("virtual",t)),Ws=!1,hv=!1)}function MA(){Ws=!1,hv=!0}function fv(t){if(typeof window>"u"||au.get(xs(t)))return;const e=xs(t),n=yc(t);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){Ws=!0,r.apply(this,arguments)},n.addEventListener("keydown",Kh,!0),n.addEventListener("keyup",Kh,!0),n.addEventListener("click",DA,!0),e.addEventListener("focus",OA,!0),e.addEventListener("blur",MA,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",En,!0),n.addEventListener("pointermove",En,!0),n.addEventListener("pointerup",En,!0)):(n.addEventListener("mousedown",En,!0),n.addEventListener("mousemove",En,!0),n.addEventListener("mouseup",En,!0)),e.addEventListener("beforeunload",()=>{LA(t)},{once:!0}),au.set(e,{focus:r})}const LA=(t,e)=>{const n=xs(t),r=yc(t);e&&r.removeEventListener("DOMContentLoaded",e),au.has(n)&&(n.HTMLElement.prototype.focus=au.get(n).focus,r.removeEventListener("keydown",Kh,!0),r.removeEventListener("keyup",Kh,!0),r.removeEventListener("click",DA,!0),n.removeEventListener("focus",OA,!0),n.removeEventListener("blur",MA,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",En,!0),r.removeEventListener("pointermove",En,!0),r.removeEventListener("pointerup",En,!0)):(r.removeEventListener("mousedown",En,!0),r.removeEventListener("mousemove",En,!0),r.removeEventListener("mouseup",En,!0)),au.delete(n))};function EH(t){const e=yc(t);let n;return e.readyState!=="loading"?fv(t):(n=()=>{fv(t)},e.addEventListener("DOMContentLoaded",n)),()=>LA(t,n)}typeof document<"u"&&EH();function jA(){return wc!=="pointer"}const xH=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function TH(t,e,n){var r;const i=typeof window<"u"?xs(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?xs(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?xs(n==null?void 0:n.target).HTMLElement:HTMLElement,a=typeof window<"u"?xs(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return t=t||(n==null?void 0:n.target)instanceof i&&!xH.has(n==null||(r=n.target)===null||r===void 0?void 0:r.type)||(n==null?void 0:n.target)instanceof s||(n==null?void 0:n.target)instanceof o&&(n==null?void 0:n.target.isContentEditable),!(t&&e==="keyboard"&&n instanceof a&&!wH[n.key])}function CH(t,e,n){fv(),v.useEffect(()=>{let r=(i,s)=>{TH(!!(n!=null&&n.isTextInput),i,s)&&t(jA())};return dv.add(r),()=>{dv.delete(r)}},e)}function SH(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=t,s=v.useRef({isFocusWithin:!1}),o=v.useCallback(u=>{s.current.isFocusWithin&&!u.currentTarget.contains(u.relatedTarget)&&(s.current.isFocusWithin=!1,n&&n(u),i&&i(!1))},[n,i,s]),a=NA(o),l=v.useCallback(u=>{!s.current.isFocusWithin&&document.activeElement===u.target&&(r&&r(u),i&&i(!0),s.current.isFocusWithin=!0,a(u))},[r,i,a]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:l,onBlur:o}}}let Gh=!1,xm=0;function pv(){Gh=!0,setTimeout(()=>{Gh=!1},50)}function uT(t){t.pointerType==="touch"&&pv()}function bH(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",uT):document.addEventListener("touchend",pv),xm++,()=>{xm--,!(xm>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",uT):document.removeEventListener("touchend",pv))}}function VA(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:r,isDisabled:i}=t,[s,o]=v.useState(!1),a=v.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;v.useEffect(bH,[]);let{hoverProps:l,triggerHoverEnd:u}=v.useMemo(()=>{let d=(m,y)=>{if(a.pointerType=y,i||y==="touch"||a.isHovered||!m.currentTarget.contains(m.target))return;a.isHovered=!0;let T=m.currentTarget;a.target=T,e&&e({type:"hoverstart",target:T,pointerType:y}),n&&n(!0),o(!0)},h=(m,y)=>{if(a.pointerType="",a.target=null,y==="touch"||!a.isHovered)return;a.isHovered=!1;let T=m.currentTarget;r&&r({type:"hoverend",target:T,pointerType:y}),n&&n(!1),o(!1)},f={};return typeof PointerEvent<"u"?(f.onPointerEnter=m=>{Gh&&m.pointerType==="mouse"||d(m,m.pointerType)},f.onPointerLeave=m=>{!i&&m.currentTarget.contains(m.target)&&h(m,m.pointerType)}):(f.onTouchStart=()=>{a.ignoreEmulatedMouseEvents=!0},f.onMouseEnter=m=>{!a.ignoreEmulatedMouseEvents&&!Gh&&d(m,"mouse"),a.ignoreEmulatedMouseEvents=!1},f.onMouseLeave=m=>{!i&&m.currentTarget.contains(m.target)&&h(m,"mouse")}),{hoverProps:f,triggerHoverEnd:h}},[e,n,r,i,a]);return v.useEffect(()=>{i&&u({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:l,isHovered:s}}function FA(t={}){let{autoFocus:e=!1,isTextInput:n,within:r}=t,i=v.useRef({isFocused:!1,isFocusVisible:e||jA()}),[s,o]=v.useState(!1),[a,l]=v.useState(()=>i.current.isFocused&&i.current.isFocusVisible),u=v.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),d=v.useCallback(m=>{i.current.isFocused=m,o(m),u()},[u]);CH(m=>{i.current.isFocusVisible=m,u()},[],{isTextInput:n});let{focusProps:h}=yH({isDisabled:r,onFocusChange:d}),{focusWithinProps:f}=SH({isDisabled:!r,onFocusWithinChange:d});return{isFocused:s,isFocusVisible:a,focusProps:r?f:h}}var IH=Object.defineProperty,PH=(t,e,n)=>e in t?IH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tm=(t,e,n)=>(PH(t,typeof e!="symbol"?e+"":e,n),n);let RH=class{constructor(){Tm(this,"current",this.detect()),Tm(this,"handoffState","pending"),Tm(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},As=new RH;function so(t){return As.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}function $A(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function yr(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return $A(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=yr();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function Zf(){let[t]=v.useState(yr);return v.useEffect(()=>()=>t.dispose(),[t]),t}let et=(t,e)=>{As.isServer?v.useEffect(t,e):v.useLayoutEffect(t,e)};function _c(t){let e=v.useRef(t);return et(()=>{e.current=t},[t]),e}let _e=function(t){let e=_c(t);return W.useCallback((...n)=>e.current(...n),[e])};function AH(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function kH(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function BA({disabled:t=!1}={}){let e=v.useRef(null),[n,r]=v.useState(!1),i=Zf(),s=_e(()=>{e.current=null,r(!1),i.dispose()}),o=_e(a=>{if(i.dispose(),e.current===null){e.current=a.currentTarget,r(!0);{let l=so(a.currentTarget);i.addEventListener(l,"pointerup",s,!1),i.addEventListener(l,"pointermove",u=>{if(e.current){let d=AH(u);r(kH(d,e.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",s,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:o,onPointerUp:s,onClick:s}}}let NH=v.createContext(void 0);function UA(){return v.useContext(NH)}function cT(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function ns(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ns),r}var qu=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(qu||{}),DH=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(DH||{});function zt({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??OH;let l=HA(e,t);if(s)return md(l,n,r,o,a);let u=i??0;if(u&2){let{static:d=!1,...h}=l;if(d)return md(h,n,r,o,a)}if(u&1){let{unmount:d=!0,...h}=l;return ns(d?0:1,{0(){return null},1(){return md({...h,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return md(l,n,r,o,a)}function md(t,e={},n,r,i){let{as:s=n,children:o,refName:a="ref",...l}=Cm(t,["unmount","static"]),u=t.ref!==void 0?{[a]:t.ref}:{},d=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let h={};if(e){let f=!1,m=[];for(let[y,T]of Object.entries(e))typeof T=="boolean"&&(f=!0),T===!0&&m.push(y.replace(/([A-Z])/g,S=>`-${S.toLowerCase()}`));if(f){h["data-headlessui-state"]=m.join(" ");for(let y of m)h[`data-${y}`]=""}}if(s===v.Fragment&&(Object.keys(mo(l)).length>0||Object.keys(mo(h)).length>0))if(!v.isValidElement(d)||Array.isArray(d)&&d.length>1){if(Object.keys(mo(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(mo(l)).concat(Object.keys(mo(h))).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`))}else{let f=d.props,m=f==null?void 0:f.className,y=typeof m=="function"?(...b)=>cT(m(...b),l.className):cT(m,l.className),T=y?{className:y}:{},S=HA(d.props,mo(Cm(l,["ref"])));for(let b in h)b in S&&delete h[b];return v.cloneElement(d,Object.assign({},S,h,u,{ref:i(d.ref,u.ref)},T))}return v.createElement(s,Object.assign({},Cm(l,["ref"]),s!==v.Fragment&&u,s!==v.Fragment&&h),d)}function zA(){let t=v.useRef([]),e=v.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function OH(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function HA(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function Qh(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];for(let r in n)Object.assign(e,{[r](...i){let s=n[r];for(let o of s)o==null||o(...i)}});return e}function Ht(t){var e;return Object.assign(v.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function mo(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function Cm(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}let MH=v.createContext(void 0);function LH(){return v.useContext(MH)}function WA(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&jH(n)?!1:r}function jH(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}let qA=Symbol();function KA(t,e=!0){return Object.assign(t,{[qA]:e})}function Dn(...t){let e=v.useRef(t);v.useEffect(()=>{e.current=t},[t]);let n=_e(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[qA]))?void 0:n}let Z0=v.createContext(null);Z0.displayName="DescriptionContext";function GA(){let t=v.useContext(Z0);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,GA),e}return t}function VH(){let[t,e]=v.useState([]);return[t.length>0?t.join(" "):void 0,v.useMemo(()=>function(n){let r=_e(s=>(e(o=>[...o,s]),()=>e(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=v.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return W.createElement(Z0.Provider,{value:i},n.children)},[e])]}let FH="p";function $H(t,e){let n=v.useId(),r=UA(),{id:i=`headlessui-description-${n}`,...s}=t,o=GA(),a=Dn(e);et(()=>o.register(i),[i,o.register]);let l=r||!1,u=v.useMemo(()=>({...o.slot,disabled:l}),[o.slot,l]),d={ref:a,...o.props,id:i};return zt({ourProps:d,theirProps:s,slot:u,defaultTag:FH,name:o.name||"Description"})}let BH=Ht($H);Object.assign(BH,{});var $e=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))($e||{});let ep=v.createContext(null);ep.displayName="LabelContext";function ew(){let t=v.useContext(ep);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,ew),e}return t}function UH(t){var e,n,r;let i=(n=(e=v.useContext(ep))==null?void 0:e.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[i,...t].filter(Boolean).join(" "):i}function QA({inherit:t=!1}={}){let e=UH(),[n,r]=v.useState([]),i=t?[e,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,v.useMemo(()=>function(s){let o=_e(l=>(r(u=>[...u,l]),()=>r(u=>{let d=u.slice(),h=d.indexOf(l);return h!==-1&&d.splice(h,1),d}))),a=v.useMemo(()=>({register:o,slot:s.slot,name:s.name,props:s.props,value:s.value}),[o,s.slot,s.name,s.props,s.value]);return W.createElement(ep.Provider,{value:a},s.children)},[r])]}let zH="label";function HH(t,e){var n;let r=v.useId(),i=ew(),s=LH(),o=UA(),{id:a=`headlessui-label-${r}`,htmlFor:l=s??((n=i.props)==null?void 0:n.htmlFor),passive:u=!1,...d}=t,h=Dn(e);et(()=>i.register(a),[a,i.register]);let f=_e(S=>{let b=S.currentTarget;if(b instanceof HTMLLabelElement&&S.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(S),b instanceof HTMLLabelElement){let x=document.getElementById(b.htmlFor);if(x){let E=x.getAttribute("disabled");if(E==="true"||E==="")return;let R=x.getAttribute("aria-disabled");if(R==="true"||R==="")return;(x instanceof HTMLInputElement&&(x.type==="radio"||x.type==="checkbox")||x.role==="radio"||x.role==="checkbox"||x.role==="switch")&&x.click(),x.focus({preventScroll:!0})}}}),m=o||!1,y=v.useMemo(()=>({...i.slot,disabled:m}),[i.slot,m]),T={ref:h,...i.props,id:a,htmlFor:l,onClick:f};return u&&("onClick"in T&&(delete T.htmlFor,delete T.onClick),"onClick"in d&&delete d.onClick),zt({ourProps:T,theirProps:d,slot:y,defaultTag:l?zH:"div",name:i.name||"Label"})}let WH=Ht(HH);Object.assign(WH,{});let qH=v.createContext(()=>{});function KH({value:t,children:e}){return W.createElement(qH.Provider,{value:t},e)}function GH(t){if(t===null)return{width:0,height:0};let{width:e,height:n}=t.getBoundingClientRect();return{width:e,height:n}}function QH(t,e=!1){let[n,r]=v.useReducer(()=>({}),{}),i=v.useMemo(()=>GH(t),[t,n]);return et(()=>{if(!t)return;let s=new ResizeObserver(r);return s.observe(t),()=>{s.disconnect()}},[t]),e?{width:`${i.width}px`,height:`${i.height}px`}:i}let YH=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};function YA(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=e[i].call(n,...s);o&&(n=o,r.forEach(a=>a()))}}}function XA(t){return v.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}let XH=new YH(()=>YA(()=>[],{ADD(t){return this.includes(t)?this:[...this,t]},REMOVE(t){let e=this.indexOf(t);if(e===-1)return this;let n=this.slice();return n.splice(e,1),n}}));function tw(t,e){let n=XH.get(e),r=v.useId(),i=XA(n);if(et(()=>{if(t)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,t]),!t)return!1;let s=i.indexOf(r),o=i.length;return s===-1&&(s=o,o+=1),s===o-1}let mv=new Map,lu=new Map;function dT(t){var e;let n=(e=lu.get(t))!=null?e:0;return lu.set(t,n+1),n!==0?()=>hT(t):(mv.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>hT(t))}function hT(t){var e;let n=(e=lu.get(t))!=null?e:1;if(n===1?lu.delete(t):lu.set(t,n-1),n!==1)return;let r=mv.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,mv.delete(t))}function JH(t,{allowed:e,disallowed:n}={}){let r=tw(t,"inert-others");et(()=>{var i,s;if(!r)return;let o=yr();for(let l of(i=n==null?void 0:n())!=null?i:[])l&&o.add(dT(l));let a=(s=e==null?void 0:e())!=null?s:[];for(let l of a){if(!l)continue;let u=so(l);if(!u)continue;let d=l.parentElement;for(;d&&d!==u.body;){for(let h of d.children)a.some(f=>h.contains(f))||o.add(dT(h));d=d.parentElement}}return o.dispose},[r,e,n])}function ZH(t,e,n){let r=_c(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});v.useEffect(()=>{if(!t)return;let i=e===null?null:e instanceof HTMLElement?e:e.current;if(!i)return;let s=yr();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}return()=>s.dispose()},[e,r,t])}let gv=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),eW=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var vv=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(vv||{}),tW=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(tW||{}),nW=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(nW||{});function JA(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(gv)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function rW(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(eW)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var nw=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(nw||{});function rw(t,e=0){var n;return t===((n=so(t))==null?void 0:n.body)?!1:ns(e,{0(){return t.matches(gv)},1(){let r=t;for(;r!==null;){if(r.matches(gv))return!0;r=r.parentElement}return!1}})}function ZA(t){let e=so(t);yr().nextFrame(()=>{e&&!rw(e.activeElement,0)&&sW(t)})}var iW=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(iW||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function sW(t){t==null||t.focus({preventScroll:!0})}let oW=["textarea","input"].join(",");function aW(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,oW))!=null?n:!1}function ek(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function lW(t,e){return uW(JA(),e,{relativeTo:t})}function uW(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?n?ek(t):t:e&64?rW(t):JA(t);i.length>0&&o.length>1&&(o=o.filter(m=>!i.some(y=>y!=null&&"current"in y?(y==null?void 0:y.current)===m:y===m))),r=r??s.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,h=o.length,f;do{if(d>=h||d+h<=0)return 0;let m=l+d;if(e&16)m=(m+h)%h;else{if(m<0)return 3;if(m>=h)return 1}f=o[m],f==null||f.focus(u),d+=a}while(f!==s.activeElement);return e&6&&aW(f)&&f.select(),2}function tk(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function cW(){return/Android/gi.test(window.navigator.userAgent)}function dW(){return tk()||cW()}function El(t,e,n,r){let i=_c(n);v.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return document.addEventListener(e,s,r),()=>document.removeEventListener(e,s,r)},[t,e,r])}function hW(t,e,n,r){let i=_c(n);v.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return window.addEventListener(e,s,r),()=>window.removeEventListener(e,s,r)},[t,e,r])}const fT=30;function fW(t,e,n){let r=tw(t,"outside-click"),i=_c(n),s=v.useCallback(function(l,u){if(l.defaultPrevented)return;let d=u(l);if(d===null||!d.getRootNode().contains(d)||!d.isConnected)return;let h=function f(m){return typeof m=="function"?f(m()):Array.isArray(m)||m instanceof Set?m:[m]}(e);for(let f of h)if(f!==null&&(f.contains(d)||l.composed&&l.composedPath().includes(f)))return;return!rw(d,nw.Loose)&&d.tabIndex!==-1&&l.preventDefault(),i.current(l,d)},[i,e]),o=v.useRef(null);El(r,"pointerdown",l=>{var u,d;o.current=((d=(u=l.composedPath)==null?void 0:u.call(l))==null?void 0:d[0])||l.target},!0),El(r,"mousedown",l=>{var u,d;o.current=((d=(u=l.composedPath)==null?void 0:u.call(l))==null?void 0:d[0])||l.target},!0),El(r,"click",l=>{dW()||o.current&&(s(l,()=>o.current),o.current=null)},!0);let a=v.useRef({x:0,y:0});El(r,"touchstart",l=>{a.current.x=l.touches[0].clientX,a.current.y=l.touches[0].clientY},!0),El(r,"touchend",l=>{let u={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(u.x-a.current.x)>=fT||Math.abs(u.y-a.current.y)>=fT))return s(l,()=>l.target instanceof HTMLElement?l.target:null)},!0),hW(r,"blur",l=>s(l,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function iw(...t){return v.useMemo(()=>so(...t),[...t])}function nk(t,e){return v.useMemo(()=>{var n;if(t.type)return t.type;let r=(n=t.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function pW(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,t-i);n.style(r,"paddingRight",`${s}px`)}}}function mW(){return tk()?{before({doc:t,d:e,meta:n}){function r(i){return n.containers.flatMap(s=>s()).some(s=>s.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=yr();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),d=t.querySelector(u);d&&!r(d)&&(o=d)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(a.target instanceof HTMLElement)if(r(a.target)){let l=a.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function gW(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function vW(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Ts=YA(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:yr(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:vW(n)},i=[mW(),pW(),gW()];i.forEach(({before:s})=>s==null?void 0:s(r)),i.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Ts.subscribe(()=>{let t=Ts.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&Ts.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Ts.dispatch("TEARDOWN",n)}});function yW(t,e,n=()=>({containers:[]})){let r=XA(Ts),i=e?r.get(e):void 0,s=i?i.count>0:!1;return et(()=>{if(!(!e||!t))return Ts.dispatch("PUSH",e,n),()=>Ts.dispatch("POP",e,n)},[t,e]),s}function wW(t,e,n=()=>[document.body]){let r=tw(t,"scroll-lock");yW(r,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],n]}})}function pT(t){return[t.screenX,t.screenY]}function _W(){let t=v.useRef([-1,-1]);return{wasMoved(e){let n=pT(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=pT(e)}}}function EW(t=0){let[e,n]=v.useState(t),r=v.useCallback(l=>n(l),[e]),i=v.useCallback(l=>n(u=>u|l),[e]),s=v.useCallback(l=>(e&l)===l,[e]),o=v.useCallback(l=>n(u=>u&~l),[n]),a=v.useCallback(l=>n(u=>u^l),[n]);return{flags:e,setFlag:r,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}var xW=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(xW||{});function rk(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function ik(t,e,n,r){let[i,s]=v.useState(n),{hasFlag:o,addFlag:a,removeFlag:l}=EW(t&&i?3:0),u=v.useRef(!1),d=v.useRef(!1),h=Zf();return et(()=>{var f;if(t){if(n&&s(!0),!e){n&&a(3);return}return(f=void 0)==null||f.call(r,n),TW(e,{inFlight:u,prepare(){d.current?d.current=!1:d.current=u.current,u.current=!0,!d.current&&(n?(a(3),l(4)):(a(4),l(2)))},run(){d.current?n?(l(3),a(4)):(l(4),a(3)):n?l(1):a(1)},done(){var m;d.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(u.current=!1,l(7),n||s(!1),(m=void 0)==null||m.call(r,n))}})}},[t,n,e,h]),t?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function TW(t,{prepare:e,run:n,done:r,inFlight:i}){let s=yr();return SW(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(CW(t,r))})}),s.dispose}function CW(t,e){let n=yr();if(!t)return n.dispose;let r=!1;n.add(()=>{r=!0});let i=t.getAnimations().filter(s=>s instanceof CSSTransition);return i.length===0?(e(),n.dispose):(Promise.allSettled(i.map(s=>s.finished)).then(()=>{r||e()}),n.dispose)}function SW(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function bW(t,{container:e,accept:n,walk:r}){let i=v.useRef(n),s=v.useRef(r);v.useEffect(()=>{i.current=n,s.current=r},[n,r]),et(()=>{if(!e||!t)return;let o=so(e);if(!o)return;let a=i.current,l=s.current,u=Object.assign(h=>a(h),{acceptNode:a}),d=o.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)l(d.currentNode)},[e,t,i,s])}function ja(t){return sk(t)?(t.nodeName||"").toLowerCase():"#document"}function ln(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Qr(t){var e;return(e=(sk(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function sk(t){return t instanceof Node||t instanceof ln(t).Node}function jt(t){return t instanceof Element||t instanceof ln(t).Element}function mr(t){return t instanceof HTMLElement||t instanceof ln(t).HTMLElement}function mT(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ln(t).ShadowRoot}function Ec(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Yn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function IW(t){return["table","td","th"].includes(ja(t))}function tp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function sw(t){const e=ow(),n=jt(t)?Yn(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function PW(t){let e=Fi(t);for(;mr(e)&&!va(e);){if(sw(e))return e;if(tp(e))return null;e=Fi(e)}return null}function ow(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function va(t){return["html","body","#document"].includes(ja(t))}function Yn(t){return ln(t).getComputedStyle(t)}function np(t){return jt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Fi(t){if(ja(t)==="html")return t;const e=t.assignedSlot||t.parentNode||mT(t)&&t.host||Qr(t);return mT(e)?e.host:e}function ok(t){const e=Fi(t);return va(e)?t.ownerDocument?t.ownerDocument.body:t.body:mr(e)&&Ec(e)?e:ok(e)}function Ku(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=ok(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=ln(i);if(s){const a=yv(o);return e.concat(o,o.visualViewport||[],Ec(i)?i:[],a&&n?Ku(a):[])}return e.concat(i,Ku(i,[],n))}function yv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function RW(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}const gi=Math.min,rn=Math.max,Yh=Math.round,gd=Math.floor,$i=t=>({x:t,y:t}),AW={left:"right",right:"left",bottom:"top",top:"bottom"},kW={start:"end",end:"start"};function gT(t,e,n){return rn(t,gi(e,n))}function Va(t,e){return typeof t=="function"?t(e):t}function Bi(t){return t.split("-")[0]}function xc(t){return t.split("-")[1]}function ak(t){return t==="x"?"y":"x"}function lk(t){return t==="y"?"height":"width"}function qs(t){return["top","bottom"].includes(Bi(t))?"y":"x"}function uk(t){return ak(qs(t))}function NW(t,e,n){n===void 0&&(n=!1);const r=xc(t),i=uk(t),s=lk(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Xh(o)),[o,Xh(o)]}function DW(t){const e=Xh(t);return[wv(t),e,wv(e)]}function wv(t){return t.replace(/start|end/g,e=>kW[e])}function OW(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function MW(t,e,n,r){const i=xc(t);let s=OW(Bi(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(wv)))),s}function Xh(t){return t.replace(/left|right|bottom|top/g,e=>AW[e])}function LW(t){return{top:0,right:0,bottom:0,left:0,...t}}function jW(t){return typeof t!="number"?LW(t):{top:t,right:t,bottom:t,left:t}}function Jh(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function vT(t,e,n){let{reference:r,floating:i}=t;const s=qs(e),o=uk(e),a=lk(o),l=Bi(e),u=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(xc(e)){case"start":m[o]-=f*(n&&u?-1:1);break;case"end":m[o]+=f*(n&&u?-1:1);break}return m}const VW=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=vT(u,r,l),f=r,m={},y=0;for(let T=0;T<a.length;T++){const{name:S,fn:b}=a[T],{x,y:E,data:R,reset:O}=await b({x:d,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});d=x??d,h=E??h,m={...m,[S]:{...m[S],...R}},O&&y<=50&&(y++,typeof O=="object"&&(O.placement&&(f=O.placement),O.rects&&(u=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):O.rects),{x:d,y:h}=vT(u,f,l)),T=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:m}};async function rp(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=Va(e,t),y=jW(m),S=a[f?h==="floating"?"reference":"floating":h],b=Jh(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(S)))==null||n?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),x=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),R=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},O=Jh(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:E,strategy:l}):x);return{top:(b.top-O.top+y.top)/R.y,bottom:(O.bottom-b.bottom+y.bottom)/R.y,left:(b.left-O.left+y.left)/R.x,right:(O.right-b.right+y.right)/R.x}}const FW=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:T=!0,...S}=Va(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=Bi(i),x=qs(a),E=Bi(a)===a,R=await(l.isRTL==null?void 0:l.isRTL(u.floating)),O=f||(E||!T?[Xh(a)]:DW(a)),A=y!=="none";!f&&A&&O.push(...MW(a,T,y,R));const _=[a,...O],w=await rp(e,S),I=[];let P=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&I.push(w[b]),h){const H=NW(i,o,R);I.push(w[H[0]],w[H[1]])}if(P=[...P,{placement:i,overflows:I}],!I.every(H=>H<=0)){var N,M;const H=(((N=s.flip)==null?void 0:N.index)||0)+1,J=_[H];if(J)return{data:{index:H,overflows:P},reset:{placement:J}};let Q=(M=P.filter(F=>F.overflows[0]<=0).sort((F,V)=>F.overflows[1]-V.overflows[1])[0])==null?void 0:M.placement;if(!Q)switch(m){case"bestFit":{var D;const F=(D=P.filter(V=>{if(A){const $=qs(V.placement);return $===x||$==="y"}return!0}).map(V=>[V.placement,V.overflows.filter($=>$>0).reduce(($,G)=>$+G,0)]).sort((V,$)=>V[1]-$[1])[0])==null?void 0:D[0];F&&(Q=F);break}case"initialPlacement":Q=a;break}if(i!==Q)return{reset:{placement:Q}}}return{}}}};async function $W(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Bi(n),a=xc(n),l=qs(n)==="y",u=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,h=Va(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return a&&typeof y=="number"&&(m=a==="end"?y*-1:y),l?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const BW=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await $W(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},UW=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x:b,y:x}=S;return{x:b,y:x}}},...l}=Va(t,e),u={x:n,y:r},d=await rp(e,l),h=qs(Bi(i)),f=ak(h);let m=u[f],y=u[h];if(s){const S=f==="y"?"top":"left",b=f==="y"?"bottom":"right",x=m+d[S],E=m-d[b];m=gT(x,m,E)}if(o){const S=h==="y"?"top":"left",b=h==="y"?"bottom":"right",x=y+d[S],E=y-d[b];y=gT(x,y,E)}const T=a.fn({...e,[f]:m,[h]:y});return{...T,data:{x:T.x-n,y:T.y-r}}}}},zW=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:i,elements:s}=e,{apply:o=()=>{},...a}=Va(t,e),l=await rp(e,a),u=Bi(n),d=xc(n),h=qs(n)==="y",{width:f,height:m}=r.floating;let y,T;u==="top"||u==="bottom"?(y=u,T=d===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(T=u,y=d==="end"?"top":"bottom");const S=m-l.top-l.bottom,b=f-l.left-l.right,x=gi(m-l[y],S),E=gi(f-l[T],b),R=!e.middlewareData.shift;let O=x,A=E;if(h?A=d||R?gi(E,b):b:O=d||R?gi(x,S):S,R&&!d){const w=rn(l.left,0),I=rn(l.right,0),P=rn(l.top,0),N=rn(l.bottom,0);h?A=f-2*(w!==0||I!==0?w+I:rn(l.left,l.right)):O=m-2*(P!==0||N!==0?P+N:rn(l.top,l.bottom))}await o({...e,availableWidth:A,availableHeight:O});const _=await i.getDimensions(s.floating);return f!==_.width||m!==_.height?{reset:{rects:!0}}:{}}}};function ck(t){const e=Yn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=mr(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Yh(n)!==s||Yh(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function aw(t){return jt(t)?t:t.contextElement}function Ko(t){const e=aw(t);if(!mr(e))return $i(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=ck(e);let o=(s?Yh(n.width):n.width)/r,a=(s?Yh(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const HW=$i(0);function dk(t){const e=ln(t);return!ow()||!e.visualViewport?HW:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function WW(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ln(t)?!1:e}function Ks(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=aw(t);let o=$i(1);e&&(r?jt(r)&&(o=Ko(r)):o=Ko(t));const a=WW(s,n,r)?dk(s):$i(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const f=ln(s),m=r&&jt(r)?ln(r):r;let y=f,T=yv(y);for(;T&&r&&m!==y;){const S=Ko(T),b=T.getBoundingClientRect(),x=Yn(T),E=b.left+(T.clientLeft+parseFloat(x.paddingLeft))*S.x,R=b.top+(T.clientTop+parseFloat(x.paddingTop))*S.y;l*=S.x,u*=S.y,d*=S.x,h*=S.y,l+=E,u+=R,y=ln(T),T=yv(y)}}return Jh({width:d,height:h,x:l,y:u})}function qW(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Qr(r),a=e?tp(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=$i(1);const d=$i(0),h=mr(r);if((h||!h&&!s)&&((ja(r)!=="body"||Ec(o))&&(l=np(r)),mr(r))){const f=Ks(r);u=Ko(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x,y:n.y*u.y-l.scrollTop*u.y+d.y}}function KW(t){return Array.from(t.getClientRects())}function hk(t){return Ks(Qr(t)).left+np(t).scrollLeft}function GW(t){const e=Qr(t),n=np(t),r=t.ownerDocument.body,i=rn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=rn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+hk(t);const a=-n.scrollTop;return Yn(r).direction==="rtl"&&(o+=rn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function QW(t,e){const n=ln(t),r=Qr(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=ow();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function YW(t,e){const n=Ks(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=mr(t)?Ko(t):$i(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function yT(t,e,n){let r;if(e==="viewport")r=QW(t,n);else if(e==="document")r=GW(Qr(t));else if(jt(e))r=YW(e,n);else{const i=dk(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Jh(r)}function fk(t,e){const n=Fi(t);return n===e||!jt(n)||va(n)?!1:Yn(n).position==="fixed"||fk(n,e)}function XW(t,e){const n=e.get(t);if(n)return n;let r=Ku(t,[],!1).filter(a=>jt(a)&&ja(a)!=="body"),i=null;const s=Yn(t).position==="fixed";let o=s?Fi(t):t;for(;jt(o)&&!va(o);){const a=Yn(o),l=sw(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ec(o)&&!l&&fk(t,o))?r=r.filter(d=>d!==o):i=a,o=Fi(o)}return e.set(t,r),r}function JW(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?tp(e)?[]:XW(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const h=yT(e,d,i);return u.top=rn(h.top,u.top),u.right=gi(h.right,u.right),u.bottom=gi(h.bottom,u.bottom),u.left=rn(h.left,u.left),u},yT(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function ZW(t){const{width:e,height:n}=ck(t);return{width:e,height:n}}function e8(t,e,n){const r=mr(e),i=Qr(e),s=n==="fixed",o=Ks(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=$i(0);if(r||!r&&!s)if((ja(e)!=="body"||Ec(i))&&(a=np(e)),r){const h=Ks(e,!0,s,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=hk(i));const u=o.left+a.scrollLeft-l.x,d=o.top+a.scrollTop-l.y;return{x:u,y:d,width:o.width,height:o.height}}function Sm(t){return Yn(t).position==="static"}function wT(t,e){return!mr(t)||Yn(t).position==="fixed"?null:e?e(t):t.offsetParent}function pk(t,e){const n=ln(t);if(tp(t))return n;if(!mr(t)){let i=Fi(t);for(;i&&!va(i);){if(jt(i)&&!Sm(i))return i;i=Fi(i)}return n}let r=wT(t,e);for(;r&&IW(r)&&Sm(r);)r=wT(r,e);return r&&va(r)&&Sm(r)&&!sw(r)?n:r||PW(t)||n}const t8=async function(t){const e=this.getOffsetParent||pk,n=this.getDimensions,r=await n(t.floating);return{reference:e8(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function n8(t){return Yn(t).direction==="rtl"}const r8={convertOffsetParentRelativeRectToViewportRelativeRect:qW,getDocumentElement:Qr,getClippingRect:JW,getOffsetParent:pk,getElementRects:t8,getClientRects:KW,getDimensions:ZW,getScale:Ko,isElement:jt,isRTL:n8};function i8(t,e){let n=null,r;const i=Qr(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:u,top:d,width:h,height:f}=t.getBoundingClientRect();if(a||e(),!h||!f)return;const m=gd(d),y=gd(i.clientWidth-(u+h)),T=gd(i.clientHeight-(d+f)),S=gd(u),x={rootMargin:-m+"px "+-y+"px "+-T+"px "+-S+"px",threshold:rn(0,gi(1,l))||1};let E=!0;function R(O){const A=O[0].intersectionRatio;if(A!==l){if(!E)return o();A?o(!1,A):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E=!1}try{n=new IntersectionObserver(R,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(R,x)}n.observe(t)}return o(!0),s}function s8(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=aw(t),d=i||s?[...u?Ku(u):[],...Ku(e)]:[];d.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const h=u&&a?i8(u,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(b=>{let[x]=b;x&&x.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var E;(E=m)==null||E.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let y,T=l?Ks(t):null;l&&S();function S(){const b=Ks(t);T&&(b.x!==T.x||b.y!==T.y||b.width!==T.width||b.height!==T.height)&&n(),T=b,y=requestAnimationFrame(S)}return n(),()=>{var b;d.forEach(x=>{i&&x.removeEventListener("scroll",n),s&&x.removeEventListener("resize",n)}),h==null||h(),(b=m)==null||b.disconnect(),m=null,l&&cancelAnimationFrame(y)}}const bm=rp,o8=BW,a8=UW,l8=FW,u8=zW,c8=(t,e,n)=>{const r=new Map,i={platform:r8,...n},s={...i.platform,_c:r};return VW(t,e,{...i,platform:s})};var Ud=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Zh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Zh(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Zh(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function mk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function _T(t,e){const n=mk(t);return Math.round(e*n)/n}function ET(t){const e=v.useRef(t);return Ud(()=>{e.current=t}),e}function d8(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,h]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=v.useState(r);Zh(f,r)||m(r);const[y,T]=v.useState(null),[S,b]=v.useState(null),x=v.useCallback(F=>{F!==A.current&&(A.current=F,T(F))},[]),E=v.useCallback(F=>{F!==_.current&&(_.current=F,b(F))},[]),R=s||y,O=o||S,A=v.useRef(null),_=v.useRef(null),w=v.useRef(d),I=l!=null,P=ET(l),N=ET(i),M=v.useCallback(()=>{if(!A.current||!_.current)return;const F={placement:e,strategy:n,middleware:f};N.current&&(F.platform=N.current),c8(A.current,_.current,F).then(V=>{const $={...V,isPositioned:!0};D.current&&!Zh(w.current,$)&&(w.current=$,Xt.flushSync(()=>{h($)}))})},[f,e,n,N]);Ud(()=>{u===!1&&w.current.isPositioned&&(w.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[u]);const D=v.useRef(!1);Ud(()=>(D.current=!0,()=>{D.current=!1}),[]),Ud(()=>{if(R&&(A.current=R),O&&(_.current=O),R&&O){if(P.current)return P.current(R,O,M);M()}},[R,O,M,P,I]);const H=v.useMemo(()=>({reference:A,floating:_,setReference:x,setFloating:E}),[x,E]),J=v.useMemo(()=>({reference:R,floating:O}),[R,O]),Q=v.useMemo(()=>{const F={position:n,left:0,top:0};if(!J.floating)return F;const V=_T(J.floating,d.x),$=_T(J.floating,d.y);return a?{...F,transform:"translate("+V+"px, "+$+"px)",...mk(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:$}},[n,a,J.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:M,refs:H,elements:J,floatingStyles:Q}),[d,M,H,J,Q])}const gk=(t,e)=>({...o8(t),options:[t,e]}),h8=(t,e)=>({...a8(t),options:[t,e]}),f8=(t,e)=>({...l8(t),options:[t,e]}),p8=(t,e)=>({...u8(t),options:[t,e]}),vk={...Hd},m8=vk.useInsertionEffect,g8=m8||(t=>t());function yk(t){const e=v.useRef(()=>{});return g8(()=>{e.current=t}),v.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var _v=typeof document<"u"?v.useLayoutEffect:v.useEffect;let xT=!1,v8=0;const TT=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+v8++;function y8(){const[t,e]=v.useState(()=>xT?TT():void 0);return _v(()=>{t==null&&e(TT())},[]),v.useEffect(()=>{xT=!0},[]),t}const w8=vk.useId,_8=w8||y8;function E8(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const x8=v.createContext(null),T8=v.createContext(null),C8=()=>{var t;return((t=v.useContext(x8))==null?void 0:t.id)||null},S8=()=>v.useContext(T8),b8="data-floating-ui-focusable";function I8(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=_8(),s=v.useRef({}),[o]=v.useState(()=>E8()),a=C8()!=null,[l,u]=v.useState(r.reference),d=yk((m,y,T)=>{s.current.openEvent=m?y:void 0,o.emit("openchange",{open:m,event:y,reason:T,nested:a}),n==null||n(m,y,T)}),h=v.useMemo(()=>({setPositionReference:u}),[]),f=v.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return v.useMemo(()=>({dataRef:s,open:e,onOpenChange:d,elements:f,events:o,floatingId:i,refs:h}),[e,d,f,o,i,h])}function P8(t){t===void 0&&(t={});const{nodeId:e}=t,n=I8({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=v.useState(null),[a,l]=v.useState(null),d=(i==null?void 0:i.reference)||s,h=v.useRef(null),f=S8();_v(()=>{d&&(h.current=d)},[d]);const m=d8({...t,elements:{...i,...a&&{reference:a}}}),y=v.useCallback(E=>{const R=jt(E)?{getBoundingClientRect:()=>E.getBoundingClientRect(),contextElement:E}:E;l(R),m.refs.setReference(R)},[m.refs]),T=v.useCallback(E=>{(jt(E)||E===null)&&(h.current=E,o(E)),(jt(m.refs.reference.current)||m.refs.reference.current===null||E!==null&&!jt(E))&&m.refs.setReference(E)},[m.refs]),S=v.useMemo(()=>({...m.refs,setReference:T,setPositionReference:y,domReference:h}),[m.refs,T,y]),b=v.useMemo(()=>({...m.elements,domReference:d}),[m.elements,d]),x=v.useMemo(()=>({...m,...r,refs:S,elements:b,nodeId:e}),[m,S,b,e,r]);return _v(()=>{r.dataRef.current.floatingContext=x;const E=f==null?void 0:f.nodesRef.current.find(R=>R.id===e);E&&(E.context=x)}),v.useMemo(()=>({...m,context:x,refs:S,elements:b}),[m,S,b,x])}const CT="active",ST="selected";function Im(t,e,n){const r=new Map,i=n==="item";let s=t;if(i&&t){const{[CT]:o,[ST]:a,...l}=t;s=l}return{...n==="floating"&&{tabIndex:-1,[b8]:""},...s,...e.map(o=>{const a=o?o[n]:null;return typeof a=="function"?t?a(t):null:a}).concat(t).reduce((o,a)=>(a&&Object.entries(a).forEach(l=>{let[u,d]=l;if(!(i&&[CT,ST].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof d=="function"){var h;(h=r.get(u))==null||h.push(d),o[u]=function(){for(var f,m=arguments.length,y=new Array(m),T=0;T<m;T++)y[T]=arguments[T];return(f=r.get(u))==null?void 0:f.map(S=>S(...y)).find(S=>S!==void 0)}}}else o[u]=d}),o),{})}}function R8(t){t===void 0&&(t=[]);const e=t.map(a=>a==null?void 0:a.reference),n=t.map(a=>a==null?void 0:a.floating),r=t.map(a=>a==null?void 0:a.item),i=v.useCallback(a=>Im(a,t,"reference"),e),s=v.useCallback(a=>Im(a,t,"floating"),n),o=v.useCallback(a=>Im(a,t,"item"),r);return v.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}function bT(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const A8=t=>({name:"inner",options:t,async fn(e){const{listRef:n,overflowRef:r,onFallbackChange:i,offset:s=0,index:o=0,minItemsVisible:a=4,referenceOverflowThreshold:l=0,scrollRef:u,...d}=Va(t,e),{rects:h,elements:{floating:f}}=e,m=n.current[o],y=(u==null?void 0:u.current)||f,T=f.clientTop||y.clientTop,S=f.clientTop!==0,b=y.clientTop!==0,x=f===y;if(!m)return{};const E={...e,...await gk(-m.offsetTop-f.clientTop-h.reference.height/2-m.offsetHeight/2-s).fn(e)},R=await bm(bT(E,y.scrollHeight+T+f.clientTop),d),O=await bm(E,{...d,elementContext:"reference"}),A=Math.max(0,R.top),_=E.y+A,w=Math.max(0,y.scrollHeight+(S&&x||b?T*2:0)-A-Math.max(0,R.bottom));return y.style.maxHeight=w+"px",y.scrollTop=A,i&&(y.offsetHeight<m.offsetHeight*Math.min(a,n.current.length-1)-1||O.top>=-l||O.bottom>=-l?Xt.flushSync(()=>i(!0)):Xt.flushSync(()=>i(!1))),r&&(r.current=await bm(bT({...E,y:_},y.offsetHeight+T+f.clientTop),d)),{y:_}}});function k8(t,e){const{open:n,elements:r}=t,{enabled:i=!0,overflowRef:s,scrollRef:o,onChange:a}=e,l=yk(a),u=v.useRef(!1),d=v.useRef(null),h=v.useRef(null);v.useEffect(()=>{if(!i)return;function m(T){if(T.ctrlKey||!y||s.current==null)return;const S=T.deltaY,b=s.current.top>=-.5,x=s.current.bottom>=-.5,E=y.scrollHeight-y.clientHeight,R=S<0?-1:1,O=S<0?"max":"min";y.scrollHeight<=y.clientHeight||(!b&&S>0||!x&&S<0?(T.preventDefault(),Xt.flushSync(()=>{l(A=>A+Math[O](S,E*R))})):/firefox/i.test(RW())&&(y.scrollTop+=S))}const y=(o==null?void 0:o.current)||r.floating;if(n&&y)return y.addEventListener("wheel",m),requestAnimationFrame(()=>{d.current=y.scrollTop,s.current!=null&&(h.current={...s.current})}),()=>{d.current=null,h.current=null,y.removeEventListener("wheel",m)}},[i,n,r.floating,s,o,l]);const f=v.useMemo(()=>({onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){const m=(o==null?void 0:o.current)||r.floating;if(!(!s.current||!m||!u.current)){if(d.current!==null){const y=m.scrollTop-d.current;(s.current.bottom<-.5&&y<-1||s.current.top<-.5&&y>1)&&Xt.flushSync(()=>l(T=>T+y))}requestAnimationFrame(()=>{d.current=m.scrollTop})}}}),[r.floating,l,s,o]);return v.useMemo(()=>i?{floating:f}:{},[i,f])}let Fa=v.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Fa.displayName="FloatingContext";let lw=v.createContext(null);lw.displayName="PlacementContext";function N8(t){return v.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function D8(){return v.useContext(Fa).setReference}function O8(){return v.useContext(Fa).getReferenceProps}function M8(){let{getFloatingProps:t,slot:e}=v.useContext(Fa);return v.useCallback((...n)=>Object.assign({},t(...n),{"data-anchor":e.anchor}),[t,e])}function L8(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=v.useContext(lw),n=v.useMemo(()=>t,[JSON.stringify(t,typeof HTMLElement<"u"?(i,s)=>s instanceof HTMLElement?s.outerHTML:s:void 0)]);et(()=>{e==null||e(n??null)},[e,n]);let r=v.useContext(Fa);return v.useMemo(()=>[r.setFloating,t?r.styles:{}],[r.setFloating,t,r.styles])}let IT=4;function j8({children:t,enabled:e=!0}){let[n,r]=v.useState(null),[i,s]=v.useState(0),o=v.useRef(null),[a,l]=v.useState(null);V8(a);let u=e&&n!==null&&a!==null,{to:d="bottom",gap:h=0,offset:f=0,padding:m=0,inner:y}=F8(n,a),[T,S="center"]=d.split(" ");et(()=>{u&&s(0)},[u]);let{refs:b,floatingStyles:x,context:E}=P8({open:u,placement:T==="selection"?S==="center"?"bottom":`bottom-${S}`:S==="center"?`${T}`:`${T}-${S}`,strategy:"absolute",transform:!1,middleware:[gk({mainAxis:T==="selection"?0:h,crossAxis:f}),h8({padding:m}),T!=="selection"&&f8({padding:m}),T==="selection"&&y?A8({...y,padding:m,overflowRef:o,offset:i,minItemsVisible:IT,referenceOverflowThreshold:m,onFallbackChange(N){var M,D;if(!N)return;let H=E.elements.floating;if(!H)return;let J=parseFloat(getComputedStyle(H).scrollPaddingBottom)||0,Q=Math.min(IT,H.childElementCount),F=0,V=0;for(let $ of(D=(M=E.elements.floating)==null?void 0:M.childNodes)!=null?D:[])if($ instanceof HTMLElement){let G=$.offsetTop,q=G+$.clientHeight+J,te=H.scrollTop,le=te+H.clientHeight;if(G>=te&&q<=le)Q--;else{V=Math.max(0,Math.min(q,le)-Math.max(G,te)),F=$.clientHeight;break}}Q>=1&&s($=>{let G=F*Q-V+J;return $>=G?$:G})}}):null,p8({padding:m,apply({availableWidth:N,availableHeight:M,elements:D}){Object.assign(D.floating.style,{overflow:"auto",maxWidth:`${N}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${M}px)`})}})].filter(Boolean),whileElementsMounted:s8}),[R=T,O=S]=E.placement.split("-");T==="selection"&&(R="selection");let A=v.useMemo(()=>({anchor:[R,O].filter(Boolean).join(" ")}),[R,O]),_=k8(E,{overflowRef:o,onChange:s}),{getReferenceProps:w,getFloatingProps:I}=R8([_]),P=_e(N=>{l(N),b.setFloating(N)});return v.createElement(lw.Provider,{value:r},v.createElement(Fa.Provider,{value:{setFloating:P,setReference:b.setReference,styles:x,getReferenceProps:w,getFloatingProps:I,slot:A}},t))}function V8(t){et(()=>{if(!t)return;let e=new MutationObserver(()=>{let n=window.getComputedStyle(t).maxHeight,r=parseFloat(n);if(isNaN(r))return;let i=parseInt(n);isNaN(i)||r!==i&&(t.style.maxHeight=`${Math.ceil(r)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function F8(t,e){var n,r,i;let s=Pm((n=t==null?void 0:t.gap)!=null?n:"var(--anchor-gap, 0)",e),o=Pm((r=t==null?void 0:t.offset)!=null?r:"var(--anchor-offset, 0)",e),a=Pm((i=t==null?void 0:t.padding)!=null?i:"var(--anchor-padding, 0)",e);return{...t,gap:s,offset:o,padding:a}}function Pm(t,e,n=void 0){let r=Zf(),i=_e((l,u)=>{if(l==null)return[n,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!u)return[n,null];let d=PT(l,u);return[d,h=>{let f=wk(l);{let m=f.map(y=>window.getComputedStyle(u).getPropertyValue(y));r.requestAnimationFrame(function y(){r.nextFrame(y);let T=!1;for(let[b,x]of f.entries()){let E=window.getComputedStyle(u).getPropertyValue(x);if(m[b]!==E){m[b]=E,T=!0;break}}if(!T)return;let S=PT(l,u);d!==S&&(h(S),d=S)})}return r.dispose}]}return[n,null]}),s=v.useMemo(()=>i(t,e)[0],[t,e]),[o=s,a]=v.useState();return et(()=>{let[l,u]=i(t,e);if(a(l),!!u)return u(a)},[t,e]),o}function wk(t){let e=/var\((.*)\)/.exec(t);if(e){let n=e[1].indexOf(",");if(n===-1)return[e[1]];let r=e[1].slice(0,n).trim(),i=e[1].slice(n+1).trim();return i?[r,...wk(i)]:[r]}return[]}function PT(t,e){let n=document.createElement("div");e.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",t,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return e.removeChild(n),r}let ip=v.createContext(null);ip.displayName="OpenClosedContext";var Hr=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Hr||{});function _k(){return v.useContext(ip)}function Ek({value:t,children:e}){return W.createElement(ip.Provider,{value:t},e)}function $8({children:t}){return W.createElement(ip.Provider,{value:null},t)}function B8(t){throw new Error("Unexpected object: "+t)}var At=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(At||{});function Rm(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),i=r??-1;switch(t.focus){case 0:{for(let s=0;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 1:{i===-1&&(i=n.length);for(let s=i-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 2:{for(let s=i+1;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 3:{for(let s=n.length-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 4:{for(let s=0;s<n.length;++s)if(e.resolveId(n[s],s,n)===t.id)return s;return r}case 5:return null;default:B8(t)}}function U8(t){let e=_e(t),n=v.useRef(!1);v.useEffect(()=>(n.current=!1,()=>{n.current=!0,$A(()=>{n.current&&e()})}),[e])}function z8(){let t=typeof document>"u";return"useSyncExternalStore"in Hd?(e=>e.useSyncExternalStore)(Hd)(()=>()=>{},()=>!1,()=>!t):!1}function H8(){let t=z8(),[e,n]=v.useState(As.isHandoffComplete);return e&&As.isHandoffComplete===!1&&n(!1),v.useEffect(()=>{e!==!0&&n(!0)},[e]),v.useEffect(()=>As.handoff(),[]),t?!1:e}let W8=v.createContext(!1);function q8(){return v.useContext(W8)}function K8(t){let e=q8(),n=v.useContext(Tk),r=iw(t),[i,s]=v.useState(()=>{var o;if(!e&&n!==null)return(o=n.current)!=null?o:null;if(As.isServer)return null;let a=r==null?void 0:r.getElementById("headlessui-portal-root");if(a)return a;if(r===null)return null;let l=r.createElement("div");return l.setAttribute("id","headlessui-portal-root"),r.body.appendChild(l)});return v.useEffect(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),v.useEffect(()=>{e||n!==null&&s(n.current)},[n,s,e]),i}let xk=v.Fragment,G8=Ht(function(t,e){let n=t,r=v.useRef(null),i=Dn(KA(d=>{r.current=d}),e),s=iw(r),o=K8(r),[a]=v.useState(()=>{var d;return As.isServer?null:(d=s==null?void 0:s.createElement("div"))!=null?d:null}),l=v.useContext(J8),u=H8();return et(()=>{!o||!a||o.contains(a)||(a.setAttribute("data-headlessui-portal",""),o.appendChild(a))},[o,a]),et(()=>{if(a&&l)return l.register(a)},[l,a]),U8(()=>{var d;!o||!a||(a instanceof Node&&o.contains(a)&&o.removeChild(a),o.childNodes.length<=0&&((d=o.parentElement)==null||d.removeChild(o)))}),u?!o||!a?null:Xt.createPortal(zt({ourProps:{ref:i},theirProps:n,slot:{},defaultTag:xk,name:"Portal"}),a):null});function Q8(t,e){let n=Dn(e),{enabled:r=!0,...i}=t;return r?W.createElement(G8,{...i,ref:n}):zt({ourProps:{ref:n},theirProps:i,slot:{},defaultTag:xk,name:"Portal"})}let Y8=v.Fragment,Tk=v.createContext(null);function X8(t,e){let{target:n,...r}=t,i={ref:Dn(e)};return W.createElement(Tk.Provider,{value:n},zt({ourProps:i,theirProps:r,defaultTag:Y8,name:"Popover.Group"}))}let J8=v.createContext(null),Z8=Ht(Q8),eq=Ht(X8),tq=Object.assign(Z8,{Group:eq});var RT;let nq=(RT=W.startTransition)!=null?RT:function(t){t()};var rq=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(rq||{}),iq=(t=>(t[t.ToggleDisclosure=0]="ToggleDisclosure",t[t.CloseDisclosure=1]="CloseDisclosure",t[t.SetButtonId=2]="SetButtonId",t[t.SetPanelId=3]="SetPanelId",t[t.SetButtonElement=4]="SetButtonElement",t[t.SetPanelElement=5]="SetPanelElement",t))(iq||{});let sq={0:t=>({...t,disclosureState:ns(t.disclosureState,{0:1,1:0})}),1:t=>t.disclosureState===1?t:{...t,disclosureState:1},2(t,e){return t.buttonId===e.buttonId?t:{...t,buttonId:e.buttonId}},3(t,e){return t.panelId===e.panelId?t:{...t,panelId:e.panelId}},4(t,e){return t.buttonElement===e.element?t:{...t,buttonElement:e.element}},5(t,e){return t.panelElement===e.element?t:{...t,panelElement:e.element}}},uw=v.createContext(null);uw.displayName="DisclosureContext";function cw(t){let e=v.useContext(uw);if(e===null){let n=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,cw),n}return e}let dw=v.createContext(null);dw.displayName="DisclosureAPIContext";function Ck(t){let e=v.useContext(dw);if(e===null){let n=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ck),n}return e}let hw=v.createContext(null);hw.displayName="DisclosurePanelContext";function oq(){return v.useContext(hw)}function aq(t,e){return ns(e.type,sq,t,e)}let lq=v.Fragment;function uq(t,e){let{defaultOpen:n=!1,...r}=t,i=v.useRef(null),s=Dn(e,KA(y=>{i.current=y},t.as===void 0||t.as===v.Fragment)),o=v.useReducer(aq,{disclosureState:n?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:a,buttonId:l},u]=o,d=_e(y=>{u({type:1});let T=so(i);if(!T||!l)return;let S=y?y instanceof HTMLElement?y:y.current instanceof HTMLElement?y.current:T.getElementById(l):T.getElementById(l);S==null||S.focus()}),h=v.useMemo(()=>({close:d}),[d]),f=v.useMemo(()=>({open:a===0,close:d}),[a,d]),m={ref:s};return W.createElement(uw.Provider,{value:o},W.createElement(dw.Provider,{value:h},W.createElement(KH,{value:d},W.createElement(Ek,{value:ns(a,{0:Hr.Open,1:Hr.Closed})},zt({ourProps:m,theirProps:r,slot:f,defaultTag:lq,name:"Disclosure"})))))}let cq="button";function dq(t,e){let n=v.useId(),{id:r=`headlessui-disclosure-button-${n}`,disabled:i=!1,autoFocus:s=!1,...o}=t,[a,l]=cw("Disclosure.Button"),u=oq(),d=u===null?!1:u===a.panelId,h=v.useRef(null),f=Dn(h,e,d?null:_e(P=>l({type:4,element:P}))),m=zA();v.useEffect(()=>{if(!d)return l({type:2,buttonId:r}),()=>{l({type:2,buttonId:null})}},[r,l,d]);let y=_e(P=>{var N;if(d){if(a.disclosureState===1)return;switch(P.key){case $e.Space:case $e.Enter:P.preventDefault(),P.stopPropagation(),l({type:0}),(N=a.buttonElement)==null||N.focus();break}}else switch(P.key){case $e.Space:case $e.Enter:P.preventDefault(),P.stopPropagation(),l({type:0});break}}),T=_e(P=>{switch(P.key){case $e.Space:P.preventDefault();break}}),S=_e(P=>{var N;WA(P.currentTarget)||i||(d?(l({type:0}),(N=a.buttonElement)==null||N.focus()):l({type:0}))}),{isFocusVisible:b,focusProps:x}=FA({autoFocus:s}),{isHovered:E,hoverProps:R}=VA({isDisabled:i}),{pressed:O,pressProps:A}=BA({disabled:i}),_=v.useMemo(()=>({open:a.disclosureState===0,hover:E,active:O,disabled:i,focus:b,autofocus:s}),[a,E,O,b,i,s]),w=nk(t,a.buttonElement),I=Qh(d?{ref:f,type:w,disabled:i||void 0,autoFocus:s,onKeyDown:y,onClick:S}:{ref:f,id:r,type:w,"aria-expanded":a.disclosureState===0,"aria-controls":a.panelElement?a.panelId:void 0,disabled:i||void 0,autoFocus:s,onKeyDown:y,onKeyUp:T,onClick:S},x,R,A);return zt({mergeRefs:m,ourProps:I,theirProps:o,slot:_,defaultTag:cq,name:"Disclosure.Button"})}let hq="div",fq=qu.RenderStrategy|qu.Static;function pq(t,e){let n=v.useId(),{id:r=`headlessui-disclosure-panel-${n}`,transition:i=!1,...s}=t,[o,a]=cw("Disclosure.Panel"),{close:l}=Ck("Disclosure.Panel"),u=zA(),[d,h]=v.useState(null),f=Dn(e,_e(x=>{nq(()=>a({type:5,element:x}))}),h);v.useEffect(()=>(a({type:3,panelId:r}),()=>{a({type:3,panelId:null})}),[r,a]);let m=_k(),[y,T]=ik(i,d,m!==null?(m&Hr.Open)===Hr.Open:o.disclosureState===0),S=v.useMemo(()=>({open:o.disclosureState===0,close:l}),[o.disclosureState,l]),b={ref:f,id:r,...rk(T)};return W.createElement($8,null,W.createElement(hw.Provider,{value:o.panelId},zt({mergeRefs:u,ourProps:b,theirProps:s,slot:S,defaultTag:hq,features:fq,visible:y,name:"Disclosure.Panel"})))}let mq=Ht(uq),gq=Ht(dq),vq=Ht(pq),yq=Object.assign(mq,{Button:gq,Panel:vq});function wq(t,e){let n=v.useRef({left:0,top:0});if(et(()=>{if(!e)return;let i=e.getBoundingClientRect();i&&(n.current=i)},[t,e]),e==null||!t||e===document.activeElement)return!1;let r=e.getBoundingClientRect();return r.top!==n.current.top||r.left!==n.current.left}let AT=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function kT(t){var e,n;let r=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let s=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(n=i.innerText)!=null?n:"":r;return AT.test(o)&&(o=o.replace(AT,"")),o}function _q(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let s=document.getElementById(i);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():kT(s).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return kT(t).trim()}function Eq(t){let e=v.useRef(""),n=v.useRef("");return _e(()=>{let r=t.current;if(!r)return"";let i=r.innerText;if(e.current===i)return n.current;let s=_q(r).trim().toLowerCase();return e.current=i,n.current=s,s})}var xq=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(xq||{}),Tq=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(Tq||{}),Cq=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItem=5]="RegisterItem",t[t.UnregisterItem=6]="UnregisterItem",t[t.SetButtonElement=7]="SetButtonElement",t[t.SetItemsElement=8]="SetItemsElement",t))(Cq||{});function Am(t,e=n=>n){let n=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,r=ek(e(t.items.slice()),s=>s.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let Sq={1(t){return t.menuState===1?t:{...t,activeItemIndex:null,menuState:1}},0(t){return t.menuState===0?t:{...t,__demoMode:!1,menuState:0}},2:(t,e)=>{var n,r,i,s,o;if(t.menuState===1)return t;let a={...t,searchQuery:"",activationTrigger:(n=e.trigger)!=null?n:1,__demoMode:!1};if(e.focus===At.Nothing)return{...a,activeItemIndex:null};if(e.focus===At.Specific)return{...a,activeItemIndex:t.items.findIndex(d=>d.id===e.id)};if(e.focus===At.Previous){let d=t.activeItemIndex;if(d!==null){let h=t.items[d].dataRef.current.domRef,f=Rm(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.current.disabled});if(f!==null){let m=t.items[f].dataRef.current.domRef;if(((r=h.current)==null?void 0:r.previousElementSibling)===m.current||((i=m.current)==null?void 0:i.previousElementSibling)===null)return{...a,activeItemIndex:f}}}}else if(e.focus===At.Next){let d=t.activeItemIndex;if(d!==null){let h=t.items[d].dataRef.current.domRef,f=Rm(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.current.disabled});if(f!==null){let m=t.items[f].dataRef.current.domRef;if(((s=h.current)==null?void 0:s.nextElementSibling)===m.current||((o=m.current)==null?void 0:o.nextElementSibling)===null)return{...a,activeItemIndex:f}}}}let l=Am(t),u=Rm(e,{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled});return{...a,...l,activeItemIndex:u}},3:(t,e)=>{let n=t.searchQuery!==""?0:1,r=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+n).concat(t.items.slice(0,t.activeItemIndex+n)):t.items).find(o=>{var a;return((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(r))&&!o.dataRef.current.disabled}),s=i?t.items.indexOf(i):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:r}:{...t,searchQuery:r,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let n=Am(t,r=>[...r,{id:e.id,dataRef:e.dataRef}]);return{...t,...n}},6:(t,e)=>{let n=Am(t,r=>{let i=r.findIndex(s=>s.id===e.id);return i!==-1&&r.splice(i,1),r});return{...t,...n,activationTrigger:1}},7:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},8:(t,e)=>t.itemsElement===e.element?t:{...t,itemsElement:e.element}},fw=v.createContext(null);fw.displayName="MenuContext";function sp(t){let e=v.useContext(fw);if(e===null){let n=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,sp),n}return e}function bq(t,e){return ns(e.type,Sq,t,e)}let Iq=v.Fragment;function Pq(t,e){let{__demoMode:n=!1,...r}=t,i=v.useReducer(bq,{__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsElement:o,buttonElement:a},l]=i,u=Dn(e);fW(s===0,[a,o],(m,y)=>{l({type:1}),rw(y,nw.Loose)||(m.preventDefault(),a==null||a.focus())});let d=_e(()=>{l({type:1})}),h=v.useMemo(()=>({open:s===0,close:d}),[s,d]),f={ref:u};return W.createElement(j8,null,W.createElement(fw.Provider,{value:i},W.createElement(Ek,{value:ns(s,{0:Hr.Open,1:Hr.Closed})},zt({ourProps:f,theirProps:r,slot:h,defaultTag:Iq,name:"Menu"}))))}let Rq="button";function Aq(t,e){var n;let r=v.useId(),{id:i=`headlessui-menu-button-${r}`,disabled:s=!1,autoFocus:o=!1,...a}=t,[l,u]=sp("Menu.Button"),d=O8(),h=Dn(e,D8(),_e(_=>u({type:7,element:_}))),f=_e(_=>{switch(_.key){case $e.Space:case $e.Enter:case $e.ArrowDown:_.preventDefault(),_.stopPropagation(),Xt.flushSync(()=>u({type:0})),u({type:2,focus:At.First});break;case $e.ArrowUp:_.preventDefault(),_.stopPropagation(),Xt.flushSync(()=>u({type:0})),u({type:2,focus:At.Last});break}}),m=_e(_=>{switch(_.key){case $e.Space:_.preventDefault();break}}),y=_e(_=>{var w;if(WA(_.currentTarget))return _.preventDefault();s||(l.menuState===0?(Xt.flushSync(()=>u({type:1})),(w=l.buttonElement)==null||w.focus({preventScroll:!0})):(_.preventDefault(),u({type:0})))}),{isFocusVisible:T,focusProps:S}=FA({autoFocus:o}),{isHovered:b,hoverProps:x}=VA({isDisabled:s}),{pressed:E,pressProps:R}=BA({disabled:s}),O=v.useMemo(()=>({open:l.menuState===0,active:E||l.menuState===0,disabled:s,hover:b,focus:T,autofocus:o}),[l,b,T,E,s,o]),A=Qh(d(),{ref:h,id:i,type:nk(t,l.buttonElement),"aria-haspopup":"menu","aria-controls":(n=l.itemsElement)==null?void 0:n.id,"aria-expanded":l.menuState===0,disabled:s||void 0,autoFocus:o,onKeyDown:f,onKeyUp:m,onClick:y},S,x,R);return zt({ourProps:A,theirProps:a,slot:O,defaultTag:Rq,name:"Menu.Button"})}let kq="div",Nq=qu.RenderStrategy|qu.Static;function Dq(t,e){var n,r;let i=v.useId(),{id:s=`headlessui-menu-items-${i}`,anchor:o,portal:a=!1,modal:l=!0,transition:u=!1,...d}=t,h=N8(o),[f,m]=sp("Menu.Items"),[y,T]=L8(h),S=M8(),[b,x]=v.useState(null),E=Dn(e,h?y:null,_e(F=>m({type:8,element:F})),x),R=iw(f.itemsElement);h&&(a=!0);let O=_k(),[A,_]=ik(u,b,O!==null?(O&Hr.Open)===Hr.Open:f.menuState===0);ZH(A,f.buttonElement,()=>{m({type:1})});let w=f.__demoMode?!1:l&&f.menuState===0;wW(w,R);let I=f.__demoMode?!1:l&&f.menuState===0;JH(I,{allowed:v.useCallback(()=>[f.buttonElement,f.itemsElement],[f.buttonElement,f.itemsElement])});let P=f.menuState!==0,N=wq(P,f.buttonElement)?!1:A;v.useEffect(()=>{let F=f.itemsElement;F&&f.menuState===0&&F!==(R==null?void 0:R.activeElement)&&F.focus({preventScroll:!0})},[f.menuState,f.itemsElement,R]),bW(f.menuState===0,{container:f.itemsElement,accept(F){return F.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:F.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(F){F.setAttribute("role","none")}});let M=Zf(),D=_e(F=>{var V,$,G;switch(M.dispose(),F.key){case $e.Space:if(f.searchQuery!=="")return F.preventDefault(),F.stopPropagation(),m({type:3,value:F.key});case $e.Enter:if(F.preventDefault(),F.stopPropagation(),m({type:1}),f.activeItemIndex!==null){let{dataRef:q}=f.items[f.activeItemIndex];($=(V=q.current)==null?void 0:V.domRef.current)==null||$.click()}ZA(f.buttonElement);break;case $e.ArrowDown:return F.preventDefault(),F.stopPropagation(),m({type:2,focus:At.Next});case $e.ArrowUp:return F.preventDefault(),F.stopPropagation(),m({type:2,focus:At.Previous});case $e.Home:case $e.PageUp:return F.preventDefault(),F.stopPropagation(),m({type:2,focus:At.First});case $e.End:case $e.PageDown:return F.preventDefault(),F.stopPropagation(),m({type:2,focus:At.Last});case $e.Escape:F.preventDefault(),F.stopPropagation(),Xt.flushSync(()=>m({type:1})),(G=f.buttonElement)==null||G.focus({preventScroll:!0});break;case $e.Tab:F.preventDefault(),F.stopPropagation(),Xt.flushSync(()=>m({type:1})),lW(f.buttonElement,F.shiftKey?vv.Previous:vv.Next);break;default:F.key.length===1&&(m({type:3,value:F.key}),M.setTimeout(()=>m({type:4}),350));break}}),H=_e(F=>{switch(F.key){case $e.Space:F.preventDefault();break}}),J=v.useMemo(()=>({open:f.menuState===0}),[f.menuState]),Q=Qh(h?S():{},{"aria-activedescendant":f.activeItemIndex===null||(n=f.items[f.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(r=f.buttonElement)==null?void 0:r.id,id:s,onKeyDown:D,onKeyUp:H,role:"menu",tabIndex:f.menuState===0?0:void 0,ref:E,style:{...d.style,...T,"--button-width":QH(f.buttonElement,!0).width},...rk(_)});return W.createElement(tq,{enabled:a?t.static||A:!1},zt({ourProps:Q,theirProps:d,slot:J,defaultTag:kq,features:Nq,visible:N,name:"Menu.Items"}))}let Oq=v.Fragment;function Mq(t,e){let n=v.useId(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...s}=t,[o,a]=sp("Menu.Item"),l=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===r:!1,u=v.useRef(null),d=Dn(e,u);et(()=>{if(!o.__demoMode&&o.menuState===0&&l&&o.activationTrigger!==0)return yr().requestAnimationFrame(()=>{var I,P;(P=(I=u.current)==null?void 0:I.scrollIntoView)==null||P.call(I,{block:"nearest"})})},[o.__demoMode,u,l,o.menuState,o.activationTrigger,o.activeItemIndex]);let h=Eq(u),f=v.useRef({disabled:i,domRef:u,get textValue(){return h()}});et(()=>{f.current.disabled=i},[f,i]),et(()=>(a({type:5,id:r,dataRef:f}),()=>a({type:6,id:r})),[f,r]);let m=_e(()=>{a({type:1})}),y=_e(I=>{if(i)return I.preventDefault();a({type:1}),ZA(o.buttonElement)}),T=_e(()=>{if(i)return a({type:2,focus:At.Nothing});a({type:2,focus:At.Specific,id:r})}),S=_W(),b=_e(I=>{S.update(I),!i&&(l||a({type:2,focus:At.Specific,id:r,trigger:0}))}),x=_e(I=>{S.wasMoved(I)&&(i||l||a({type:2,focus:At.Specific,id:r,trigger:0}))}),E=_e(I=>{S.wasMoved(I)&&(i||l&&a({type:2,focus:At.Nothing}))}),[R,O]=QA(),[A,_]=VH(),w=v.useMemo(()=>({active:l,focus:l,disabled:i,close:m}),[l,i,m]);return W.createElement(O,null,W.createElement(_,null,zt({ourProps:{id:r,ref:d,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":R,"aria-describedby":A,disabled:void 0,onClick:y,onFocus:T,onPointerEnter:b,onMouseEnter:b,onPointerMove:x,onMouseMove:x,onPointerLeave:E,onMouseLeave:E},theirProps:s,slot:w,defaultTag:Oq,name:"Menu.Item"})))}let Lq="div";function jq(t,e){let[n,r]=QA();return W.createElement(r,null,zt({ourProps:{ref:e,"aria-labelledby":n,role:"group"},theirProps:t,slot:{},defaultTag:Lq,name:"Menu.Section"}))}let Vq="header";function Fq(t,e){let n=v.useId(),{id:r=`headlessui-menu-heading-${n}`,...i}=t,s=ew();et(()=>s.register(r),[r,s.register]);let o={id:r,ref:e,role:"presentation",...s.props};return zt({ourProps:o,theirProps:i,slot:{},defaultTag:Vq,name:"Menu.Heading"})}let $q="div";function Bq(t,e){return zt({ourProps:{ref:e,role:"separator"},theirProps:t,slot:{},defaultTag:$q,name:"Menu.Separator"})}let Uq=Ht(Pq),Sk=Ht(Aq),bk=Ht(Dq),zd=Ht(Mq),zq=Ht(jq),Hq=Ht(Fq),Wq=Ht(Bq),qq=Object.assign(Uq,{Button:Sk,Items:bk,Item:zd,Section:zq,Heading:Hq,Separator:Wq});var Ik={exports:{}},Kq="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Gq=Kq,Qq=Gq;function Pk(){}function Rk(){}Rk.resetWarningCache=Pk;var Yq=function(){function t(r,i,s,o,a,l){if(l!==Qq){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Rk,resetWarningCache:Pk};return n.PropTypes=n,n};Ik.exports=Yq();var Xq=Ik.exports;const Y=nf(Xq),Jq="_logoContainer_1t0kg_1",Zq="_logo_1t0kg_1",NT={logoContainer:Jq,logo:Zq};function Ak({src:t,alt:e}){return p.jsx("div",{className:NT.logoContainer,children:p.jsx("img",{alt:e,src:t,className:NT.logo})})}Ak.propTypes={src:Y.string.isRequired,alt:Y.string.isRequired};var kk={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(kk);var eK=kk.exports;const Nk=nf(eK);function Dk({navigation:t,closeMenu:e}){return Ea(),p.jsx("div",{className:"hidden sm:flex items-center mr-[10rem]",children:p.jsx("div",{className:"flex space-x-4 items-center justify-center ",children:t.map(n=>p.jsx(ub,{to:n.to,end:n.to==="/dashboard",className:({isActive:r})=>Nk(r?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","rounded-md px-3 py-2 text-sm font-medium"),onClick:e,children:n.name},n.name))})})}Dk.propTypes={navigation:Y.arrayOf(Y.shape({name:Y.string.isRequired,to:Y.string.isRequired})).isRequired,closeMenu:Y.func.isRequired};var Ok={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},DT=W.createContext&&W.createContext(Ok),tK=["attr","size","title"];function nK(t,e){if(t==null)return{};var n=rK(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ef(){return ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ef.apply(this,arguments)}function OT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OT(Object(n),!0).forEach(function(r){iK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iK(t,e,n){return e=sK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sK(t){var e=oK(t,"string");return typeof e=="symbol"?e:e+""}function oK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mk(t){return t&&t.map((e,n)=>W.createElement(e.tag,tf({key:n},e.attr),Mk(e.child)))}function On(t){return e=>W.createElement(aK,ef({attr:tf({},t.attr)},e),Mk(t.child))}function aK(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=nK(t,tK),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),W.createElement("svg",ef({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:tf(tf({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&W.createElement("title",null,s),t.children)};return DT!==void 0?W.createElement(DT.Consumer,null,n=>e(n)):e(Ok)}function lK(t){return On({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 384c-28.02 0-31.26-32-74.5-32-43.43 0-46.825 32-74.75 32-27.695 0-31.454-32-74.75-32-42.842 0-47.218 32-74.5 32-28.148 0-31.202-32-74.75-32-43.547 0-46.653 32-74.75 32v-80c0-26.5 21.5-48 48-48h16V112h64v144h64V112h64v144h64V112h64v144h16c26.5 0 48 21.5 48 48v80zm0 128H0v-96c43.356 0 46.767-32 74.75-32 27.951 0 31.253 32 74.75 32 42.843 0 47.217-32 74.5-32 28.148 0 31.201 32 74.75 32 43.357 0 46.767-32 74.75-32 27.488 0 31.252 32 74.5 32v96zM96 96c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40zm128 0c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40zm128 0c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40z"},child:[]}]})(t)}function uK(t){return On({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M313.6 304c-28.7 0-42.5 16-89.6 16-47.1 0-60.8-16-89.6-16C60.2 304 0 364.2 0 438.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-25.6c0-74.2-60.2-134.4-134.4-134.4zM400 464H48v-25.6c0-47.6 38.8-86.4 86.4-86.4 14.6 0 38.3 16 89.6 16 51.7 0 74.9-16 89.6-16 47.6 0 86.4 38.8 86.4 86.4V464zM224 288c79.5 0 144-64.5 144-144S303.5 0 224 0 80 64.5 80 144s64.5 144 144 144zm0-240c52.9 0 96 43.1 96 96s-43.1 96-96 96-96-43.1-96-96 43.1-96 96-96z"},child:[]}]})(t)}function Lk(){return p.jsxs(qq,{as:"div",className:"relative ml-3",children:[p.jsx("div",{children:p.jsx(Sk,{className:"relative flex rounded-full bg-gray-800 text-sm focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800",children:p.jsx(uK,{className:"h-6 w-6 rounded-full text-gray-400 hover:text-white focus:outline-none"})})}),p.jsxs(bk,{className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5",children:[p.jsx(zd,{children:p.jsx("a",{href:"#",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Your Profile"})}),p.jsx(zd,{children:p.jsx("a",{href:"#",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Settings"})}),p.jsx(zd,{children:p.jsx("a",{href:"#",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Sign out"})})]})]})}Lk.propTypes={};function cK({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const dK=v.forwardRef(cK);function hK({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const fK=v.forwardRef(hK);function pK({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const mK=v.forwardRef(pK);function jk({onClick:t=()=>{}}){return p.jsxs("button",{type:"button",className:"relative rounded-full bg-gray-800 p-1 text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800",onClick:t,children:[p.jsx("span",{className:"sr-only",children:"View notifications"}),p.jsx(fK,{className:"h-6 w-6","aria-hidden":"true"})]})}jk.propTypes={onClick:Y.func};const gK="_menuButton_uyits_1",vK="_profileButton_uyits_9",MT={menuButton:gK,profileButton:vK};function Vk({isOpen:t,toggleMenu:e,navigation:n,closeMenu:r}){const i=v.useRef(null);return v.useEffect(()=>{const s=o=>{i.current&&!i.current.contains(o.target)&&r()};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[r]),p.jsxs("div",{className:`${MT.menuButton} sm:hidden relative`,children:[p.jsxs("button",{className:MT.profileButton,onClick:e,"aria-expanded":t,children:[p.jsx("span",{className:"sr-only",children:"Open main menu"}),t?p.jsx(mK,{className:"block h-6 w-6","aria-hidden":"true"}):p.jsx(dK,{className:"block h-6 w-6","aria-hidden":"true"})]}),t&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"fixed inset-0 z-40",onClick:r}),p.jsx("div",{ref:i,className:"fixed inset-0 w-full h-[11rem] bg-gray-800 bg-opacity-90 top-[7rem] left-0 z-50",children:p.jsx("div",{className:"space-y-1 px-2 pb-5 pt-5 flex items-center flex-col",children:n.map(s=>p.jsx(ub,{to:s.to,end:s.to==="/dashboard",className:({isActive:o})=>Nk(o?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","rounded-md px-3 py-2 text-sm font-medium"),onClick:r,children:s.name},s.name))})})]})]})}Vk.propTypes={isOpen:Y.bool.isRequired,toggleMenu:Y.func.isRequired,navigation:Y.array.isRequired,closeMenu:Y.func.isRequired};const yK="_nav_1noy4_1",wK="_navContainer_1noy4_18",LT={nav:yK,navContainer:wK},jT=[{name:"Home",to:"/dashboard"},{name:"About",to:"/dashboard/about"},{name:"Calendar",to:"/dashboard/calendar"}];function _K(){const[t,e]=v.useState(!1),n=()=>{e(!t)},r=()=>{e(!1)};return p.jsx(yq,{as:"nav",className:LT.nav,children:p.jsx("div",{children:p.jsxs("div",{className:LT.navContainer,children:[p.jsx(Vk,{isOpen:t,toggleMenu:n,navigation:jT,closeMenu:r}),p.jsx(Ak,{src:"/GreyLogo1.svg",alt:"Your Company"}),p.jsx(Dk,{navigation:jT,closeMenu:r}),p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsx(jk,{}),p.jsx(Lk,{})]})]})})})}const EK=()=>p.jsx("footer",{className:"bg-gray-800 text-white p-4 text-center",children:p.jsx("p",{children:"© 2023 My App. All rights reserved."})});function xK(t){return On({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(t)}function TK(t){return On({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function CK(t){return On({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function SK(t){return On({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function bK(t){return On({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M22 16v-2l-8.5-5V3.5c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5V9L2 14v2l8.5-2.5V19L8 20.5V22l4-1 4 1v-1.5L13.5 19v-5.5L22 16z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]}]})(t)}function IK(t){return On({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM7.5 16c-.83 0-1.5-.67-1.5-1.5S6.67 13 7.5 13s1.5.67 1.5 1.5S8.33 16 7.5 16zm9 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5.81 10l1.04-3h10.29l1.04 3H5.81z"},child:[]}]})(t)}function PK(t){return On({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"circle",attr:{cx:"4.5",cy:"9.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"9",cy:"5.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"15",cy:"5.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"19.5",cy:"9.5",r:"2.5"},child:[]},{tag:"path",attr:{d:"M17.34 14.86c-.87-1.02-1.6-1.89-2.48-2.91-.46-.54-1.05-1.08-1.75-1.32-.11-.04-.22-.07-.33-.09-.25-.04-.52-.04-.78-.04s-.53 0-.79.05c-.11.02-.22.05-.33.09-.7.24-1.28.78-1.75 1.32-.87 1.02-1.6 1.89-2.48 2.91-1.31 1.31-2.92 2.76-2.62 4.79.29 1.02 1.02 2.03 2.33 2.32.73.15 3.06-.44 5.54-.44h.18c2.48 0 4.81.58 5.54.44 1.31-.29 2.04-1.31 2.33-2.32.31-2.04-1.3-3.49-2.61-4.8z"},child:[]}]})(t)}const RK=({setActivePage:t})=>{const[e,n]=v.useState(!0),[r,i]=v.useState("home"),s=()=>{n(!e)},o=a=>{t(a),i(a)};return p.jsxs("div",{className:"bgMenu w-[4rem] flex flex-col items-center py-4 space-y-6",children:[p.jsx("button",{onClick:s,className:"p-3 hover:bg-gray-700 rounded-lg transition",children:e?p.jsx(CK,{className:"h-6 w-6 text-gray-400"}):p.jsx(TK,{className:"h-6 w-6 text-gray-400"})}),e&&p.jsxs("div",{className:"bgMenuButtons relative",children:[p.jsx("div",{className:"flex flex-col items-center",children:p.jsx("button",{onClick:()=>o("home"),className:`p-3 rounded-lg transition ${r==="home"?"bg-gray-700 text-blue-500":"hover:bg-gray-700 hover:text-white"}`,children:p.jsx(SK,{className:`h-6 w-6 ${r==="home"?"text-blue-500":"text-gray-400"}`})})}),p.jsx("div",{className:"flex flex-col items-center",children:p.jsx("button",{onClick:()=>o("auto"),className:`p-3 rounded-lg transition ${r==="auto"?"bg-gray-700 text-blue-500":"hover:bg-gray-700 hover:text-white"}`,children:p.jsx(IK,{className:`h-6 w-6 ${r==="auto"?"text-blue-500":"text-gray-400"}`})})}),p.jsx("div",{className:"flex flex-col items-center",children:p.jsx("button",{onClick:()=>o("pets"),className:`p-3 rounded-lg transition ${r==="pets"?"bg-gray-700 text-blue-500":"hover:bg-gray-700 hover:text-white"}`,children:p.jsx(PK,{className:`h-6 w-6 ${r==="pets"?"text-blue-500":"text-gray-400"}`})})}),p.jsx("div",{className:"flex flex-col items-center",children:p.jsx("button",{onClick:()=>o("school"),className:`p-3 rounded-lg transition ${r==="school"?"bg-gray-700 text-blue-500":"hover:bg-gray-700 hover:text-white"}`,children:p.jsx(xK,{className:`h-6 w-6 ${r==="school"?"text-blue-500":"text-gray-400"}`})})}),p.jsx("div",{className:"flex flex-col items-center",children:p.jsx("button",{onClick:()=>o("vacations"),className:`p-3 rounded-lg transition ${r==="vacations"?"bg-gray-700 text-blue-500":"hover:bg-gray-700 hover:text-white"}`,children:p.jsx(bK,{className:`h-6 w-6 ${r==="vacations"?"text-blue-500":"text-gray-400"}`})})}),p.jsx("div",{className:"flex flex-col items-center",children:p.jsx("button",{onClick:()=>o("birthday"),className:`p-3 rounded-lg transition ${r==="birthday"?"bg-gray-700 text-blue-500":"hover:bg-gray-700 hover:text-white"}`,children:p.jsx(lK,{className:`h-6 w-6 ${r==="birthday"?"text-blue-500":"text-gray-400"}`})})})]})]})};function Mn(t){return On({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m112 112 20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320"},child:[]},{tag:"path",attr:{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M80 112h352"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M192 112V72h0a23.93 23.93 0 0 1 24-24h80a23.93 23.93 0 0 1 24 24h0v40m-64 64v224m-72-224 8 224m136-224-8 224"},child:[]}]})(t)}function $a(t){return On({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Edit"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M3.548,20.938h16.9a.5.5,0,0,0,0-1H3.548a.5.5,0,0,0,0,1Z"},child:[]},{tag:"path",attr:{d:"M9.71,17.18a2.587,2.587,0,0,0,1.12-.65l9.54-9.54a1.75,1.75,0,0,0,0-2.47l-.94-.93a1.788,1.788,0,0,0-2.47,0L7.42,13.12a2.473,2.473,0,0,0-.64,1.12L6.04,17a.737.737,0,0,0,.19.72.767.767,0,0,0,.53.22Zm.41-1.36a1.468,1.468,0,0,1-.67.39l-.97.26-1-1,.26-.97a1.521,1.521,0,0,1,.39-.67l.38-.37,1.99,1.99Zm1.09-1.08L9.22,12.75l6.73-6.73,1.99,1.99Zm8.45-8.45L18.65,7.3,16.66,5.31l1.01-1.02a.748.748,0,0,1,1.06,0l.93.94A.754.754,0,0,1,19.66,6.29Z"},child:[]}]}]}]})(t)}const Ba=({basicModal:t,toggleModal:e,eventTitle:n,setEventTitle:r,handleSaveEvent:i})=>p.jsx(eo,{open:t,onClose:e,tabIndex:"-1",children:p.jsx(Qi,{className:"modal-dialog-centered modal-lg",children:p.jsxs(Yi,{className:"bgEventModal",children:[p.jsxs(Xi,{children:[p.jsx(Ji,{children:"Create New Event"}),p.jsx(ne,{className:"btn-close btn-close-white",color:"none",onClick:e})]}),p.jsx(Zi,{children:p.jsx(he,{label:"Event Title",value:n,onChange:s=>r(s.target.value),className:"border-light text-white bgEventTitle"})}),p.jsxs(es,{children:[p.jsx(ne,{color:"secondary",onClick:e,className:"text-white bg-dark",children:"Cancel"}),p.jsx(ne,{color:"light",onClick:i,className:"text-dark",children:"Save"})]})]})})});function Ua(t){return On({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(t)}const AK="_customBackground_11dvt_1",kK="_zoomImage_11dvt_14",Ev={customBackground:AK,zoomImage:kK},NK=({addModal:t,toggleAddModal:e,handleAddSubCard:n})=>{const[r,i]=v.useState(""),[s,o]=v.useState(""),[a,l]=v.useState([]),[u,d]=v.useState([]),[h,f]=v.useState(""),[m,y]=v.useState(""),[T,S]=v.useState(""),b=()=>{i(""),o(""),d([]),f(""),y(""),S("")},x=()=>{n({category:s||r,files:u.length>0?u:[],expireDate:h,notifyDate:m,details:T}),b()},E=A=>{o(A)},R=()=>{r.trim()!==""&&!a.includes(r)&&(l([...a,r]),i(""))},O=A=>{l(a.filter(_=>_!==A))};return p.jsx(eo,{open:t,onClose:e,tabIndex:"-1",children:p.jsx(Qi,{className:"modal-dialog-centered modal-lg",children:p.jsxs(Yi,{className:"bgAddCardModal shadow-lg rounded-lg border border-light",children:[p.jsxs(Xi,{className:"border-bottom border-light",children:[p.jsx(Ji,{className:"text-dark",children:"Add Details"}),p.jsx(ne,{className:"btn-close btn-close-white",color:"none",onClick:e})]}),p.jsxs(Zi,{children:[p.jsxs(Ca,{className:"mb-3",children:[p.jsx(ba,{color:"bg-primary bg-gradient",className:"w-100 text-dark",children:s||"Select Category"}),p.jsxs(Sa,{className:"w-100 p-2 shadow-lg rounded bgMebuDropdown",children:[p.jsx(Se,{onClick:()=>E("Asigurare"),className:"dropdown-item-custom",children:"Asigurare"}),p.jsx(Se,{onClick:()=>E("Rovinieta"),className:"dropdown-item-custom",children:"Rovinieta"}),p.jsx(Se,{onClick:()=>E("ITP"),className:"dropdown-item-custom",children:"ITP"}),p.jsx(Se,{onClick:()=>E("Casco"),className:"dropdown-item-custom",children:"Casco"}),a.map(A=>p.jsx("div",{className:"d-flex align-items-center",children:p.jsxs(Se,{onClick:()=>E(A),className:"dropdown-item-custom flex-grow-1 positionCategoryNew",children:[A,p.jsx(Mn,{className:"trash-iconAdd",onClick:()=>O(A)})]})},A)),p.jsx("div",{className:"dropdown-divider my-2"}),p.jsxs("div",{className:"inputCreateCategory ",children:[p.jsx(he,{label:"Create Your Own Category",value:r,onChange:A=>i(A.target.value),className:"custom-input-category  flex-grow-1"}),p.jsx(ne,{onClick:R,className:" btnAddCategory",children:"Add"})]})]})]}),p.jsx(he,{type:"file",multiple:!0,onChange:A=>d(Array.from(A.target.files).map(_=>_)),className:"mb-3 border border-info text-dark"}),p.jsx(he,{type:"date",value:h,onChange:A=>f(A.target.value),className:"mb-3 border border-info text-white"}),p.jsx(he,{type:"datetime-local",value:m,onChange:A=>y(A.target.value),className:"mb-3 border border-info text-white"}),p.jsx(he,{type:"textarea",value:T,onChange:A=>S(A.target.value),className:"mb-3 border border-info text-white"})]}),p.jsxs(es,{className:"border-top border-light",children:[p.jsx(ne,{color:"dark",onClick:e,className:"me-2",children:"Cancel"}),p.jsx(ne,{color:"light",onClick:x,children:"Add Card"})]})]})})})},DK=async t=>{const e=kn(Nn,t);return(await Ma(e)).contentType},OK=async(t,e)=>{try{const n=mn(gn,`users/${t.uid}/componentA`,"cardsAuto"),r=await Da(n);r.exists()?e(r.data().cardsAuto||[]):console.log("No cardsAuto found for the user.")}catch(n){console.error("Error loading cardsAuto: ",n)}},xl=async(t,e)=>{try{const n=mn(gn,`users/${t.uid}/componentA`,"cardsAuto");await io(n,{cardsAuto:e},{merge:!0}),console.log("CardsAuto saved successfully for ComponentA.")}catch(n){console.error("Error saving cardsAuto for ComponentA: ",n)}},MK=()=>{const[t,e]=v.useState(!1),[n,r]=v.useState(!1),[i,s]=v.useState(""),[o,a]=v.useState([]),[l,u]=v.useState(null),[d,h]=v.useState(null),[f,m]=v.useState(!1);v.useEffect(()=>{const _=Pa(Gr,w=>{w&&(h(w),OK(w,a))});return()=>_()},[]);const y=()=>e(!t),T=_=>{u(_),r(!n)},S=()=>{if(i.trim()!==""){const _=[...o,{title:i,subcards:[]}];a(_),xl(d,_),s(""),y()}},b=async _=>{try{let w=[];if(_.files.length>0)for(const N of _.files){const M=kn(Nn,`uploads/${N.name}`);await Oa(M,N);const D=await La(M);w.push(D)}const I={..._,files:w},P=[...o];l!==null&&(P[l].subcards.push(I),a(P),xl(d,P),T(null))}catch(w){console.error("Error adding subcard: ",w)}},x=_=>{const w=o.filter((I,P)=>P!==_);a(w),xl(d,w)},E=(_,w)=>{const I=[...o];I[_].title=w,a(I),xl(d,I)},R=(_,w)=>{const I=[...o];I[_].subcards=I[_].subcards.filter((P,N)=>N!==w),a(I),xl(d,I)},O=()=>{!f&&window.pageYOffset>400?m(!0):f&&window.pageYOffset<=400&&m(!1)},A=()=>{window.scrollTo({top:0,behavior:"smooth"})};return v.useEffect(()=>(window.addEventListener("scroll",O),()=>window.removeEventListener("scroll",O)),[f]),p.jsxs(gr,{fluid:!0,className:Ev.customBackground,children:[p.jsx(Ye,{children:p.jsxs(Te,{className:"text-center z-1",children:[p.jsx("h2",{className:"mb-3 custom-font",children:"Create an Event for Auto"}),p.jsx(ne,{className:"bkCreateEvent",onClick:y,children:"Create Event"})]})}),p.jsx(Ye,{className:"mt-4 d-flex flex-column align-items-center positionCardHome z-1",children:o.map((_,w)=>p.jsx(Fk,{card:_,index:w,onEdit:E,onDelete:x,onAddSubCard:T,onDeleteSubCard:R},w))}),p.jsx(Ba,{basicModal:t,toggleModal:y,eventTitle:i,setEventTitle:s,handleSaveEvent:S}),p.jsx(NK,{addModal:n,toggleAddModal:T,handleAddSubCard:b}),p.jsx("div",{className:"scrollTop",onClick:A,style:{position:"fixed",right:"30px",bottom:"30px",zIndex:1e3,cursor:"pointer",display:f?"flex":"none"},children:p.jsx(Ua,{size:40})})]})},Fk=({card:t,index:e,onEdit:n,onDelete:r,onAddSubCard:i,onDeleteSubCard:s})=>p.jsx(Te,{sm:"12",className:"mb-4",children:p.jsx(Bt,{className:"shadow-lg position-relative bgCardHome",children:p.jsxs(Ut,{className:"flexCardBody",children:[p.jsxs(pn,{className:"titlecardHome",children:[t.title,p.jsx($a,{className:"edit-icon",onClick:()=>{const o=prompt("Edit title:",t.title);o!==null&&o.trim()!==""&&n(e,o)}})]}),p.jsx(ne,{size:"sm",className:"addCardHome",onClick:()=>i(e),children:"Add"}),p.jsx(Mn,{className:"trash-icon",onClick:()=>r(e)}),t.subcards.map((o,a)=>p.jsx($k,{subcard:o,cardIndex:e,subIndex:a,onDelete:s},a))]})})});Fk.propTypes={card:Y.object.isRequired,index:Y.number.isRequired,onEdit:Y.func.isRequired,onDelete:Y.func.isRequired,onAddSubCard:Y.func.isRequired,onDeleteSubCard:Y.func.isRequired};const $k=({subcard:t,cardIndex:e,subIndex:n,onDelete:r})=>{const[i,s]=v.useState([]);v.useEffect(()=>{const l=async()=>{const u=await Promise.all(t.files.map(async d=>{const h=await DK(d);return{url:d,type:h}}));s(u)};t.files&&t.files.length>0&&l()},[t.files]);const o=l=>{window.confirm("Ești sigur că vrei să descarci fișierul?")&&window.open(l,"_blank")},a=l=>l.type.startsWith("image/")?p.jsx("img",{src:l.url,alt:"Subcard image",className:`${Ev.zoomImage} img-fluid`,onClick:()=>o(l.url),style:{paddingTop:"2rem",cursor:"pointer",width:"90%",height:"auto"}}):l.type==="application/pdf"?p.jsx("iframe",{src:l.url,title:"PDF File",onClick:()=>o(l.url),style:{cursor:"pointer",width:"100%",height:"400px",border:"none"}}):l.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||l.type==="application/msword"?p.jsx("div",{className:"d-flex align-items-center justify-content-center",onClick:()=>o(l.url),style:{cursor:"pointer"},children:p.jsx("img",{className:`${Ev.zoomImage} img-fluid`,src:"/doc-document-file-svgrepo-com.svg",alt:"Word Document Icon",style:{width:"90%",height:"auto"}})}):p.jsxs("p",{children:["Unsupported file type: ",l.type]});return p.jsxs(Bt,{className:"mb-3 CardEventStyles",children:[p.jsxs(Ye,{className:"g-0 flex-column flex-md-row",children:[p.jsx(Te,{xs:"12",md:i.some(l=>l.type==="application/pdf")?"5":"7",className:"order-md-2 order-1",children:p.jsxs(Ut,{children:[p.jsx(pn,{children:t.category}),p.jsx(st,{children:t.details}),p.jsx(st,{children:p.jsxs("small",{className:"text-muted",children:["Expire Date: ",t.expireDate]})}),p.jsx(st,{children:p.jsxs("small",{className:"text-muted",children:["Notify Date: ",t.notifyDate]})})]})}),p.jsx(Te,{xs:"12",md:i.some(l=>l.type==="application.pdf")?"7":"5",className:"order-md-1 order-2",children:p.jsx("div",{className:"file-scroll-container",style:{display:"flex",gap:"10px",overflowX:"auto",whiteSpace:"nowrap"},children:i.map((l,u)=>p.jsx("div",{style:{minWidth:"100%"},children:a(l)},u))})})]}),p.jsx("div",{className:"position-relative mt-3 text-center",children:p.jsx(ne,{color:"danger",size:"sm",onClick:()=>r(e,n),children:"Delete"})})]})};$k.propTypes={subcard:Y.object.isRequired,cardIndex:Y.number.isRequired,subIndex:Y.number.isRequired,onDelete:Y.func.isRequired};const LK="_customBackground_1uxhd_1",jK="_zoomImage_1uxhd_15",xv={customBackground:LK,zoomImage:jK},VK=({addModal:t,toggleAddModal:e,handleAddSubCard:n})=>{const[r,i]=v.useState(""),[s,o]=v.useState(""),[a,l]=v.useState([]),[u,d]=v.useState([]),[h,f]=v.useState(""),[m,y]=v.useState(""),[T,S]=v.useState(""),b=()=>{i(""),o(""),d([]),f(""),y(""),S("")},x=()=>{n({category:s||r,files:u.length>0?u:[],expireDate:h,notifyDate:m,details:T}),b()},E=A=>{o(A)},R=()=>{r.trim()!==""&&!a.includes(r)&&(l([...a,r]),i(""))},O=A=>{l(a.filter(_=>_!==A))};return p.jsx(eo,{open:t,onClose:e,tabIndex:"-1",children:p.jsx(Qi,{className:"modal-dialog-centered modal-lg",children:p.jsxs(Yi,{className:"bgAddCardModal shadow-lg rounded-lg border border-light",children:[p.jsxs(Xi,{className:"border-bottom border-light",children:[p.jsx(Ji,{className:"text-dark",children:"Add Details"}),p.jsx(ne,{className:"btn-close btn-close-white",color:"none",onClick:e})]}),p.jsxs(Zi,{children:[p.jsxs(Ca,{className:"mb-3",children:[p.jsx(ba,{color:"bg-primary bg-gradient",className:"w-100 text-dark",children:s||"Select Category"}),p.jsxs(Sa,{className:"w-100 p-2 shadow-lg rounded bgMebuDropdown",children:[p.jsx(Se,{onClick:()=>E("Asigurare"),className:"dropdown-item-custom",children:"Asigurare"}),p.jsx(Se,{onClick:()=>E("Chirie"),className:"dropdown-item-custom",children:"Chirie"}),p.jsx(Se,{onClick:()=>E("Facturi"),className:"dropdown-item-custom",children:"Facturi"}),a.map(A=>p.jsx("div",{className:"d-flex align-items-center",children:p.jsxs(Se,{onClick:()=>E(A),className:"dropdown-item-custom flex-grow-1 positionCategoryNew",children:[A,p.jsx(Mn,{className:"trash-iconAdd",onClick:()=>O(A)})]})},A)),p.jsx("div",{className:"dropdown-divider my-2"}),p.jsxs("div",{className:"inputCreateCategory ",children:[p.jsx(he,{label:"Create Your Own Category",value:r,onChange:A=>i(A.target.value),className:"custom-input-category  flex-grow-1"}),p.jsx(ne,{onClick:R,className:" btnAddCategory",children:"Add"})]})]})]}),p.jsx(he,{type:"file",multiple:!0,onChange:A=>d(Array.from(A.target.files).map(_=>_)),className:"mb-3 border border-info text-dark"}),p.jsx(he,{type:"date",value:h,onChange:A=>f(A.target.value),className:"mb-3 border border-info text-white"}),p.jsx(he,{type:"datetime-local",value:m,onChange:A=>y(A.target.value),className:"mb-3 border border-info text-white"}),p.jsx(he,{type:"textarea",value:T,onChange:A=>S(A.target.value),className:"mb-3 border border-info text-white"})]}),p.jsxs(es,{className:"border-top border-light",children:[p.jsx(ne,{color:"dark",onClick:e,className:"me-2",children:"Cancel"}),p.jsx(ne,{color:"light",onClick:x,children:"Add Card"})]})]})})})},FK=async t=>{const e=kn(Nn,t);return(await Ma(e)).contentType},$K=async(t,e)=>{try{const n=mn(gn,`users/${t.uid}/componentH`,"cardsHome"),r=await Da(n);r.exists()?e(r.data().cardsHome||[]):console.log("No cardsHome found for the user.")}catch(n){console.error("Error loading cardsHome: ",n)}},Tl=async(t,e)=>{try{const n=mn(gn,`users/${t.uid}/componentH`,"cardsHome");await io(n,{cardsHome:e},{merge:!0}),console.log("CardsHome saved successfully for ComponentH.")}catch(n){console.error("Error saving cardsHome for ComponentH: ",n)}},BK=()=>{const[t,e]=v.useState(!1),[n,r]=v.useState(!1),[i,s]=v.useState(""),[o,a]=v.useState([]),[l,u]=v.useState(null),[d,h]=v.useState(null),[f,m]=v.useState(!1);v.useEffect(()=>{const _=Pa(Gr,w=>{w&&(h(w),$K(w,a))});return()=>_()},[]);const y=()=>e(!t),T=_=>{u(_),r(!n)},S=()=>{if(i.trim()!==""){const _=[...o,{title:i,subcards:[]}];a(_),Tl(d,_),s(""),y()}},b=async _=>{try{let w=[];if(_.files.length>0)for(const N of _.files){const M=kn(Nn,`uploads/${N.name}`);await Oa(M,N);const D=await La(M);w.push(D)}const I={..._,files:w},P=[...o];l!==null&&(P[l].subcards.push(I),a(P),Tl(d,P),T(null))}catch(w){console.error("Error adding subcard: ",w)}},x=_=>{const w=o.filter((I,P)=>P!==_);a(w),Tl(d,w)},E=(_,w)=>{const I=[...o];I[_].title=w,a(I),Tl(d,I)},R=(_,w)=>{const I=[...o];I[_].subcards=I[_].subcards.filter((P,N)=>N!==w),a(I),Tl(d,I)},O=()=>{!f&&window.pageYOffset>400?m(!0):f&&window.pageYOffset<=400&&m(!1)},A=()=>{window.scrollTo({top:0,behavior:"smooth"})};return v.useEffect(()=>(window.addEventListener("scroll",O),()=>window.removeEventListener("scroll",O)),[f]),p.jsxs(gr,{fluid:!0,className:xv.customBackground,children:[p.jsx(Ye,{children:p.jsxs(Te,{className:"text-center z-1",children:[p.jsx("h2",{className:"mb-3 custom-font",children:"Create an Event for Home"}),p.jsx(ne,{className:"bkCreateEvent",onClick:y,children:"Create Event"})]})}),p.jsx(Ye,{className:"mt-4 d-flex flex-column align-items-center positionCardHome z-1",children:o.map((_,w)=>p.jsx(Bk,{card:_,index:w,onEdit:E,onDelete:x,onAddSubCard:T,onDeleteSubCard:R},w))}),p.jsx(Ba,{basicModal:t,toggleModal:y,eventTitle:i,setEventTitle:s,handleSaveEvent:S}),p.jsx(VK,{addModal:n,toggleAddModal:T,handleAddSubCard:b}),p.jsx("div",{className:"scrollTop",onClick:A,style:{position:"fixed",right:"30px",bottom:"30px",zIndex:1e3,cursor:"pointer",display:f?"flex":"none"},children:p.jsx(Ua,{size:40})})]})},Bk=({card:t,index:e,onEdit:n,onDelete:r,onAddSubCard:i,onDeleteSubCard:s})=>p.jsx(Te,{sm:"12",className:"mb-4 p-0",children:p.jsx(Bt,{className:"shadow-lg position-relative bgCardHome",children:p.jsxs(Ut,{className:"flexCardBody",children:[p.jsxs(pn,{className:"titlecardHome",children:[t.title,p.jsx($a,{className:"edit-icon",onClick:()=>{const o=prompt("Edit title:",t.title);o!==null&&o.trim()!==""&&n(e,o)}})]}),p.jsx(ne,{size:"sm",className:"addCardHome",onClick:()=>i(e),children:"Add"}),p.jsx(Mn,{className:"trash-icon",onClick:()=>r(e)}),t.subcards.map((o,a)=>p.jsx(Uk,{subcard:o,cardIndex:e,subIndex:a,onDelete:s},a))]})})});Bk.propTypes={card:Y.object.isRequired,index:Y.number.isRequired,onEdit:Y.func.isRequired,onDelete:Y.func.isRequired,onAddSubCard:Y.func.isRequired,onDeleteSubCard:Y.func.isRequired};const Uk=({subcard:t,cardIndex:e,subIndex:n,onDelete:r})=>{const[i,s]=v.useState([]);v.useEffect(()=>{const l=async()=>{const u=await Promise.all(t.files.map(async d=>{const h=await FK(d);return{url:d,type:h}}));s(u)};t.files&&t.files.length>0&&l()},[t.files]);const o=l=>{window.confirm("Ești sigur că vrei să descarci fișierul?")&&window.open(l,"_blank")},a=l=>l.type.startsWith("image/")?p.jsx("img",{src:l.url,alt:"Subcard image",className:`${xv.zoomImage} img-fluid`,onClick:()=>o(l.url),style:{paddingTop:"2rem",cursor:"pointer",width:"90%",height:"auto"}}):l.type==="application/pdf"?p.jsx("iframe",{src:l.url,title:"PDF File",onClick:()=>o(l.url),style:{cursor:"pointer",width:"100%",height:"400px",border:"none"}}):l.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||l.type==="application/msword"?p.jsx("div",{className:"d-flex align-items-center justify-content-center",onClick:()=>o(l.url),style:{cursor:"pointer"},children:p.jsx("img",{className:`${xv.zoomImage} img-fluid`,src:"/doc-document-file-svgrepo-com.svg",alt:"Word Document Icon",style:{width:"90%",height:"auto"}})}):p.jsxs("p",{children:["Unsupported file type: ",l.type]});return p.jsxs(Bt,{className:"mb-3 CardEventStyles",children:[p.jsxs(Ye,{className:"g-0 flex-column flex-md-row",children:[p.jsx(Te,{xs:"12",md:i.some(l=>l.type==="application/pdf")?"5":"7",className:"order-md-2 order-1",children:p.jsxs(Ut,{children:[p.jsx(pn,{children:t.category}),p.jsx(st,{children:t.details}),p.jsx(st,{children:p.jsxs("small",{className:"text-muted",children:["Expire Date: ",t.expireDate]})}),p.jsx(st,{children:p.jsxs("small",{className:"text-muted",children:["Notify Date: ",t.notifyDate]})})]})}),p.jsx(Te,{xs:"12",md:i.some(l=>l.type==="application.pdf")?"7":"5",className:"order-md-1 order-2",children:p.jsx("div",{className:"file-scroll-container",style:{display:"flex",gap:"10px",overflowX:"auto",whiteSpace:"nowrap"},children:i.map((l,u)=>p.jsx("div",{style:{minWidth:"100%"},children:a(l)},u))})})]}),p.jsx("div",{className:"position-relative mt-3 text-center",children:p.jsx(ne,{color:"danger",size:"sm",onClick:()=>r(e,n),children:"Delete"})})]})};Uk.propTypes={subcard:Y.object.isRequired,cardIndex:Y.number.isRequired,subIndex:Y.number.isRequired,onDelete:Y.func.isRequired};const UK="_customBackground_5qxpq_1",Tv={customBackground:UK},zK=({addModal:t,toggleAddModal:e,handleAddSubCard:n})=>{const[r,i]=v.useState(""),[s,o]=v.useState(""),[a,l]=v.useState([]),[u,d]=v.useState([]),[h,f]=v.useState(""),[m,y]=v.useState(""),[T,S]=v.useState(""),b=()=>{i(""),o(""),d([]),f(""),y(""),S("")},x=()=>{n({category:s||r,files:u.length>0?u:[],expireDate:h,notifyDate:m,details:T}),b()},E=A=>{o(A)},R=()=>{r.trim()!==""&&!a.includes(r)&&(l([...a,r]),i(""))},O=A=>{l(a.filter(_=>_!==A))};return p.jsx(eo,{open:t,onClose:e,tabIndex:"-1",children:p.jsx(Qi,{className:"modal-dialog-centered modal-lg",children:p.jsxs(Yi,{className:"bgAddCardModal shadow-lg rounded-lg border border-light",children:[p.jsxs(Xi,{className:"border-bottom border-light",children:[p.jsx(Ji,{className:"text-dark",children:"Add Details"}),p.jsx(ne,{className:"btn-close btn-close-white",color:"none",onClick:e})]}),p.jsxs(Zi,{children:[p.jsxs(Ca,{className:"mb-3",children:[p.jsx(ba,{color:"bg-primary bg-gradient",className:"w-100 text-dark",children:s||"Select Category"}),p.jsxs(Sa,{className:"w-100 p-2 shadow-lg rounded bgMebuDropdown",children:[p.jsx(Se,{onClick:()=>E("Vacin Anual"),className:"dropdown-item-custom",children:"Vacin Anual"}),p.jsx(Se,{onClick:()=>E("Deparazitare"),className:"dropdown-item-custom",children:"Deparazitare"}),p.jsx(Se,{onClick:()=>E("Programare La Doctor"),className:"dropdown-item-custom",children:"Programare La Doctor"}),p.jsx(Se,{onClick:()=>E("Tratament"),className:"dropdown-item-custom",children:"Tratament"}),a.map(A=>p.jsx("div",{className:"d-flex align-items-center",children:p.jsxs(Se,{onClick:()=>E(A),className:"dropdown-item-custom flex-grow-1 positionCategoryNew",children:[A,p.jsx(Mn,{className:"trash-iconAdd",onClick:()=>O(A)})]})},A)),p.jsx("div",{className:"dropdown-divider my-2"}),p.jsxs("div",{className:"inputCreateCategory ",children:[p.jsx(he,{label:"Create Your Own Category",value:r,onChange:A=>i(A.target.value),className:"custom-input-category  flex-grow-1"}),p.jsx(ne,{onClick:R,className:" btnAddCategory",children:"Add"})]})]})]}),p.jsx(he,{type:"file",multiple:!0,onChange:A=>d(Array.from(A.target.files).map(_=>_)),className:"mb-3 border border-info text-dark"}),p.jsx(he,{type:"date",value:h,onChange:A=>f(A.target.value),className:"mb-3 border border-info text-white"}),p.jsx(he,{type:"datetime-local",value:m,onChange:A=>y(A.target.value),className:"mb-3 border border-info text-white"}),p.jsx(he,{type:"textarea",value:T,onChange:A=>S(A.target.value),className:"mb-3 border border-info text-white"})]}),p.jsxs(es,{className:"border-top border-light",children:[p.jsx(ne,{color:"dark",onClick:e,className:"me-2",children:"Cancel"}),p.jsx(ne,{color:"light",onClick:x,children:"Add Card"})]})]})})})},HK=async t=>{const e=kn(Nn,t);return(await Ma(e)).contentType},WK=async(t,e)=>{try{const n=mn(gn,`users/${t.uid}/componentP`,"cardsPet"),r=await Da(n);r.exists()?e(r.data().cardsPet||[]):console.log("No cardsPet found for the user.")}catch(n){console.error("Error loading cardsPet: ",n)}},Cl=async(t,e)=>{try{const n=mn(gn,`users/${t.uid}/componentP`,"cardsPet");await io(n,{cardsPet:e},{merge:!0}),console.log("CardsPet saved successfully for ComponentP.")}catch(n){console.error("Error saving cardsPet for ComponentP: ",n)}},qK=()=>{const[t,e]=v.useState(!1),[n,r]=v.useState(!1),[i,s]=v.useState(""),[o,a]=v.useState([]),[l,u]=v.useState(null),[d,h]=v.useState(null),[f,m]=v.useState(!1);v.useEffect(()=>{const _=Pa(Gr,w=>{w&&(h(w),WK(w,a))});return()=>_()},[]);const y=()=>e(!t),T=_=>{u(_),r(!n)},S=()=>{if(i.trim()!==""){const _=[...o,{title:i,subcards:[]}];a(_),Cl(d,_),s(""),y()}},b=async _=>{try{let w=[];if(_.files.length>0)for(const N of _.files){const M=kn(Nn,`uploads/${N.name}`);await Oa(M,N);const D=await La(M);w.push(D)}const I={..._,files:w},P=[...o];l!==null&&(P[l].subcards.push(I),a(P),Cl(d,P),T(null))}catch(w){console.error("Error adding subcard: ",w)}},x=_=>{const w=o.filter((I,P)=>P!==_);a(w),Cl(d,w)},E=(_,w)=>{const I=[...o];I[_].title=w,a(I),Cl(d,I)},R=(_,w)=>{const I=[...o];I[_].subcards=I[_].subcards.filter((P,N)=>N!==w),a(I),Cl(d,I)},O=()=>{!f&&window.pageYOffset>400?m(!0):f&&window.pageYOffset<=400&&m(!1)},A=()=>{window.scrollTo({top:0,behavior:"smooth"})};return v.useEffect(()=>(window.addEventListener("scroll",O),()=>window.removeEventListener("scroll",O)),[f]),p.jsxs(gr,{fluid:!0,className:Tv.customBackground,children:[p.jsx(Ye,{children:p.jsxs(Te,{className:"text-center z-1",children:[p.jsx("h2",{className:"mb-3 custom-font",children:"Create an Event for Pet"}),p.jsx(ne,{className:"bkCreateEvent",onClick:y,children:"Create Event"})]})}),p.jsx(Ye,{className:"mt-4 d-flex flex-column align-items-center positionCardHome z-1",children:o.map((_,w)=>p.jsx(zk,{card:_,index:w,onEdit:E,onDelete:x,onAddSubCard:T,onDeleteSubCard:R},w))}),p.jsx(Ba,{basicModal:t,toggleModal:y,eventTitle:i,setEventTitle:s,handleSaveEvent:S}),p.jsx(zK,{addModal:n,toggleAddModal:T,handleAddSubCard:b}),p.jsx("div",{className:"scrollTop",onClick:A,style:{position:"fixed",right:"30px",bottom:"30px",zIndex:1e3,cursor:"pointer",display:f?"flex":"none"},children:p.jsx(Ua,{size:40})})]})},zk=({card:t,index:e,onEdit:n,onDelete:r,onAddSubCard:i,onDeleteSubCard:s})=>p.jsx(Te,{sm:"12",className:"mb-4",children:p.jsx(Bt,{className:"shadow-lg position-relative bgCardHome",children:p.jsxs(Ut,{className:"flexCardBody",children:[p.jsxs(pn,{className:"titlecardHome",children:[t.title,p.jsx($a,{className:"edit-icon",onClick:()=>{const o=prompt("Edit title:",t.title);o!==null&&o.trim()!==""&&n(e,o)}})]}),p.jsx(ne,{size:"sm",className:"addCardHome",onClick:()=>i(e),children:"Add"}),p.jsx(Mn,{className:"trash-icon",onClick:()=>r(e)}),t.subcards.map((o,a)=>p.jsx(Hk,{subcard:o,cardIndex:e,subIndex:a,onDelete:s},a))]})})});zk.propTypes={card:Y.object.isRequired,index:Y.number.isRequired,onEdit:Y.func.isRequired,onDelete:Y.func.isRequired,onAddSubCard:Y.func.isRequired,onDeleteSubCard:Y.func.isRequired};const Hk=({subcard:t,cardIndex:e,subIndex:n,onDelete:r})=>{const[i,s]=v.useState([]);v.useEffect(()=>{const l=async()=>{const u=await Promise.all(t.files.map(async d=>{const h=await HK(d);return{url:d,type:h}}));s(u)};t.files&&t.files.length>0&&l()},[t.files]);const o=l=>{window.confirm("Ești sigur că vrei să descarci fișierul?")&&window.open(l,"_blank")},a=l=>l.type.startsWith("image/")?p.jsx("img",{src:l.url,alt:"Subcard image",className:`${Tv.zoomImage} img-fluid`,onClick:()=>o(l.url),style:{paddingTop:"2rem",cursor:"pointer",width:"90%",height:"auto"}}):l.type==="application/pdf"?p.jsx("iframe",{src:l.url,title:"PDF File",onClick:()=>o(l.url),style:{cursor:"pointer",width:"100%",height:"400px",border:"none"}}):l.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||l.type==="application/msword"?p.jsx("div",{className:"d-flex align-items-center justify-content-center",onClick:()=>o(l.url),style:{cursor:"pointer"},children:p.jsx("img",{className:`${Tv.zoomImage} img-fluid`,src:"/doc-document-file-svgrepo-com.svg",alt:"Word Document Icon",style:{width:"90%",height:"auto"}})}):p.jsxs("p",{children:["Unsupported file type: ",l.type]});return p.jsxs(Bt,{className:"mb-3 CardEventStyles",children:[p.jsxs(Ye,{className:"g-0 flex-column flex-md-row",children:[p.jsx(Te,{xs:"12",md:i.some(l=>l.type==="application/pdf")?"5":"7",className:"order-md-2 order-1",children:p.jsxs(Ut,{children:[p.jsx(pn,{children:t.category}),p.jsx(st,{children:t.details}),p.jsx(st,{children:p.jsxs("small",{className:"text-muted",children:["Expire Date: ",t.expireDate]})}),p.jsx(st,{children:p.jsxs("small",{className:"text-muted",children:["Notify Date: ",t.notifyDate]})})]})}),p.jsx(Te,{xs:"12",md:i.some(l=>l.type==="application.pdf")?"7":"5",className:"order-md-1 order-2",children:p.jsx("div",{className:"file-scroll-container",style:{display:"flex",gap:"10px",overflowX:"auto",whiteSpace:"nowrap"},children:i.map((l,u)=>p.jsx("div",{style:{minWidth:"100%"},children:a(l)},u))})})]}),p.jsx("div",{className:"position-relative mt-3 text-center",children:p.jsx(ne,{color:"danger",size:"sm",onClick:()=>r(e,n),children:"Delete"})})]})};Hk.propTypes={subcard:Y.object.isRequired,cardIndex:Y.number.isRequired,subIndex:Y.number.isRequired,onDelete:Y.func.isRequired};const KK="_customBackground_5qxpq_1",Cv={customBackground:KK},GK=({addModal:t,toggleAddModal:e,handleAddSubCard:n})=>{const[r,i]=v.useState(""),[s,o]=v.useState(""),[a,l]=v.useState([]),[u,d]=v.useState([]),[h,f]=v.useState(""),[m,y]=v.useState(""),[T,S]=v.useState(""),b=()=>{i(""),o(""),d([]),f(""),y(""),S("")},x=()=>{n({category:s||r,files:u.length>0?u:[],expireDate:h,notifyDate:m,details:T}),b()},E=A=>{o(A)},R=()=>{r.trim()!==""&&!a.includes(r)&&(l([...a,r]),i(""))},O=A=>{l(a.filter(_=>_!==A))};return p.jsx(eo,{open:t,onClose:e,tabIndex:"-1",children:p.jsx(Qi,{className:"modal-dialog-centered modal-lg",children:p.jsxs(Yi,{className:"bgAddCardModal shadow-lg rounded-lg border border-light",children:[p.jsxs(Xi,{className:"border-bottom border-light",children:[p.jsx(Ji,{className:"text-dark",children:"Add Details"}),p.jsx(ne,{className:"btn-close btn-close-white",color:"none",onClick:e})]}),p.jsxs(Zi,{children:[p.jsxs(Ca,{className:"mb-3",children:[p.jsx(ba,{color:"bg-primary bg-gradient",className:"w-100 text-dark",children:s||"Select Category"}),p.jsxs(Sa,{className:"w-100 p-2 shadow-lg rounded bgMebuDropdown",children:[p.jsx(Se,{onClick:()=>E("Examen"),className:"dropdown-item-custom",children:"Examen"}),p.jsx(Se,{onClick:()=>E("Curs"),className:"dropdown-item-custom",children:"Curs"}),p.jsx(Se,{onClick:()=>E("Activități extrașcolare"),className:"dropdown-item-custom",children:"Activități extrașcolare"}),p.jsx(Se,{onClick:()=>E("Prezentări"),className:"dropdown-item-custom",children:"Prezentări"}),a.map(A=>p.jsx("div",{className:"d-flex align-items-center",children:p.jsxs(Se,{onClick:()=>E(A),className:"dropdown-item-custom flex-grow-1 positionCategoryNew",children:[A,p.jsx(Mn,{className:"trash-iconAdd",onClick:()=>O(A)})]})},A)),p.jsx("div",{className:"dropdown-divider my-2"}),p.jsxs("div",{className:"inputCreateCategory ",children:[p.jsx(he,{label:"Create Your Own Category",value:r,onChange:A=>i(A.target.value),className:"custom-input-category  flex-grow-1"}),p.jsx(ne,{onClick:R,className:" btnAddCategory",children:"Add"})]})]})]}),p.jsx(he,{type:"file",multiple:!0,onChange:A=>d(Array.from(A.target.files).map(_=>_)),className:"mb-3 border border-info text-dark"}),p.jsx(he,{type:"date",value:h,onChange:A=>f(A.target.value),className:"mb-3 border border-info text-white"}),p.jsx(he,{type:"datetime-local",value:m,onChange:A=>y(A.target.value),className:"mb-3 border border-info text-white"}),p.jsx(he,{type:"textarea",value:T,onChange:A=>S(A.target.value),className:"mb-3 border border-info text-white"})]}),p.jsxs(es,{className:"border-top border-light",children:[p.jsx(ne,{color:"dark",onClick:e,className:"me-2",children:"Cancel"}),p.jsx(ne,{color:"light",onClick:x,children:"Add Card"})]})]})})})},QK=async t=>{const e=kn(Nn,t);return(await Ma(e)).contentType},YK=async(t,e)=>{try{const n=mn(gn,`users/${t.uid}/componentS`,"cardsSchool"),r=await Da(n);r.exists()?e(r.data().cardsSchool||[]):console.log("No cardsSchool found for the user.")}catch(n){console.error("Error loading cardsSchool: ",n)}},Sl=async(t,e)=>{try{const n=mn(gn,`users/${t.uid}/componentS`,"cardsSchool");await io(n,{cardsSchool:e},{merge:!0}),console.log("CardsSchool saved successfully for ComponentS.")}catch(n){console.error("Error saving cardsSchool for ComponentS: ",n)}},XK=()=>{const[t,e]=v.useState(!1),[n,r]=v.useState(!1),[i,s]=v.useState(""),[o,a]=v.useState([]),[l,u]=v.useState(null),[d,h]=v.useState(null),[f,m]=v.useState(!1);v.useEffect(()=>{const _=Pa(Gr,w=>{w&&(h(w),YK(w,a))});return()=>_()},[]);const y=()=>e(!t),T=_=>{u(_),r(!n)},S=()=>{if(i.trim()!==""){const _=[...o,{title:i,subcards:[]}];a(_),Sl(d,_),s(""),y()}},b=async _=>{try{let w=[];if(_.files.length>0)for(const N of _.files){const M=kn(Nn,`uploads/${N.name}`);await Oa(M,N);const D=await La(M);w.push(D)}const I={..._,files:w},P=[...o];l!==null&&(P[l].subcards.push(I),a(P),Sl(d,P),T(null))}catch(w){console.error("Error adding subcard: ",w)}},x=_=>{const w=o.filter((I,P)=>P!==_);a(w),Sl(d,w)},E=(_,w)=>{const I=[...o];I[_].title=w,a(I),Sl(d,I)},R=(_,w)=>{const I=[...o];I[_].subcards=I[_].subcards.filter((P,N)=>N!==w),a(I),Sl(d,I)},O=()=>{!f&&window.pageYOffset>400?m(!0):f&&window.pageYOffset<=400&&m(!1)},A=()=>{window.scrollTo({top:0,behavior:"smooth"})};return v.useEffect(()=>(window.addEventListener("scroll",O),()=>window.removeEventListener("scroll",O)),[f]),p.jsxs(gr,{fluid:!0,className:Cv.customBackground,children:[p.jsx(Ye,{children:p.jsxs(Te,{className:"text-center z-1",children:[p.jsx("h2",{className:"mb-3 custom-font",children:"Create an Event for School"}),p.jsx(ne,{className:"bkCreateEvent",onClick:y,children:"Create Event"})]})}),p.jsx(Ye,{className:"mt-4 d-flex flex-column align-items-center positionCardHome z-1",children:o.map((_,w)=>p.jsx(Wk,{card:_,index:w,onEdit:E,onDelete:x,onAddSubCard:T,onDeleteSubCard:R},w))}),p.jsx(Ba,{basicModal:t,toggleModal:y,eventTitle:i,setEventTitle:s,handleSaveEvent:S}),p.jsx(GK,{addModal:n,toggleAddModal:T,handleAddSubCard:b}),p.jsx("div",{className:"scrollTop",onClick:A,style:{position:"fixed",right:"30px",bottom:"30px",zIndex:1e3,cursor:"pointer",display:f?"flex":"none"},children:p.jsx(Ua,{size:40})})]})},Wk=({card:t,index:e,onEdit:n,onDelete:r,onAddSubCard:i,onDeleteSubCard:s})=>p.jsx(Te,{sm:"12",className:"mb-4",children:p.jsx(Bt,{className:"shadow-lg position-relative bgCardHome",children:p.jsxs(Ut,{className:"flexCardBody",children:[p.jsxs(pn,{className:"titlecardHome",children:[t.title,p.jsx($a,{className:"edit-icon",onClick:()=>{const o=prompt("Edit title:",t.title);o!==null&&o.trim()!==""&&n(e,o)}})]}),p.jsx(ne,{size:"sm",className:"addCardHome",onClick:()=>i(e),children:"Add"}),p.jsx(Mn,{className:"trash-icon",onClick:()=>r(e)}),t.subcards.map((o,a)=>p.jsx(qk,{subcard:o,cardIndex:e,subIndex:a,onDelete:s},a))]})})});Wk.propTypes={card:Y.object.isRequired,index:Y.number.isRequired,onEdit:Y.func.isRequired,onDelete:Y.func.isRequired,onAddSubCard:Y.func.isRequired,onDeleteSubCard:Y.func.isRequired};const qk=({subcard:t,cardIndex:e,subIndex:n,onDelete:r})=>{const[i,s]=v.useState([]);v.useEffect(()=>{const l=async()=>{const u=await Promise.all(t.files.map(async d=>{const h=await QK(d);return{url:d,type:h}}));s(u)};t.files&&t.files.length>0&&l()},[t.files]);const o=l=>{window.confirm("Ești sigur că vrei să descarci fișierul?")&&window.open(l,"_blank")},a=l=>l.type.startsWith("image/")?p.jsx("img",{src:l.url,alt:"Subcard image",className:`${Cv.zoomImage} img-fluid`,onClick:()=>o(l.url),style:{paddingTop:"2rem",cursor:"pointer",width:"90%",height:"auto"}}):l.type==="application/pdf"?p.jsx("iframe",{src:l.url,title:"PDF File",onClick:()=>o(l.url),style:{cursor:"pointer",width:"100%",height:"400px",border:"none"}}):l.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||l.type==="application/msword"?p.jsx("div",{className:"d-flex align-items-center justify-content-center",onClick:()=>o(l.url),style:{cursor:"pointer"},children:p.jsx("img",{className:`${Cv.zoomImage} img-fluid`,src:"/doc-document-file-svgrepo-com.svg",alt:"Word Document Icon",style:{width:"90%",height:"auto"}})}):p.jsxs("p",{children:["Unsupported file type: ",l.type]});return p.jsxs(Bt,{className:"mb-3 CardEventStyles",children:[p.jsxs(Ye,{className:"g-0 flex-column flex-md-row",children:[p.jsx(Te,{xs:"12",md:i.some(l=>l.type==="application/pdf")?"5":"7",className:"order-md-2 order-1",children:p.jsxs(Ut,{children:[p.jsx(pn,{children:t.category}),p.jsx(st,{children:t.details}),p.jsx(st,{children:p.jsxs("small",{className:"text-muted",children:["Expire Date: ",t.expireDate]})}),p.jsx(st,{children:p.jsxs("small",{className:"text-muted",children:["Notify Date: ",t.notifyDate]})})]})}),p.jsx(Te,{xs:"12",md:i.some(l=>l.type==="application.pdf")?"7":"5",className:"order-md-1 order-2",children:p.jsx("div",{className:"file-scroll-container",style:{display:"flex",gap:"10px",overflowX:"auto",whiteSpace:"nowrap"},children:i.map((l,u)=>p.jsx("div",{style:{minWidth:"100%"},children:a(l)},u))})})]}),p.jsx("div",{className:"position-relative mt-3 text-center",children:p.jsx(ne,{color:"danger",size:"sm",onClick:()=>r(e,n),children:"Delete"})})]})};qk.propTypes={subcard:Y.object.isRequired,cardIndex:Y.number.isRequired,subIndex:Y.number.isRequired,onDelete:Y.func.isRequired};const JK="_customBackground_5qxpq_1",Sv={customBackground:JK},ZK=({addModal:t,toggleAddModal:e,handleAddSubCard:n})=>{const[r,i]=v.useState(""),[s,o]=v.useState(""),[a,l]=v.useState([]),[u,d]=v.useState([]),[h,f]=v.useState(""),[m,y]=v.useState(""),[T,S]=v.useState(""),b=()=>{i(""),o(""),d([]),f(""),y(""),S("")},x=()=>{n({category:s||r,files:u.length>0?u:[],expireDate:h,notifyDate:m,details:T}),b()},E=A=>{o(A)},R=()=>{r.trim()!==""&&!a.includes(r)&&(l([...a,r]),i(""))},O=A=>{l(a.filter(_=>_!==A))};return p.jsx(eo,{open:t,onClose:e,tabIndex:"-1",children:p.jsx(Qi,{className:"modal-dialog-centered modal-lg",children:p.jsxs(Yi,{className:"bgAddCardModal shadow-lg rounded-lg border border-light",children:[p.jsxs(Xi,{className:"border-bottom border-light",children:[p.jsx(Ji,{className:"text-dark",children:"Add Details"}),p.jsx(ne,{className:"btn-close btn-close-white",color:"none",onClick:e})]}),p.jsxs(Zi,{children:[p.jsxs(Ca,{className:"mb-3",children:[p.jsx(ba,{color:"bg-primary bg-gradient",className:"w-100 text-dark",children:s||"Select Category"}),p.jsxs(Sa,{className:"w-100 p-2 shadow-lg rounded bgMebuDropdown",children:[p.jsx(Se,{onClick:()=>E("Zboruri"),className:"dropdown-item-custom",children:"Zboruri"}),p.jsx(Se,{onClick:()=>E("Hoteluri"),className:"dropdown-item-custom",children:"Hoteluri"}),p.jsx(Se,{onClick:()=>E("Asigurare de călătorie"),className:"dropdown-item-custom",children:"Asigurare de călătorie"}),p.jsx(Se,{onClick:()=>E("Concerte"),className:"dropdown-item-custom",children:"Concerte"}),a.map(A=>p.jsx("div",{className:"d-flex align-items-center",children:p.jsxs(Se,{onClick:()=>E(A),className:"dropdown-item-custom flex-grow-1 positionCategoryNew",children:[A,p.jsx(Mn,{className:"trash-iconAdd",onClick:()=>O(A)})]})},A)),p.jsx("div",{className:"dropdown-divider my-2"}),p.jsxs("div",{className:"inputCreateCategory ",children:[p.jsx(he,{label:"Create Your Own Category",value:r,onChange:A=>i(A.target.value),className:"custom-input-category  flex-grow-1"}),p.jsx(ne,{onClick:R,className:" btnAddCategory",children:"Add"})]})]})]}),p.jsx(he,{type:"file",multiple:!0,onChange:A=>d(Array.from(A.target.files).map(_=>_)),className:"mb-3 border border-info text-dark"}),p.jsx(he,{type:"date",value:h,onChange:A=>f(A.target.value),className:"mb-3 border border-info text-white"}),p.jsx(he,{type:"datetime-local",value:m,onChange:A=>y(A.target.value),className:"mb-3 border border-info text-white"}),p.jsx(he,{type:"textarea",value:T,onChange:A=>S(A.target.value),className:"mb-3 border border-info text-white"})]}),p.jsxs(es,{className:"border-top border-light",children:[p.jsx(ne,{color:"dark",onClick:e,className:"me-2",children:"Cancel"}),p.jsx(ne,{color:"light",onClick:x,children:"Add Card"})]})]})})})},eG=async t=>{const e=kn(Nn,t);return(await Ma(e)).contentType},tG=async(t,e)=>{try{const n=mn(gn,`users/${t.uid}/componentV`,"cardsVacantions"),r=await Da(n);r.exists()?e(r.data().cardsVacantions||[]):console.log("No cardsVacantions found for the user.")}catch(n){console.error("Error loading cardsVacantions: ",n)}},bl=async(t,e)=>{try{const n=mn(gn,`users/${t.uid}/componentV`,"cardsVacantions");await io(n,{cardsVacantions:e},{merge:!0}),console.log("CardsVacantions saved successfully for ComponentV.")}catch(n){console.error("Error saving cardsVacantions for ComponentV: ",n)}},nG=()=>{const[t,e]=v.useState(!1),[n,r]=v.useState(!1),[i,s]=v.useState(""),[o,a]=v.useState([]),[l,u]=v.useState(null),[d,h]=v.useState(null),[f,m]=v.useState(!1);v.useEffect(()=>{const _=Pa(Gr,w=>{w&&(h(w),tG(w,a))});return()=>_()},[]);const y=()=>e(!t),T=_=>{u(_),r(!n)},S=()=>{if(i.trim()!==""){const _=[...o,{title:i,subcards:[]}];a(_),bl(d,_),s(""),y()}},b=async _=>{try{let w=[];if(_.files.length>0)for(const N of _.files){const M=kn(Nn,`uploads/${N.name}`);await Oa(M,N);const D=await La(M);w.push(D)}const I={..._,files:w},P=[...o];l!==null&&(P[l].subcards.push(I),a(P),bl(d,P),T(null))}catch(w){console.error("Error adding subcard: ",w)}},x=_=>{const w=o.filter((I,P)=>P!==_);a(w),bl(d,w)},E=(_,w)=>{const I=[...o];I[_].title=w,a(I),bl(d,I)},R=(_,w)=>{const I=[...o];I[_].subcards=I[_].subcards.filter((P,N)=>N!==w),a(I),bl(d,I)},O=()=>{!f&&window.pageYOffset>400?m(!0):f&&window.pageYOffset<=400&&m(!1)},A=()=>{window.scrollTo({top:0,behavior:"smooth"})};return v.useEffect(()=>(window.addEventListener("scroll",O),()=>window.removeEventListener("scroll",O)),[f]),p.jsxs(gr,{fluid:!0,className:Sv.customBackground,children:[p.jsx(Ye,{children:p.jsxs(Te,{className:"text-center z-1",children:[p.jsx("h2",{className:"mb-3 custom-font",children:"Create an Event for Vacantions"}),p.jsx(ne,{className:"bkCreateEvent",onClick:y,children:"Create Event"})]})}),p.jsx(Ye,{className:"mt-4 d-flex flex-column align-items-center positionCardHome z-1",children:o.map((_,w)=>p.jsx(Kk,{card:_,index:w,onEdit:E,onDelete:x,onAddSubCard:T,onDeleteSubCard:R},w))}),p.jsx(Ba,{basicModal:t,toggleModal:y,eventTitle:i,setEventTitle:s,handleSaveEvent:S}),p.jsx(ZK,{addModal:n,toggleAddModal:T,handleAddSubCard:b}),p.jsx("div",{className:"scrollTop",onClick:A,style:{position:"fixed",right:"30px",bottom:"30px",zIndex:1e3,cursor:"pointer",display:f?"flex":"none"},children:p.jsx(Ua,{size:40})})]})},Kk=({card:t,index:e,onEdit:n,onDelete:r,onAddSubCard:i,onDeleteSubCard:s})=>p.jsx(Te,{sm:"12",className:"mb-4",children:p.jsx(Bt,{className:"shadow-lg position-relative bgCardHome",children:p.jsxs(Ut,{className:"flexCardBody",children:[p.jsxs(pn,{className:"titlecardHome",children:[t.title,p.jsx($a,{className:"edit-icon",onClick:()=>{const o=prompt("Edit title:",t.title);o!==null&&o.trim()!==""&&n(e,o)}})]}),p.jsx(ne,{size:"sm",className:"addCardHome",onClick:()=>i(e),children:"Add"}),p.jsx(Mn,{className:"trash-icon",onClick:()=>r(e)}),t.subcards.map((o,a)=>p.jsx(Gk,{subcard:o,cardIndex:e,subIndex:a,onDelete:s},a))]})})});Kk.propTypes={card:Y.object.isRequired,index:Y.number.isRequired,onEdit:Y.func.isRequired,onDelete:Y.func.isRequired,onAddSubCard:Y.func.isRequired,onDeleteSubCard:Y.func.isRequired};const Gk=({subcard:t,cardIndex:e,subIndex:n,onDelete:r})=>{const[i,s]=v.useState([]);v.useEffect(()=>{const l=async()=>{const u=await Promise.all(t.files.map(async d=>{const h=await eG(d);return{url:d,type:h}}));s(u)};t.files&&t.files.length>0&&l()},[t.files]);const o=l=>{window.confirm("Ești sigur că vrei să descarci fișierul?")&&window.open(l,"_blank")},a=l=>l.type.startsWith("image/")?p.jsx("img",{src:l.url,alt:"Subcard image",className:`${Sv.zoomImage} img-fluid`,onClick:()=>o(l.url),style:{paddingTop:"2rem",cursor:"pointer",width:"90%",height:"auto"}}):l.type==="application/pdf"?p.jsx("iframe",{src:l.url,title:"PDF File",onClick:()=>o(l.url),style:{cursor:"pointer",width:"100%",height:"400px",border:"none"}}):l.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||l.type==="application/msword"?p.jsx("div",{className:"d-flex align-items-center justify-content-center",onClick:()=>o(l.url),style:{cursor:"pointer"},children:p.jsx("img",{className:`${Sv.zoomImage} img-fluid`,src:"/doc-document-file-svgrepo-com.svg",alt:"Word Document Icon",style:{width:"90%",height:"auto"}})}):p.jsxs("p",{children:["Unsupported file type: ",l.type]});return p.jsxs(Bt,{className:"mb-3 CardEventStyles",children:[p.jsxs(Ye,{className:"g-0 flex-column flex-md-row",children:[p.jsx(Te,{xs:"12",md:i.some(l=>l.type==="application/pdf")?"5":"7",className:"order-md-2 order-1",children:p.jsxs(Ut,{children:[p.jsx(pn,{children:t.category}),p.jsx(st,{children:t.details}),p.jsx(st,{children:p.jsxs("small",{className:"text-muted",children:["Expire Date: ",t.expireDate]})}),p.jsx(st,{children:p.jsxs("small",{className:"text-muted",children:["Notify Date: ",t.notifyDate]})})]})}),p.jsx(Te,{xs:"12",md:i.some(l=>l.type==="application.pdf")?"7":"5",className:"order-md-1 order-2",children:p.jsx("div",{className:"file-scroll-container",style:{display:"flex",gap:"10px",overflowX:"auto",whiteSpace:"nowrap"},children:i.map((l,u)=>p.jsx("div",{style:{minWidth:"100%"},children:a(l)},u))})})]}),p.jsx("div",{className:"position-relative mt-3 text-center",children:p.jsx(ne,{color:"danger",size:"sm",onClick:()=>r(e,n),children:"Delete"})})]})};Gk.propTypes={subcard:Y.object.isRequired,cardIndex:Y.number.isRequired,subIndex:Y.number.isRequired,onDelete:Y.func.isRequired};const rG="_customBackground_1c5i7_1",iG="_zoomImage_1c5i7_14",bv={customBackground:rG,zoomImage:iG},sG=({addModal:t,toggleAddModal:e,handleAddSubCard:n})=>{const[r,i]=v.useState(""),[s,o]=v.useState(""),[a,l]=v.useState([]),[u,d]=v.useState([]),[h,f]=v.useState(""),[m,y]=v.useState(""),[T,S]=v.useState(""),b=()=>{i(""),o(""),d([]),f(""),y(""),S("")},x=()=>{n({category:s||r,files:u.length>0?u:[],expireDate:h,notifyDate:m,details:T}),b()},E=A=>{o(A)},R=()=>{r.trim()!==""&&!a.includes(r)&&(l([...a,r]),i(""))},O=A=>{l(a.filter(_=>_!==A))};return p.jsx(eo,{open:t,onClose:e,tabIndex:"-1",children:p.jsx(Qi,{className:"modal-dialog-centered modal-lg",children:p.jsxs(Yi,{className:"bgAddCardModal shadow-lg rounded-lg border border-light",children:[p.jsxs(Xi,{className:"border-bottom border-light",children:[p.jsx(Ji,{className:"text-dark",children:"Add Details"}),p.jsx(ne,{className:"btn-close btn-close-white",color:"none",onClick:e})]}),p.jsxs(Zi,{children:[p.jsxs(Ca,{className:"mb-3",children:[p.jsx(ba,{color:"bg-primary bg-gradient",className:"w-100 text-dark",children:s||"Select Category"}),p.jsxs(Sa,{className:"w-100 p-2 shadow-lg rounded bgMebuDropdown",children:[p.jsx(Se,{onClick:()=>E("Zi de nastere"),className:"dropdown-item-custom",children:"Zi de nastere"}),p.jsx(Se,{onClick:()=>E("Zi de nume"),className:"dropdown-item-custom",children:"Zi de nume"}),a.map(A=>p.jsx("div",{className:"d-flex align-items-center",children:p.jsxs(Se,{onClick:()=>E(A),className:"dropdown-item-custom flex-grow-1 positionCategoryNew",children:[A,p.jsx(Mn,{className:"trash-iconAdd",onClick:()=>O(A)})]})},A)),p.jsx("div",{className:"dropdown-divider my-2"}),p.jsxs("div",{className:"inputCreateCategory ",children:[p.jsx(he,{label:"Create Your Own Category",value:r,onChange:A=>i(A.target.value),className:"custom-input-category  flex-grow-1"}),p.jsx(ne,{onClick:R,className:" btnAddCategory",children:"Add"})]})]})]}),p.jsx(he,{type:"file",multiple:!0,onChange:A=>d(Array.from(A.target.files).map(_=>_)),className:"mb-3 border border-info text-dark"}),p.jsx(he,{type:"date",value:h,onChange:A=>f(A.target.value),className:"mb-3 border border-info text-white"}),p.jsx(he,{type:"datetime-local",value:m,onChange:A=>y(A.target.value),className:"mb-3 border border-info text-white"}),p.jsx(he,{type:"textarea",value:T,onChange:A=>S(A.target.value),className:"mb-3 border border-info text-white"})]}),p.jsxs(es,{className:"border-top border-light",children:[p.jsx(ne,{color:"dark",onClick:e,className:"me-2",children:"Cancel"}),p.jsx(ne,{color:"light",onClick:x,children:"Add Card"})]})]})})})},oG=async t=>{const e=kn(Nn,t);return(await Ma(e)).contentType},aG=async(t,e)=>{try{const n=mn(gn,`users/${t.uid}/componentB`,"CardBirthDay"),r=await Da(n);r.exists()?e(r.data().CardBirthDay||[]):console.log("No CardBirthDay found for the user.")}catch(n){console.error("Error loading CardBirthDay: ",n)}},Il=async(t,e)=>{try{const n=mn(gn,`users/${t.uid}/componentB`,"CardBirthDay");await io(n,{CardBirthDay:e},{merge:!0}),console.log("CardBirthDay saved successfully for ComponentB.")}catch(n){console.error("Error saving CardBirthDay for ComponentB: ",n)}},lG=()=>{const[t,e]=v.useState(!1),[n,r]=v.useState(!1),[i,s]=v.useState(""),[o,a]=v.useState([]),[l,u]=v.useState(null),[d,h]=v.useState(null),[f,m]=v.useState(!1);v.useEffect(()=>{const _=Pa(Gr,w=>{w&&(h(w),aG(w,a))});return()=>_()},[]);const y=()=>e(!t),T=_=>{u(_),r(!n)},S=()=>{if(i.trim()!==""){const _=[...o,{title:i,subcards:[]}];a(_),Il(d,_),s(""),y()}},b=async _=>{try{let w=[];if(_.files.length>0)for(const N of _.files){const M=kn(Nn,`uploads/${N.name}`);await Oa(M,N);const D=await La(M);w.push(D)}const I={..._,files:w},P=[...o];l!==null&&(P[l].subcards.push(I),a(P),Il(d,P),T(null))}catch(w){console.error("Error adding subcard: ",w)}},x=_=>{const w=o.filter((I,P)=>P!==_);a(w),Il(d,w)},E=(_,w)=>{const I=[...o];I[_].title=w,a(I),Il(d,I)},R=(_,w)=>{const I=[...o];I[_].subcards=I[_].subcards.filter((P,N)=>N!==w),a(I),Il(d,I)},O=()=>{!f&&window.pageYOffset>400?m(!0):f&&window.pageYOffset<=400&&m(!1)},A=()=>{window.scrollTo({top:0,behavior:"smooth"})};return v.useEffect(()=>(window.addEventListener("scroll",O),()=>window.removeEventListener("scroll",O)),[f]),p.jsxs(gr,{fluid:!0,className:bv.customBackground,children:[p.jsx(Ye,{children:p.jsxs(Te,{className:"text-center z-1",children:[p.jsx("h2",{className:"mb-3 custom-font",children:"Create an Event for Birthday"}),p.jsx(ne,{className:"bkCreateEvent",onClick:y,children:"Create Event"})]})}),p.jsx(Ye,{className:"mt-4 d-flex flex-column align-items-center positionCardHome z-1",children:o.map((_,w)=>p.jsx(Qk,{card:_,index:w,onEdit:E,onDelete:x,onAddSubCard:T,onDeleteSubCard:R},w))}),p.jsx(Ba,{basicModal:t,toggleModal:y,eventTitle:i,setEventTitle:s,handleSaveEvent:S}),p.jsx(sG,{addModal:n,toggleAddModal:T,handleAddSubCard:b}),p.jsx("div",{className:"scrollTop",onClick:A,style:{position:"fixed",right:"30px",bottom:"30px",zIndex:1e3,cursor:"pointer",display:f?"flex":"none"},children:p.jsx(Ua,{size:40})})]})},Qk=({card:t,index:e,onEdit:n,onDelete:r,onAddSubCard:i,onDeleteSubCard:s})=>p.jsx(Te,{sm:"12",className:"mb-4",children:p.jsx(Bt,{className:"shadow-lg position-relative bgCardHome",children:p.jsxs(Ut,{className:"flexCardBody",children:[p.jsxs(pn,{className:"titlecardHome",children:[t.title,p.jsx($a,{className:"edit-icon",onClick:()=>{const o=prompt("Edit title:",t.title);o!==null&&o.trim()!==""&&n(e,o)}})]}),p.jsx(ne,{size:"sm",className:"addCardHome",onClick:()=>i(e),children:"Add"}),p.jsx(Mn,{className:"trash-icon",onClick:()=>r(e)}),t.subcards.map((o,a)=>p.jsx(Yk,{subcard:o,cardIndex:e,subIndex:a,onDelete:s},a))]})})});Qk.propTypes={card:Y.object.isRequired,index:Y.number.isRequired,onEdit:Y.func.isRequired,onDelete:Y.func.isRequired,onAddSubCard:Y.func.isRequired,onDeleteSubCard:Y.func.isRequired};const Yk=({subcard:t,cardIndex:e,subIndex:n,onDelete:r})=>{const[i,s]=v.useState([]);v.useEffect(()=>{const l=async()=>{const u=await Promise.all(t.files.map(async d=>{const h=await oG(d);return{url:d,type:h}}));s(u)};t.files&&t.files.length>0&&l()},[t.files]);const o=l=>{window.confirm("Ești sigur că vrei să descarci fișierul?")&&window.open(l,"_blank")},a=l=>l.type.startsWith("image/")?p.jsx("img",{src:l.url,alt:"Subcard image",className:`${bv.zoomImage} img-fluid`,onClick:()=>o(l.url),style:{paddingTop:"2rem",cursor:"pointer",width:"90%",height:"auto"}}):l.type==="application/pdf"?p.jsx("iframe",{src:l.url,title:"PDF File",onClick:()=>o(l.url),style:{cursor:"pointer",width:"100%",height:"400px",border:"none"}}):l.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||l.type==="application/msword"?p.jsx("div",{className:"d-flex align-items-center justify-content-center",onClick:()=>o(l.url),style:{cursor:"pointer"},children:p.jsx("img",{className:`${bv.zoomImage} img-fluid`,src:"/doc-document-file-svgrepo-com.svg",alt:"Word Document Icon",style:{width:"90%",height:"auto"}})}):p.jsxs("p",{children:["Unsupported file type: ",l.type]});return p.jsxs(Bt,{className:"mb-3 CardEventStyles",children:[p.jsxs(Ye,{className:"g-0 flex-column flex-md-row",children:[p.jsx(Te,{xs:"12",md:i.some(l=>l.type==="application/pdf")?"5":"7",className:"order-md-2 order-1",children:p.jsxs(Ut,{children:[p.jsx(pn,{children:t.category}),p.jsx(st,{children:t.details}),p.jsx(st,{children:p.jsxs("small",{className:"text-muted",children:["Expire Date: ",t.expireDate]})}),p.jsx(st,{children:p.jsxs("small",{className:"text-muted",children:["Notify Date: ",t.notifyDate]})})]})}),p.jsx(Te,{xs:"12",md:i.some(l=>l.type==="application.pdf")?"7":"5",className:"order-md-1 order-2",children:p.jsx("div",{className:"file-scroll-container",style:{display:"flex",gap:"10px",overflowX:"auto",whiteSpace:"nowrap"},children:i.map((l,u)=>p.jsx("div",{style:{minWidth:"100%"},children:a(l)},u))})})]}),p.jsx("div",{className:"position-relative mt-3 text-center",children:p.jsx(ne,{color:"danger",size:"sm",onClick:()=>r(e,n),children:"Delete"})})]})};Yk.propTypes={subcard:Y.object.isRequired,cardIndex:Y.number.isRequired,subIndex:Y.number.isRequired,onDelete:Y.func.isRequired};const uG=()=>{const[t,e]=v.useState("home"),n=()=>{switch(t){case"home":return p.jsx(BK,{});case"auto":return p.jsx(MK,{});case"pets":return p.jsx(qK,{});case"school":return p.jsx(XK,{});case"vacations":return p.jsx(nG,{});case"birthday":return p.jsx(lG,{});default:return p.jsx(Home,{})}};return p.jsxs("div",{className:"flex flex-grow heightPage",children:[p.jsx(RK,{setActivePage:e}),p.jsx("div",{className:"flex-grow  bg-white",children:n()})]})},cG=()=>p.jsx("div",{children:p.jsx(uG,{})}),dG="_customBackground_5qxpq_1",hG={customBackground:dG},fG=()=>p.jsxs("div",{className:hG.customBackground,children:[p.jsx("h1",{children:"About Page"}),p.jsx("p",{children:"This is the About page."})]}),pG="_customBackground_5qxpq_1",mG={customBackground:pG},gG=()=>p.jsxs("div",{className:mG.customBackground,children:[" ",p.jsx("h1",{children:"Calendar Page"}),p.jsx("p",{children:"This is the Calendar page."})]}),vG=()=>p.jsxs("div",{children:[p.jsx("h1",{children:"Notifications"}),p.jsx("p",{children:"This is the notifications page."})]}),yG=()=>p.jsxs("div",{children:[p.jsx("h1",{children:"Profile Page"}),p.jsx("p",{children:"This is the profile page."})]}),wG=()=>p.jsxs("div",{className:"z-1",children:[p.jsx(_K,{}),p.jsx("main",{className:"flex-grow",children:p.jsxs(ab,{children:[p.jsx(er,{path:"/",element:p.jsx(cG,{})}),p.jsx(er,{path:"/about",element:p.jsx(fG,{})}),p.jsx(er,{path:"/calendar",element:p.jsx(gG,{})}),p.jsx(er,{path:"/notifications",element:p.jsx(vG,{})}),p.jsx(er,{path:"/profile",element:p.jsx(yG,{})})]})}),p.jsx(EK,{})]});function _G(){return p.jsx(UO,{children:p.jsxs(ab,{children:[p.jsx(er,{path:"/",element:p.jsx(lH,{})}),p.jsx(er,{path:"/signup",element:p.jsx(uH,{})}),p.jsx(er,{path:"/forgot",element:p.jsx(cH,{})}),p.jsx(er,{path:"/dashboard/*",element:p.jsx(wG,{})})]})})}YS(document.getElementById("root")).render(p.jsx(v.StrictMode,{children:p.jsx(_G,{})}));
